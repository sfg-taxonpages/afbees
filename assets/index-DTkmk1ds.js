var D_=Object.defineProperty;var R_=(t,i,s)=>i in t?D_(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s;var oe=(t,i,s)=>R_(t,typeof i!="symbol"?i+"":i,s);(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))u(p);new MutationObserver(p=>{for(const l of p)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&u(h)}).observe(document,{childList:!0,subtree:!0});function s(p){const l={};return p.integrity&&(l.integrity=p.integrity),p.referrerPolicy&&(l.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?l.credentials="include":p.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function u(p){if(p.ep)return;p.ep=!0;const l=s(p);fetch(p.href,l)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function Tc(t,i){const s=new Set(t.split(","));return u=>s.has(u)}const Xe={},jo=[],hi=()=>{},I_=()=>!1,ea=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ac=t=>t.startsWith("onUpdate:"),Ln=Object.assign,Oc=(t,i)=>{const s=t.indexOf(i);s>-1&&t.splice(s,1)},F_=Object.prototype.hasOwnProperty,De=(t,i)=>F_.call(t,i),ce=Array.isArray,zo=t=>wl(t)==="[object Map]",Gd=t=>wl(t)==="[object Set]",ge=t=>typeof t=="function",ln=t=>typeof t=="string",Cr=t=>typeof t=="symbol",We=t=>t!==null&&typeof t=="object",Hd=t=>(We(t)||ge(t))&&ge(t.then)&&ge(t.catch),Ud=Object.prototype.toString,wl=t=>Ud.call(t),N_=t=>wl(t).slice(8,-1),Zd=t=>wl(t)==="[object Object]",Dc=t=>ln(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Vo=Tc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),kl=t=>{const i=Object.create(null);return s=>i[s]||(i[s]=t(s))},j_=/-(\w)/g,xi=kl(t=>t.replace(j_,(i,s)=>s?s.toUpperCase():"")),z_=/\B([A-Z])/g,eo=kl(t=>t.replace(z_,"-$1").toLowerCase()),Ml=kl(t=>t.charAt(0).toUpperCase()+t.slice(1)),Fu=kl(t=>t?`on${Ml(t)}`:""),br=(t,i)=>!Object.is(t,i),rl=(t,...i)=>{for(let s=0;s<t.length;s++)t[s](...i)},qd=(t,i,s,u=!1)=>{Object.defineProperty(t,i,{configurable:!0,enumerable:!1,writable:u,value:s})},rc=t=>{const i=parseFloat(t);return isNaN(i)?t:i},V_=t=>{const i=ln(t)?Number(t):NaN;return isNaN(i)?t:i};let mh;const Kd=()=>mh||(mh=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Oi(t){if(ce(t)){const i={};for(let s=0;s<t.length;s++){const u=t[s],p=ln(u)?U_(u):Oi(u);if(p)for(const l in p)i[l]=p[l]}return i}else if(ln(t)||We(t))return t}const $_=/;(?![^(]*\))/g,G_=/:([^]+)/,H_=/\/\*[^]*?\*\//g;function U_(t){const i={};return t.replace(H_,"").split($_).forEach(s=>{if(s){const u=s.split(G_);u.length>1&&(i[u[0].trim()]=u[1].trim())}}),i}function kn(t){let i="";if(ln(t))i=t;else if(ce(t))for(let s=0;s<t.length;s++){const u=kn(t[s]);u&&(i+=u+" ")}else if(We(t))for(const s in t)t[s]&&(i+=s+" ");return i.trim()}const Z_="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",q_=Tc(Z_);function Wd(t){return!!t||t===""}const Jd=t=>!!(t&&t.__v_isRef===!0),ae=t=>ln(t)?t:t==null?"":ce(t)||We(t)&&(t.toString===Ud||!ge(t.toString))?Jd(t)?ae(t.value):JSON.stringify(t,Yd,2):String(t),Yd=(t,i)=>Jd(i)?Yd(t,i.value):zo(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((s,[u,p],l)=>(s[Nu(u,l)+" =>"]=p,s),{})}:Gd(i)?{[`Set(${i.size})`]:[...i.values()].map(s=>Nu(s))}:Cr(i)?Nu(i):We(i)&&!ce(i)&&!Zd(i)?String(i):i,Nu=(t,i="")=>{var s;return Cr(t)?`Symbol(${(s=t.description)!=null?s:i})`:t};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Xn;class Xd{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Xn,!i&&Xn&&(this.index=(Xn.scopes||(Xn.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const s=Xn;try{return Xn=this,i()}finally{Xn=s}}}on(){Xn=this}off(){Xn=this.parent}stop(i){if(this._active){let s,u;for(s=0,u=this.effects.length;s<u;s++)this.effects[s].stop();for(s=0,u=this.cleanups.length;s<u;s++)this.cleanups[s]();if(this.scopes)for(s=0,u=this.scopes.length;s<u;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!i){const p=this.parent.scopes.pop();p&&p!==this&&(this.parent.scopes[this.index]=p,p.index=this.index)}this.parent=void 0,this._active=!1}}}function Qd(t){return new Xd(t)}function K_(t,i=Xn){i&&i.active&&i.effects.push(t)}function tp(){return Xn}function W_(t){Xn&&Xn.cleanups.push(t)}let Kr;class Rc{constructor(i,s,u,p){this.fn=i,this.trigger=s,this.scheduler=u,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,K_(this,p)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,wr();for(let i=0;i<this._depsLength;i++){const s=this.deps[i];if(s.computed&&(J_(s.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),kr()}return this._dirtyLevel>=4}set dirty(i){this._dirtyLevel=i?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let i=gr,s=Kr;try{return gr=!0,Kr=this,this._runnings++,gh(this),this.fn()}finally{yh(this),this._runnings--,Kr=s,gr=i}}stop(){this.active&&(gh(this),yh(this),this.onStop&&this.onStop(),this.active=!1)}}function J_(t){return t.value}function gh(t){t._trackId++,t._depsLength=0}function yh(t){if(t.deps.length>t._depsLength){for(let i=t._depsLength;i<t.deps.length;i++)ep(t.deps[i],t);t.deps.length=t._depsLength}}function ep(t,i){const s=t.get(i);s!==void 0&&i._trackId!==s&&(t.delete(i),t.size===0&&t.cleanup())}let gr=!0,oc=0;const np=[];function wr(){np.push(gr),gr=!1}function kr(){const t=np.pop();gr=t===void 0?!0:t}function Ic(){oc++}function Fc(){for(oc--;!oc&&sc.length;)sc.shift()()}function ip(t,i,s){if(i.get(t)!==t._trackId){i.set(t,t._trackId);const u=t.deps[t._depsLength];u!==i?(u&&ep(u,t),t.deps[t._depsLength++]=i):t._depsLength++}}const sc=[];function rp(t,i,s){Ic();for(const u of t.keys()){let p;u._dirtyLevel<i&&(p??(p=t.get(u)===u._trackId))&&(u._shouldSchedule||(u._shouldSchedule=u._dirtyLevel===0),u._dirtyLevel=i),u._shouldSchedule&&(p??(p=t.get(u)===u._trackId))&&(u.trigger(),(!u._runnings||u.allowRecurse)&&u._dirtyLevel!==2&&(u._shouldSchedule=!1,u.scheduler&&sc.push(u.scheduler)))}Fc()}const op=(t,i)=>{const s=new Map;return s.cleanup=t,s.computed=i,s},dl=new WeakMap,Wr=Symbol(""),ac=Symbol("");function Kn(t,i,s){if(gr&&Kr){let u=dl.get(t);u||dl.set(t,u=new Map);let p=u.get(s);p||u.set(s,p=op(()=>u.delete(s))),ip(Kr,p)}}function qi(t,i,s,u,p,l){const h=dl.get(t);if(!h)return;let _=[];if(i==="clear")_=[...h.values()];else if(s==="length"&&ce(t)){const y=Number(u);h.forEach((b,w)=>{(w==="length"||!Cr(w)&&w>=y)&&_.push(b)})}else switch(s!==void 0&&_.push(h.get(s)),i){case"add":ce(t)?Dc(s)&&_.push(h.get("length")):(_.push(h.get(Wr)),zo(t)&&_.push(h.get(ac)));break;case"delete":ce(t)||(_.push(h.get(Wr)),zo(t)&&_.push(h.get(ac)));break;case"set":zo(t)&&_.push(h.get(Wr));break}Ic();for(const y of _)y&&rp(y,4);Fc()}function Y_(t,i){const s=dl.get(t);return s&&s.get(i)}const X_=Tc("__proto__,__v_isRef,__isVue"),sp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Cr)),vh=Q_();function Q_(){const t={};return["includes","indexOf","lastIndexOf"].forEach(i=>{t[i]=function(...s){const u=Re(this);for(let l=0,h=this.length;l<h;l++)Kn(u,"get",l+"");const p=u[i](...s);return p===-1||p===!1?u[i](...s.map(Re)):p}}),["push","pop","shift","unshift","splice"].forEach(i=>{t[i]=function(...s){wr(),Ic();const u=Re(this)[i].apply(this,s);return Fc(),kr(),u}}),t}function tm(t){Cr(t)||(t=String(t));const i=Re(this);return Kn(i,"has",t),i.hasOwnProperty(t)}class ap{constructor(i=!1,s=!1){this._isReadonly=i,this._isShallow=s}get(i,s,u){const p=this._isReadonly,l=this._isShallow;if(s==="__v_isReactive")return!p;if(s==="__v_isReadonly")return p;if(s==="__v_isShallow")return l;if(s==="__v_raw")return u===(p?l?pm:hp:l?cp:up).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(u)?i:void 0;const h=ce(i);if(!p){if(h&&De(vh,s))return Reflect.get(vh,s,u);if(s==="hasOwnProperty")return tm}const _=Reflect.get(i,s,u);return(Cr(s)?sp.has(s):X_(s))||(p||Kn(i,"get",s),l)?_:gn(_)?h&&Dc(s)?_:_.value:We(_)?p?pp(_):na(_):_}}class lp extends ap{constructor(i=!1){super(!1,i)}set(i,s,u,p){let l=i[s];if(!this._isShallow){const y=Qr(l);if(!Ho(u)&&!Qr(u)&&(l=Re(l),u=Re(u)),!ce(i)&&gn(l)&&!gn(u))return y?!1:(l.value=u,!0)}const h=ce(i)&&Dc(s)?Number(s)<i.length:De(i,s),_=Reflect.set(i,s,u,p);return i===Re(p)&&(h?br(u,l)&&qi(i,"set",s,u):qi(i,"add",s,u)),_}deleteProperty(i,s){const u=De(i,s);i[s];const p=Reflect.deleteProperty(i,s);return p&&u&&qi(i,"delete",s,void 0),p}has(i,s){const u=Reflect.has(i,s);return(!Cr(s)||!sp.has(s))&&Kn(i,"has",s),u}ownKeys(i){return Kn(i,"iterate",ce(i)?"length":Wr),Reflect.ownKeys(i)}}class em extends ap{constructor(i=!1){super(!0,i)}set(i,s){return!0}deleteProperty(i,s){return!0}}const nm=new lp,im=new em,rm=new lp(!0);const Nc=t=>t,El=t=>Reflect.getPrototypeOf(t);function Wa(t,i,s=!1,u=!1){t=t.__v_raw;const p=Re(t),l=Re(i);s||(br(i,l)&&Kn(p,"get",i),Kn(p,"get",l));const{has:h}=El(p),_=u?Nc:s?$c:Zs;if(h.call(p,i))return _(t.get(i));if(h.call(p,l))return _(t.get(l));t!==p&&t.get(i)}function Ja(t,i=!1){const s=this.__v_raw,u=Re(s),p=Re(t);return i||(br(t,p)&&Kn(u,"has",t),Kn(u,"has",p)),t===p?s.has(t):s.has(t)||s.has(p)}function Ya(t,i=!1){return t=t.__v_raw,!i&&Kn(Re(t),"iterate",Wr),Reflect.get(t,"size",t)}function bh(t,i=!1){!i&&!Ho(t)&&!Qr(t)&&(t=Re(t));const s=Re(this);return El(s).has.call(s,t)||(s.add(t),qi(s,"add",t,t)),this}function xh(t,i,s=!1){!s&&!Ho(i)&&!Qr(i)&&(i=Re(i));const u=Re(this),{has:p,get:l}=El(u);let h=p.call(u,t);h||(t=Re(t),h=p.call(u,t));const _=l.call(u,t);return u.set(t,i),h?br(i,_)&&qi(u,"set",t,i):qi(u,"add",t,i),this}function Lh(t){const i=Re(this),{has:s,get:u}=El(i);let p=s.call(i,t);p||(t=Re(t),p=s.call(i,t)),u&&u.call(i,t);const l=i.delete(t);return p&&qi(i,"delete",t,void 0),l}function Ch(){const t=Re(this),i=t.size!==0,s=t.clear();return i&&qi(t,"clear",void 0,void 0),s}function Xa(t,i){return function(u,p){const l=this,h=l.__v_raw,_=Re(h),y=i?Nc:t?$c:Zs;return!t&&Kn(_,"iterate",Wr),h.forEach((b,w)=>u.call(p,y(b),y(w),l))}}function Qa(t,i,s){return function(...u){const p=this.__v_raw,l=Re(p),h=zo(l),_=t==="entries"||t===Symbol.iterator&&h,y=t==="keys"&&h,b=p[t](...u),w=s?Nc:i?$c:Zs;return!i&&Kn(l,"iterate",y?ac:Wr),{next(){const{value:k,done:T}=b.next();return T?{value:k,done:T}:{value:_?[w(k[0]),w(k[1])]:w(k),done:T}},[Symbol.iterator](){return this}}}}function sr(t){return function(...i){return t==="delete"?!1:t==="clear"?void 0:this}}function om(){const t={get(l){return Wa(this,l)},get size(){return Ya(this)},has:Ja,add:bh,set:xh,delete:Lh,clear:Ch,forEach:Xa(!1,!1)},i={get(l){return Wa(this,l,!1,!0)},get size(){return Ya(this)},has:Ja,add(l){return bh.call(this,l,!0)},set(l,h){return xh.call(this,l,h,!0)},delete:Lh,clear:Ch,forEach:Xa(!1,!0)},s={get(l){return Wa(this,l,!0)},get size(){return Ya(this,!0)},has(l){return Ja.call(this,l,!0)},add:sr("add"),set:sr("set"),delete:sr("delete"),clear:sr("clear"),forEach:Xa(!0,!1)},u={get(l){return Wa(this,l,!0,!0)},get size(){return Ya(this,!0)},has(l){return Ja.call(this,l,!0)},add:sr("add"),set:sr("set"),delete:sr("delete"),clear:sr("clear"),forEach:Xa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{t[l]=Qa(l,!1,!1),s[l]=Qa(l,!0,!1),i[l]=Qa(l,!1,!0),u[l]=Qa(l,!0,!0)}),[t,s,i,u]}const[sm,am,lm,um]=om();function jc(t,i){const s=i?t?um:lm:t?am:sm;return(u,p,l)=>p==="__v_isReactive"?!t:p==="__v_isReadonly"?t:p==="__v_raw"?u:Reflect.get(De(s,p)&&p in u?s:u,p,l)}const cm={get:jc(!1,!1)},hm={get:jc(!1,!0)},dm={get:jc(!0,!1)};const up=new WeakMap,cp=new WeakMap,hp=new WeakMap,pm=new WeakMap;function fm(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function _m(t){return t.__v_skip||!Object.isExtensible(t)?0:fm(N_(t))}function na(t){return Qr(t)?t:zc(t,!1,nm,cm,up)}function dp(t){return zc(t,!1,rm,hm,cp)}function pp(t){return zc(t,!0,im,dm,hp)}function zc(t,i,s,u,p){if(!We(t)||t.__v_raw&&!(i&&t.__v_isReactive))return t;const l=p.get(t);if(l)return l;const h=_m(t);if(h===0)return t;const _=new Proxy(t,h===2?u:s);return p.set(t,_),_}function yr(t){return Qr(t)?yr(t.__v_raw):!!(t&&t.__v_isReactive)}function Qr(t){return!!(t&&t.__v_isReadonly)}function Ho(t){return!!(t&&t.__v_isShallow)}function fp(t){return t?!!t.__v_raw:!1}function Re(t){const i=t&&t.__v_raw;return i?Re(i):t}function Vc(t){return Object.isExtensible(t)&&qd(t,"__v_skip",!0),t}const Zs=t=>We(t)?na(t):t,$c=t=>We(t)?pp(t):t;class _p{constructor(i,s,u,p){this.getter=i,this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Rc(()=>i(this._value),()=>ol(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!p,this.__v_isReadonly=u}get value(){const i=Re(this);return(!i._cacheable||i.effect.dirty)&&br(i._value,i._value=i.effect.run())&&ol(i,4),mp(i),i.effect._dirtyLevel>=2&&ol(i,2),i._value}set value(i){this._setter(i)}get _dirty(){return this.effect.dirty}set _dirty(i){this.effect.dirty=i}}function mm(t,i,s=!1){let u,p;const l=ge(t);return l?(u=t,p=hi):(u=t.get,p=t.set),new _p(u,p,l||!p,s)}function mp(t){var i;gr&&Kr&&(t=Re(t),ip(Kr,(i=t.dep)!=null?i:t.dep=op(()=>t.dep=void 0,t instanceof _p?t:void 0)))}function ol(t,i=4,s,u){t=Re(t);const p=t.dep;p&&rp(p,i)}function gn(t){return!!(t&&t.__v_isRef===!0)}function Yt(t){return gp(t,!1)}function gm(t){return gp(t,!0)}function gp(t,i){return gn(t)?t:new ym(t,i)}class ym{constructor(i,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?i:Re(i),this._value=s?i:Zs(i)}get value(){return mp(this),this._value}set value(i){const s=this.__v_isShallow||Ho(i)||Qr(i);i=s?i:Re(i),br(i,this._rawValue)&&(this._rawValue,this._rawValue=i,this._value=s?i:Zs(i),ol(this,4))}}function ie(t){return gn(t)?t.value:t}const vm={get:(t,i,s)=>ie(Reflect.get(t,i,s)),set:(t,i,s,u)=>{const p=t[i];return gn(p)&&!gn(s)?(p.value=s,!0):Reflect.set(t,i,s,u)}};function yp(t){return yr(t)?t:new Proxy(t,vm)}function bm(t){const i=ce(t)?new Array(t.length):{};for(const s in t)i[s]=Lm(t,s);return i}class xm{constructor(i,s,u){this._object=i,this._key=s,this._defaultValue=u,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return Y_(Re(this._object),this._key)}}function Lm(t,i,s){const u=t[i];return gn(u)?u:new xm(t,i,s)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function vr(t,i,s,u){try{return u?t(...u):t()}catch(p){Bl(p,i,s)}}function di(t,i,s,u){if(ge(t)){const p=vr(t,i,s,u);return p&&Hd(p)&&p.catch(l=>{Bl(l,i,s)}),p}if(ce(t)){const p=[];for(let l=0;l<t.length;l++)p.push(di(t[l],i,s,u));return p}}function Bl(t,i,s,u=!0){const p=i?i.vnode:null;if(i){let l=i.parent;const h=i.proxy,_=`https://vuejs.org/error-reference/#runtime-${s}`;for(;l;){const b=l.ec;if(b){for(let w=0;w<b.length;w++)if(b[w](t,h,_)===!1)return}l=l.parent}const y=i.appContext.config.errorHandler;if(y){wr(),vr(y,null,10,[t,h,_]),kr();return}}Cm(t,s,p,u)}function Cm(t,i,s,u=!0){console.error(t)}let qs=!1,lc=!1;const Tn=[];let Ai=0;const $o=[];let dr=null,Ur=0;const vp=Promise.resolve();let Gc=null;function Pl(t){const i=Gc||vp;return t?i.then(this?t.bind(this):t):i}function wm(t){let i=Ai+1,s=Tn.length;for(;i<s;){const u=i+s>>>1,p=Tn[u],l=Ks(p);l<t||l===t&&p.pre?i=u+1:s=u}return i}function Hc(t){(!Tn.length||!Tn.includes(t,qs&&t.allowRecurse?Ai+1:Ai))&&(t.id==null?Tn.push(t):Tn.splice(wm(t.id),0,t),bp())}function bp(){!qs&&!lc&&(lc=!0,Gc=vp.then(xp))}function km(t){const i=Tn.indexOf(t);i>Ai&&Tn.splice(i,1)}function Mm(t){ce(t)?$o.push(...t):(!dr||!dr.includes(t,t.allowRecurse?Ur+1:Ur))&&$o.push(t),bp()}function wh(t,i,s=qs?Ai+1:0){for(;s<Tn.length;s++){const u=Tn[s];if(u&&u.pre){if(t&&u.id!==t.uid)continue;Tn.splice(s,1),s--,u()}}}function pl(t){if($o.length){const i=[...new Set($o)].sort((s,u)=>Ks(s)-Ks(u));if($o.length=0,dr){dr.push(...i);return}for(dr=i,Ur=0;Ur<dr.length;Ur++){const s=dr[Ur];s.active!==!1&&s()}dr=null,Ur=0}}const Ks=t=>t.id==null?1/0:t.id,Em=(t,i)=>{const s=Ks(t)-Ks(i);if(s===0){if(t.pre&&!i.pre)return-1;if(i.pre&&!t.pre)return 1}return s};function xp(t){lc=!1,qs=!0,Tn.sort(Em);try{for(Ai=0;Ai<Tn.length;Ai++){const i=Tn[Ai];i&&i.active!==!1&&vr(i,i.i,i.i?15:14)}}finally{Ai=0,Tn.length=0,pl(),qs=!1,Gc=null,(Tn.length||$o.length)&&xp()}}let _n=null,Sl=null;function fl(t){const i=_n;return _n=t,Sl=t&&t.type.__scopeId||null,i}function Lp(t){Sl=t}function Cp(){Sl=null}function pt(t,i=_n,s){if(!i||t._n)return t;const u=(...p)=>{u._d&&Rh(-1);const l=fl(i);let h;try{h=t(...p)}finally{fl(l),u._d&&Rh(1)}return h};return u._n=!0,u._c=!0,u._d=!0,u}function ia(t,i){if(_n===null)return t;const s=Rl(_n),u=t.dirs||(t.dirs=[]);for(let p=0;p<i.length;p++){let[l,h,_,y=Xe]=i[p];l&&(ge(l)&&(l={mounted:l,updated:l}),l.deep&&mr(h),u.push({dir:l,instance:s,value:h,oldValue:void 0,arg:_,modifiers:y}))}return t}function Ti(t,i,s,u){const p=t.dirs,l=i&&i.dirs;for(let h=0;h<p.length;h++){const _=p[h];l&&(_.oldValue=l[h].value);let y=_.dir[u];y&&(wr(),di(y,s,8,[t.el,_,t,i]),kr())}}const pr=Symbol("_leaveCb"),tl=Symbol("_enterCb");function Bm(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Nn(()=>{t.isMounted=!0}),Wi(()=>{t.isUnmounting=!0}),t}const li=[Function,Array],wp={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:li,onEnter:li,onAfterEnter:li,onEnterCancelled:li,onBeforeLeave:li,onLeave:li,onAfterLeave:li,onLeaveCancelled:li,onBeforeAppear:li,onAppear:li,onAfterAppear:li,onAppearCancelled:li},kp=t=>{const i=t.subTree;return i.component?kp(i.component):i},Pm={name:"BaseTransition",props:wp,setup(t,{slots:i}){const s=ef(),u=Bm();return()=>{const p=i.default&&Ep(i.default(),!0);if(!p||!p.length)return;let l=p[0];if(p.length>1){for(const T of p)if(T.type!==Fn){l=T;break}}const h=Re(t),{mode:_}=h;if(u.isLeaving)return ju(l);const y=kh(l);if(!y)return ju(l);let b=uc(y,h,u,s,T=>b=T);_l(y,b);const w=s.subTree,k=w&&kh(w);if(k&&k.type!==Fn&&!Zr(y,k)&&kp(s).type!==Fn){const T=uc(k,h,u,s);if(_l(k,T),_==="out-in"&&y.type!==Fn)return u.isLeaving=!0,T.afterLeave=()=>{u.isLeaving=!1,s.update.active!==!1&&(s.effect.dirty=!0,s.update())},ju(l);_==="in-out"&&y.type!==Fn&&(T.delayLeave=(I,G,J)=>{const st=Mp(u,k);st[String(k.key)]=k,I[pr]=()=>{G(),I[pr]=void 0,delete b.delayedLeave},b.delayedLeave=J})}return l}}},Sm=Pm;function Mp(t,i){const{leavingVNodes:s}=t;let u=s.get(i.type);return u||(u=Object.create(null),s.set(i.type,u)),u}function uc(t,i,s,u,p){const{appear:l,mode:h,persisted:_=!1,onBeforeEnter:y,onEnter:b,onAfterEnter:w,onEnterCancelled:k,onBeforeLeave:T,onLeave:I,onAfterLeave:G,onLeaveCancelled:J,onBeforeAppear:st,onAppear:xt,onAfterAppear:yt,onAppearCancelled:j}=i,lt=String(t.key),vt=Mp(s,t),bt=(wt,Tt)=>{wt&&di(wt,u,9,Tt)},It=(wt,Tt)=>{const $t=Tt[1];bt(wt,Tt),ce(wt)?wt.every(St=>St.length<=1)&&$t():wt.length<=1&&$t()},Rt={mode:h,persisted:_,beforeEnter(wt){let Tt=y;if(!s.isMounted)if(l)Tt=st||y;else return;wt[pr]&&wt[pr](!0);const $t=vt[lt];$t&&Zr(t,$t)&&$t.el[pr]&&$t.el[pr](),bt(Tt,[wt])},enter(wt){let Tt=b,$t=w,St=k;if(!s.isMounted)if(l)Tt=xt||b,$t=yt||w,St=j||k;else return;let re=!1;const xe=wt[tl]=Ae=>{re||(re=!0,Ae?bt(St,[wt]):bt($t,[wt]),Rt.delayedLeave&&Rt.delayedLeave(),wt[tl]=void 0)};Tt?It(Tt,[wt,xe]):xe()},leave(wt,Tt){const $t=String(t.key);if(wt[tl]&&wt[tl](!0),s.isUnmounting)return Tt();bt(T,[wt]);let St=!1;const re=wt[pr]=xe=>{St||(St=!0,Tt(),xe?bt(J,[wt]):bt(G,[wt]),wt[pr]=void 0,vt[$t]===t&&delete vt[$t])};vt[$t]=t,I?It(I,[wt,re]):re()},clone(wt){const Tt=uc(wt,i,s,u,p);return p&&p(Tt),Tt}};return Rt}function ju(t){if(Tl(t))return t=xr(t),t.children=null,t}function kh(t){if(!Tl(t))return t;const{shapeFlag:i,children:s}=t;if(s){if(i&16)return s[0];if(i&32&&ge(s.default))return s.default()}}function _l(t,i){t.shapeFlag&6&&t.component?_l(t.component.subTree,i):t.shapeFlag&128?(t.ssContent.transition=i.clone(t.ssContent),t.ssFallback.transition=i.clone(t.ssFallback)):t.transition=i}function Ep(t,i=!1,s){let u=[],p=0;for(let l=0;l<t.length;l++){let h=t[l];const _=s==null?h.key:String(s)+String(h.key!=null?h.key:l);h.type===Qt?(h.patchFlag&128&&p++,u=u.concat(Ep(h.children,i,_))):(i||h.type!==Fn)&&u.push(_!=null?xr(h,{key:_}):h)}if(p>1)for(let l=0;l<u.length;l++)u[l].patchFlag=-2;return u}/*! #__NO_SIDE_EFFECTS__ */function Bp(t,i){return ge(t)?Ln({name:t.name},i,{setup:t}):t}const Go=t=>!!t.type.__asyncLoader,Tl=t=>t.type.__isKeepAlive;function Tm(t,i){Pp(t,"a",i)}function Am(t,i){Pp(t,"da",i)}function Pp(t,i,s=xn){const u=t.__wdc||(t.__wdc=()=>{let p=s;for(;p;){if(p.isDeactivated)return;p=p.parent}return t()});if(Al(i,u,s),s){let p=s.parent;for(;p&&p.parent;)Tl(p.parent.vnode)&&Om(u,i,s,p),p=p.parent}}function Om(t,i,s,u){const p=Al(i,t,u,!0);no(()=>{Oc(u[i],p)},s)}function Al(t,i,s=xn,u=!1){if(s){const p=s[t]||(s[t]=[]),l=i.__weh||(i.__weh=(...h)=>{wr();const _=ra(s),y=di(i,s,t,h);return _(),kr(),y});return u?p.unshift(l):p.push(l),l}}const Ki=t=>(i,s=xn)=>{(!Dl||t==="sp")&&Al(t,(...u)=>i(...u),s)},Sp=Ki("bm"),Nn=Ki("m"),Dm=Ki("bu"),Rm=Ki("u"),Wi=Ki("bum"),no=Ki("um"),Uc=Ki("sp"),Im=Ki("rtg"),Fm=Ki("rtc");function Nm(t,i=xn){Al("ec",t,i)}const Zc="components";function ft(t,i){return Ap(Zc,t,!0,i)||t}const Tp=Symbol.for("v-ndc");function qo(t){return ln(t)?Ap(Zc,t,!1)||t:t||Tp}function Ap(t,i,s=!0,u=!1){const p=_n||xn;if(p){const l=p.type;if(t===Zc){const _=Sg(l,!1);if(_&&(_===i||_===xi(i)||_===Ml(xi(i))))return l}const h=Mh(p[t]||l[t],i)||Mh(p.appContext[t],i);return!h&&u?l:h}}function Mh(t,i){return t&&(t[i]||t[xi(i)]||t[Ml(xi(i))])}function Se(t,i,s,u){let p;const l=s;if(ce(t)||ln(t)){p=new Array(t.length);for(let h=0,_=t.length;h<_;h++)p[h]=i(t[h],h,void 0,l)}else if(typeof t=="number"){p=new Array(t);for(let h=0;h<t;h++)p[h]=i(h+1,h,void 0,l)}else if(We(t))if(t[Symbol.iterator])p=Array.from(t,(h,_)=>i(h,_,void 0,l));else{const h=Object.keys(t);p=new Array(h.length);for(let _=0,y=h.length;_<y;_++){const b=h[_];p[_]=i(t[b],b,_,l)}}else p=[];return p}function Ue(t,i,s={},u,p){if(_n.isCE||_n.parent&&Go(_n.parent)&&_n.parent.isCE)return i!=="default"&&(s.name=i),ot("slot",s,u&&u());let l=t[i];l&&l._c&&(l._d=!1),N();const h=l&&Op(l(s)),_=At(Qt,{key:(s.key||h&&h.key||`_${i}`)+(!h&&u?"_fb":"")},h||(u?u():[]),h&&t._===1?64:-2);return!p&&_.scopeId&&(_.slotScopeIds=[_.scopeId+"-s"]),l&&l._c&&(l._d=!0),_}function Op(t){return t.some(i=>yl(i)?!(i.type===Fn||i.type===Qt&&!Op(i.children)):!0)?t:null}const cc=t=>t?nf(t)?Rl(t):cc(t.parent):null,js=Ln(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>cc(t.parent),$root:t=>cc(t.root),$emit:t=>t.emit,$options:t=>qc(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Hc(t.update)}),$nextTick:t=>t.n||(t.n=Pl.bind(t.proxy)),$watch:t=>dg.bind(t)}),zu=(t,i)=>t!==Xe&&!t.__isScriptSetup&&De(t,i),jm={get({_:t},i){if(i==="__v_skip")return!0;const{ctx:s,setupState:u,data:p,props:l,accessCache:h,type:_,appContext:y}=t;let b;if(i[0]!=="$"){const I=h[i];if(I!==void 0)switch(I){case 1:return u[i];case 2:return p[i];case 4:return s[i];case 3:return l[i]}else{if(zu(u,i))return h[i]=1,u[i];if(p!==Xe&&De(p,i))return h[i]=2,p[i];if((b=t.propsOptions[0])&&De(b,i))return h[i]=3,l[i];if(s!==Xe&&De(s,i))return h[i]=4,s[i];hc&&(h[i]=0)}}const w=js[i];let k,T;if(w)return i==="$attrs"&&Kn(t.attrs,"get",""),w(t);if((k=_.__cssModules)&&(k=k[i]))return k;if(s!==Xe&&De(s,i))return h[i]=4,s[i];if(T=y.config.globalProperties,De(T,i))return T[i]},set({_:t},i,s){const{data:u,setupState:p,ctx:l}=t;return zu(p,i)?(p[i]=s,!0):u!==Xe&&De(u,i)?(u[i]=s,!0):De(t.props,i)||i[0]==="$"&&i.slice(1)in t?!1:(l[i]=s,!0)},has({_:{data:t,setupState:i,accessCache:s,ctx:u,appContext:p,propsOptions:l}},h){let _;return!!s[h]||t!==Xe&&De(t,h)||zu(i,h)||(_=l[0])&&De(_,h)||De(u,h)||De(js,h)||De(p.config.globalProperties,h)},defineProperty(t,i,s){return s.get!=null?t._.accessCache[i]=0:De(s,"value")&&this.set(t,i,s.value,null),Reflect.defineProperty(t,i,s)}};function zm(){return Vm().slots}function Vm(){const t=ef();return t.setupContext||(t.setupContext=of(t))}function Eh(t){return ce(t)?t.reduce((i,s)=>(i[s]=null,i),{}):t}let hc=!0;function $m(t){const i=qc(t),s=t.proxy,u=t.ctx;hc=!1,i.beforeCreate&&Bh(i.beforeCreate,t,"bc");const{data:p,computed:l,methods:h,watch:_,provide:y,inject:b,created:w,beforeMount:k,mounted:T,beforeUpdate:I,updated:G,activated:J,deactivated:st,beforeDestroy:xt,beforeUnmount:yt,destroyed:j,unmounted:lt,render:vt,renderTracked:bt,renderTriggered:It,errorCaptured:Rt,serverPrefetch:wt,expose:Tt,inheritAttrs:$t,components:St,directives:re,filters:xe}=i;if(b&&Gm(b,u,null),h)for(const Jt in h){const Et=h[Jt];ge(Et)&&(u[Jt]=Et.bind(s))}if(p){const Jt=p.call(s,s);We(Jt)&&(t.data=na(Jt))}if(hc=!0,l)for(const Jt in l){const Et=l[Jt],qe=ge(Et)?Et.bind(s,s):ge(Et.get)?Et.get.bind(s,s):hi,te=!ge(Et)&&ge(Et.set)?Et.set.bind(s):hi,we=ue({get:qe,set:te});Object.defineProperty(u,Jt,{enumerable:!0,configurable:!0,get:()=>we.value,set:Fe=>we.value=Fe})}if(_)for(const Jt in _)Dp(_[Jt],u,s,Jt);if(y){const Jt=ge(y)?y.call(s):y;Reflect.ownKeys(Jt).forEach(Et=>{sl(Et,Jt[Et])})}w&&Bh(w,t,"c");function jt(Jt,Et){ce(Et)?Et.forEach(qe=>Jt(qe.bind(s))):Et&&Jt(Et.bind(s))}if(jt(Sp,k),jt(Nn,T),jt(Dm,I),jt(Rm,G),jt(Tm,J),jt(Am,st),jt(Nm,Rt),jt(Fm,bt),jt(Im,It),jt(Wi,yt),jt(no,lt),jt(Uc,wt),ce(Tt))if(Tt.length){const Jt=t.exposed||(t.exposed={});Tt.forEach(Et=>{Object.defineProperty(Jt,Et,{get:()=>s[Et],set:qe=>s[Et]=qe})})}else t.exposed||(t.exposed={});vt&&t.render===hi&&(t.render=vt),$t!=null&&(t.inheritAttrs=$t),St&&(t.components=St),re&&(t.directives=re)}function Gm(t,i,s=hi){ce(t)&&(t=dc(t));for(const u in t){const p=t[u];let l;We(p)?"default"in p?l=pi(p.from||u,p.default,!0):l=pi(p.from||u):l=pi(p),gn(l)?Object.defineProperty(i,u,{enumerable:!0,configurable:!0,get:()=>l.value,set:h=>l.value=h}):i[u]=l}}function Bh(t,i,s){di(ce(t)?t.map(u=>u.bind(i.proxy)):t.bind(i.proxy),i,s)}function Dp(t,i,s,u){const p=u.includes(".")?Wp(s,u):()=>s[u];if(ln(t)){const l=i[t];ge(l)&&mn(p,l)}else if(ge(t))mn(p,t.bind(s));else if(We(t))if(ce(t))t.forEach(l=>Dp(l,i,s,u));else{const l=ge(t.handler)?t.handler.bind(s):i[t.handler];ge(l)&&mn(p,l,t)}}function qc(t){const i=t.type,{mixins:s,extends:u}=i,{mixins:p,optionsCache:l,config:{optionMergeStrategies:h}}=t.appContext,_=l.get(i);let y;return _?y=_:!p.length&&!s&&!u?y=i:(y={},p.length&&p.forEach(b=>ml(y,b,h,!0)),ml(y,i,h)),We(i)&&l.set(i,y),y}function ml(t,i,s,u=!1){const{mixins:p,extends:l}=i;l&&ml(t,l,s,!0),p&&p.forEach(h=>ml(t,h,s,!0));for(const h in i)if(!(u&&h==="expose")){const _=Hm[h]||s&&s[h];t[h]=_?_(t[h],i[h]):i[h]}return t}const Hm={data:Ph,props:Sh,emits:Sh,methods:Fs,computed:Fs,beforeCreate:In,created:In,beforeMount:In,mounted:In,beforeUpdate:In,updated:In,beforeDestroy:In,beforeUnmount:In,destroyed:In,unmounted:In,activated:In,deactivated:In,errorCaptured:In,serverPrefetch:In,components:Fs,directives:Fs,watch:Zm,provide:Ph,inject:Um};function Ph(t,i){return i?t?function(){return Ln(ge(t)?t.call(this,this):t,ge(i)?i.call(this,this):i)}:i:t}function Um(t,i){return Fs(dc(t),dc(i))}function dc(t){if(ce(t)){const i={};for(let s=0;s<t.length;s++)i[t[s]]=t[s];return i}return t}function In(t,i){return t?[...new Set([].concat(t,i))]:i}function Fs(t,i){return t?Ln(Object.create(null),t,i):i}function Sh(t,i){return t?ce(t)&&ce(i)?[...new Set([...t,...i])]:Ln(Object.create(null),Eh(t),Eh(i??{})):i}function Zm(t,i){if(!t)return i;if(!i)return t;const s=Ln(Object.create(null),t);for(const u in i)s[u]=In(t[u],i[u]);return s}function Rp(){return{app:null,config:{isNativeTag:I_,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let qm=0;function Km(t,i){return function(u,p=null){ge(u)||(u=Ln({},u)),p!=null&&!We(p)&&(p=null);const l=Rp(),h=new WeakSet;let _=!1;const y=l.app={_uid:qm++,_component:u,_props:p,_container:null,_context:l,_instance:null,version:Ag,get config(){return l.config},set config(b){},use(b,...w){return h.has(b)||(b&&ge(b.install)?(h.add(b),b.install(y,...w)):ge(b)&&(h.add(b),b(y,...w))),y},mixin(b){return l.mixins.includes(b)||l.mixins.push(b),y},component(b,w){return w?(l.components[b]=w,y):l.components[b]},directive(b,w){return w?(l.directives[b]=w,y):l.directives[b]},mount(b,w,k){if(!_){const T=ot(u,p);return T.appContext=l,k===!0?k="svg":k===!1&&(k=void 0),w&&i?i(T,b):t(T,b,k),_=!0,y._container=b,b.__vue_app__=y,Rl(T.component)}},unmount(){_&&(t(null,y._container),delete y._container.__vue_app__)},provide(b,w){return l.provides[b]=w,y},runWithContext(b){const w=Jr;Jr=y;try{return b()}finally{Jr=w}}};return y}}let Jr=null;function sl(t,i){if(xn){let s=xn.provides;const u=xn.parent&&xn.parent.provides;u===s&&(s=xn.provides=Object.create(u)),s[t]=i}}function pi(t,i,s=!1){const u=xn||_n;if(u||Jr){const p=Jr?Jr._context.provides:u?u.parent==null?u.vnode.appContext&&u.vnode.appContext.provides:u.parent.provides:void 0;if(p&&t in p)return p[t];if(arguments.length>1)return s&&ge(i)?i.call(u&&u.proxy):i}}function Wm(){return!!(xn||_n||Jr)}const Ip={},Fp=()=>Object.create(Ip),Np=t=>Object.getPrototypeOf(t)===Ip;function Jm(t,i,s,u=!1){const p={},l=Fp();t.propsDefaults=Object.create(null),jp(t,i,p,l);for(const h in t.propsOptions[0])h in p||(p[h]=void 0);s?t.props=u?p:dp(p):t.type.props?t.props=p:t.props=l,t.attrs=l}function Ym(t,i,s,u){const{props:p,attrs:l,vnode:{patchFlag:h}}=t,_=Re(p),[y]=t.propsOptions;let b=!1;if((u||h>0)&&!(h&16)){if(h&8){const w=t.vnode.dynamicProps;for(let k=0;k<w.length;k++){let T=w[k];if(Ol(t.emitsOptions,T))continue;const I=i[T];if(y)if(De(l,T))I!==l[T]&&(l[T]=I,b=!0);else{const G=xi(T);p[G]=pc(y,_,G,I,t,!1)}else I!==l[T]&&(l[T]=I,b=!0)}}}else{jp(t,i,p,l)&&(b=!0);let w;for(const k in _)(!i||!De(i,k)&&((w=eo(k))===k||!De(i,w)))&&(y?s&&(s[k]!==void 0||s[w]!==void 0)&&(p[k]=pc(y,_,k,void 0,t,!0)):delete p[k]);if(l!==_)for(const k in l)(!i||!De(i,k))&&(delete l[k],b=!0)}b&&qi(t.attrs,"set","")}function jp(t,i,s,u){const[p,l]=t.propsOptions;let h=!1,_;if(i)for(let y in i){if(Vo(y))continue;const b=i[y];let w;p&&De(p,w=xi(y))?!l||!l.includes(w)?s[w]=b:(_||(_={}))[w]=b:Ol(t.emitsOptions,y)||(!(y in u)||b!==u[y])&&(u[y]=b,h=!0)}if(l){const y=Re(s),b=_||Xe;for(let w=0;w<l.length;w++){const k=l[w];s[k]=pc(p,y,k,b[k],t,!De(b,k))}}return h}function pc(t,i,s,u,p,l){const h=t[s];if(h!=null){const _=De(h,"default");if(_&&u===void 0){const y=h.default;if(h.type!==Function&&!h.skipFactory&&ge(y)){const{propsDefaults:b}=p;if(s in b)u=b[s];else{const w=ra(p);u=b[s]=y.call(null,i),w()}}else u=y}h[0]&&(l&&!_?u=!1:h[1]&&(u===""||u===eo(s))&&(u=!0))}return u}const Xm=new WeakMap;function zp(t,i,s=!1){const u=s?Xm:i.propsCache,p=u.get(t);if(p)return p;const l=t.props,h={},_=[];let y=!1;if(!ge(t)){const w=k=>{y=!0;const[T,I]=zp(k,i,!0);Ln(h,T),I&&_.push(...I)};!s&&i.mixins.length&&i.mixins.forEach(w),t.extends&&w(t.extends),t.mixins&&t.mixins.forEach(w)}if(!l&&!y)return We(t)&&u.set(t,jo),jo;if(ce(l))for(let w=0;w<l.length;w++){const k=xi(l[w]);Th(k)&&(h[k]=Xe)}else if(l)for(const w in l){const k=xi(w);if(Th(k)){const T=l[w],I=h[k]=ce(T)||ge(T)?{type:T}:Ln({},T),G=I.type;let J=!1,st=!0;if(ce(G))for(let xt=0;xt<G.length;++xt){const yt=G[xt],j=ge(yt)&&yt.name;if(j==="Boolean"){J=!0;break}else j==="String"&&(st=!1)}else J=ge(G)&&G.name==="Boolean";I[0]=J,I[1]=st,(J||De(I,"default"))&&_.push(k)}}const b=[h,_];return We(t)&&u.set(t,b),b}function Th(t){return t[0]!=="$"&&!Vo(t)}const Vp=t=>t[0]==="_"||t==="$stable",Kc=t=>ce(t)?t.map(ci):[ci(t)],Qm=(t,i,s)=>{if(i._n)return i;const u=pt((...p)=>Kc(i(...p)),s);return u._c=!1,u},$p=(t,i,s)=>{const u=t._ctx;for(const p in t){if(Vp(p))continue;const l=t[p];if(ge(l))i[p]=Qm(p,l,u);else if(l!=null){const h=Kc(l);i[p]=()=>h}}},Gp=(t,i)=>{const s=Kc(i);t.slots.default=()=>s},Hp=(t,i,s)=>{for(const u in i)(s||u!=="_")&&(t[u]=i[u])},tg=(t,i,s)=>{const u=t.slots=Fp();if(t.vnode.shapeFlag&32){const p=i._;p?(Hp(u,i,s),s&&qd(u,"_",p,!0)):$p(i,u)}else i&&Gp(t,i)},eg=(t,i,s)=>{const{vnode:u,slots:p}=t;let l=!0,h=Xe;if(u.shapeFlag&32){const _=i._;_?s&&_===1?l=!1:Hp(p,i,s):(l=!i.$stable,$p(i,p)),h=i}else i&&(Gp(t,i),h={default:1});if(l)for(const _ in p)!Vp(_)&&h[_]==null&&delete p[_]};function gl(t,i,s,u,p=!1){if(ce(t)){t.forEach((T,I)=>gl(T,i&&(ce(i)?i[I]:i),s,u,p));return}if(Go(u)&&!p)return;const l=u.shapeFlag&4?Rl(u.component):u.el,h=p?null:l,{i:_,r:y}=t,b=i&&i.r,w=_.refs===Xe?_.refs={}:_.refs,k=_.setupState;if(b!=null&&b!==y&&(ln(b)?(w[b]=null,De(k,b)&&(k[b]=null)):gn(b)&&(b.value=null)),ge(y))vr(y,_,12,[h,w]);else{const T=ln(y),I=gn(y);if(T||I){const G=()=>{if(t.f){const J=T?De(k,y)?k[y]:w[y]:y.value;p?ce(J)&&Oc(J,l):ce(J)?J.includes(l)||J.push(l):T?(w[y]=[l],De(k,y)&&(k[y]=w[y])):(y.value=[l],t.k&&(w[t.k]=y.value))}else T?(w[y]=h,De(k,y)&&(k[y]=h)):I&&(y.value=h,t.k&&(w[t.k]=h))};h?(G.id=-1,Un(G,s)):G()}}}const ng=Symbol("_vte"),ig=t=>t.__isTeleport;let Ah=!1;const Oo=()=>{Ah||(console.error("Hydration completed but contains mismatches."),Ah=!0)},rg=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",og=t=>t.namespaceURI.includes("MathML"),el=t=>{if(rg(t))return"svg";if(og(t))return"mathml"},nl=t=>t.nodeType===8;function sg(t){const{mt:i,p:s,o:{patchProp:u,createText:p,nextSibling:l,parentNode:h,remove:_,insert:y,createComment:b}}=t,w=(j,lt)=>{if(!lt.hasChildNodes()){s(null,j,lt),pl(),lt._vnode=j;return}k(lt.firstChild,j,null,null,null),pl(),lt._vnode=j},k=(j,lt,vt,bt,It,Rt=!1)=>{Rt=Rt||!!lt.dynamicChildren;const wt=nl(j)&&j.data==="[",Tt=()=>J(j,lt,vt,bt,It,wt),{type:$t,ref:St,shapeFlag:re,patchFlag:xe}=lt;let Ae=j.nodeType;lt.el=j,xe===-2&&(Rt=!1,lt.dynamicChildren=null);let jt=null;switch($t){case Yr:Ae!==3?lt.children===""?(y(lt.el=p(""),h(j),j),jt=j):jt=Tt():(j.data!==lt.children&&(Oo(),j.data=lt.children),jt=l(j));break;case Fn:yt(j)?(jt=l(j),xt(lt.el=j.content.firstChild,j,vt)):Ae!==8||wt?jt=Tt():jt=l(j);break;case zs:if(wt&&(j=l(j),Ae=j.nodeType),Ae===1||Ae===3){jt=j;const Jt=!lt.children.length;for(let Et=0;Et<lt.staticCount;Et++)Jt&&(lt.children+=jt.nodeType===1?jt.outerHTML:jt.data),Et===lt.staticCount-1&&(lt.anchor=jt),jt=l(jt);return wt?l(jt):jt}else Tt();break;case Qt:wt?jt=G(j,lt,vt,bt,It,Rt):jt=Tt();break;default:if(re&1)(Ae!==1||lt.type.toLowerCase()!==j.tagName.toLowerCase())&&!yt(j)?jt=Tt():jt=T(j,lt,vt,bt,It,Rt);else if(re&6){lt.slotScopeIds=It;const Jt=h(j);if(wt?jt=st(j):nl(j)&&j.data==="teleport start"?jt=st(j,j.data,"teleport end"):jt=l(j),i(lt,Jt,null,vt,bt,el(Jt),Rt),Go(lt)){let Et;wt?(Et=ot(Qt),Et.anchor=jt?jt.previousSibling:Jt.lastChild):Et=j.nodeType===3?pe(""):ot("div"),Et.el=j,lt.component.subTree=Et}}else re&64?Ae!==8?jt=Tt():jt=lt.type.hydrate(j,lt,vt,bt,It,Rt,t,I):re&128&&(jt=lt.type.hydrate(j,lt,vt,bt,el(h(j)),It,Rt,t,k))}return St!=null&&gl(St,null,bt,lt),jt},T=(j,lt,vt,bt,It,Rt)=>{Rt=Rt||!!lt.dynamicChildren;const{type:wt,props:Tt,patchFlag:$t,shapeFlag:St,dirs:re,transition:xe}=lt,Ae=wt==="input"||wt==="option";if(Ae||$t!==-1){re&&Ti(lt,null,vt,"created");let jt=!1;if(yt(j)){jt=Up(bt,xe)&&vt&&vt.vnode.props&&vt.vnode.props.appear;const Et=j.content.firstChild;jt&&xe.beforeEnter(Et),xt(Et,j,vt),lt.el=j=Et}if(St&16&&!(Tt&&(Tt.innerHTML||Tt.textContent))){let Et=I(j.firstChild,lt,j,vt,bt,It,Rt);for(;Et;){Oo();const qe=Et;Et=Et.nextSibling,_(qe)}}else St&8&&j.textContent!==lt.children&&(Oo(),j.textContent=lt.children);if(Tt){if(Ae||!Rt||$t&48){const Et=j.tagName.includes("-");for(const qe in Tt)(Ae&&(qe.endsWith("value")||qe==="indeterminate")||ea(qe)&&!Vo(qe)||qe[0]==="."||Et)&&u(j,qe,null,Tt[qe],void 0,vt)}else if(Tt.onClick)u(j,"onClick",null,Tt.onClick,void 0,vt);else if($t&4&&yr(Tt.style))for(const Et in Tt.style)Tt.style[Et]}let Jt;(Jt=Tt&&Tt.onVnodeBeforeMount)&&ui(Jt,vt,lt),re&&Ti(lt,null,vt,"beforeMount"),((Jt=Tt&&Tt.onVnodeMounted)||re||jt)&&Yp(()=>{Jt&&ui(Jt,vt,lt),jt&&xe.enter(j),re&&Ti(lt,null,vt,"mounted")},bt)}return j.nextSibling},I=(j,lt,vt,bt,It,Rt,wt)=>{wt=wt||!!lt.dynamicChildren;const Tt=lt.children,$t=Tt.length;for(let St=0;St<$t;St++){const re=wt?Tt[St]:Tt[St]=ci(Tt[St]),xe=re.type===Yr;if(j){if(xe&&!wt){let Ae=Tt[St+1];Ae&&(Ae=ci(Ae)).type===Yr&&(y(p(j.data.slice(re.children.length)),vt,l(j)),j.data=re.children)}j=k(j,re,bt,It,Rt,wt)}else xe&&!re.children?y(re.el=p(""),vt):(Oo(),s(null,re,vt,null,bt,It,el(vt),Rt))}return j},G=(j,lt,vt,bt,It,Rt)=>{const{slotScopeIds:wt}=lt;wt&&(It=It?It.concat(wt):wt);const Tt=h(j),$t=I(l(j),lt,Tt,vt,bt,It,Rt);return $t&&nl($t)&&$t.data==="]"?l(lt.anchor=$t):(Oo(),y(lt.anchor=b("]"),Tt,$t),$t)},J=(j,lt,vt,bt,It,Rt)=>{if(Oo(),lt.el=null,Rt){const $t=st(j);for(;;){const St=l(j);if(St&&St!==$t)_(St);else break}}const wt=l(j),Tt=h(j);return _(j),s(null,lt,Tt,wt,vt,bt,el(Tt),It),wt},st=(j,lt="[",vt="]")=>{let bt=0;for(;j;)if(j=l(j),j&&nl(j)&&(j.data===lt&&bt++,j.data===vt)){if(bt===0)return l(j);bt--}return j},xt=(j,lt,vt)=>{const bt=lt.parentNode;bt&&bt.replaceChild(j,lt);let It=vt;for(;It;)It.vnode.el===lt&&(It.vnode.el=It.subTree.el=j),It=It.parent},yt=j=>j.nodeType===1&&j.tagName.toLowerCase()==="template";return[w,k]}const Un=Yp;function ag(t){return lg(t,sg)}function lg(t,i){const s=Kd();s.__VUE__=!0;const{insert:u,remove:p,patchProp:l,createElement:h,createText:_,createComment:y,setText:b,setElementText:w,parentNode:k,nextSibling:T,setScopeId:I=hi,insertStaticContent:G}=t,J=(z,H,ut,kt=null,gt=null,Bt=null,Nt=void 0,Ot=null,Dt=!!H.dynamicChildren)=>{if(z===H)return;z&&!Zr(z,H)&&(kt=mt(z),Fe(z,gt,Bt,!0),z=null),H.patchFlag===-2&&(Dt=!1,H.dynamicChildren=null);const{type:Pt,ref:Ut,shapeFlag:ee}=H;switch(Pt){case Yr:st(z,H,ut,kt);break;case Fn:xt(z,H,ut,kt);break;case zs:z==null&&yt(H,ut,kt,Nt);break;case Qt:St(z,H,ut,kt,gt,Bt,Nt,Ot,Dt);break;default:ee&1?vt(z,H,ut,kt,gt,Bt,Nt,Ot,Dt):ee&6?re(z,H,ut,kt,gt,Bt,Nt,Ot,Dt):(ee&64||ee&128)&&Pt.process(z,H,ut,kt,gt,Bt,Nt,Ot,Dt,Kt)}Ut!=null&&gt&&gl(Ut,z&&z.ref,Bt,H||z,!H)},st=(z,H,ut,kt)=>{if(z==null)u(H.el=_(H.children),ut,kt);else{const gt=H.el=z.el;H.children!==z.children&&b(gt,H.children)}},xt=(z,H,ut,kt)=>{z==null?u(H.el=y(H.children||""),ut,kt):H.el=z.el},yt=(z,H,ut,kt)=>{[z.el,z.anchor]=G(z.children,H,ut,kt,z.el,z.anchor)},j=({el:z,anchor:H},ut,kt)=>{let gt;for(;z&&z!==H;)gt=T(z),u(z,ut,kt),z=gt;u(H,ut,kt)},lt=({el:z,anchor:H})=>{let ut;for(;z&&z!==H;)ut=T(z),p(z),z=ut;p(H)},vt=(z,H,ut,kt,gt,Bt,Nt,Ot,Dt)=>{H.type==="svg"?Nt="svg":H.type==="math"&&(Nt="mathml"),z==null?bt(H,ut,kt,gt,Bt,Nt,Ot,Dt):wt(z,H,gt,Bt,Nt,Ot,Dt)},bt=(z,H,ut,kt,gt,Bt,Nt,Ot)=>{let Dt,Pt;const{props:Ut,shapeFlag:ee,transition:Xt,dirs:de}=z;if(Dt=z.el=h(z.type,Bt,Ut&&Ut.is,Ut),ee&8?w(Dt,z.children):ee&16&&Rt(z.children,Dt,null,kt,gt,Vu(z,Bt),Nt,Ot),de&&Ti(z,null,kt,"created"),It(Dt,z,z.scopeId,Nt,kt),Ut){for(const Ne in Ut)Ne!=="value"&&!Vo(Ne)&&l(Dt,Ne,null,Ut[Ne],Bt,kt);"value"in Ut&&l(Dt,"value",null,Ut.value,Bt),(Pt=Ut.onVnodeBeforeMount)&&ui(Pt,kt,z)}de&&Ti(z,null,kt,"beforeMount");const ve=Up(gt,Xt);ve&&Xt.beforeEnter(Dt),u(Dt,H,ut),((Pt=Ut&&Ut.onVnodeMounted)||ve||de)&&Un(()=>{Pt&&ui(Pt,kt,z),ve&&Xt.enter(Dt),de&&Ti(z,null,kt,"mounted")},gt)},It=(z,H,ut,kt,gt)=>{if(ut&&I(z,ut),kt)for(let Bt=0;Bt<kt.length;Bt++)I(z,kt[Bt]);if(gt){let Bt=gt.subTree;if(H===Bt){const Nt=gt.vnode;It(z,Nt,Nt.scopeId,Nt.slotScopeIds,gt.parent)}}},Rt=(z,H,ut,kt,gt,Bt,Nt,Ot,Dt=0)=>{for(let Pt=Dt;Pt<z.length;Pt++){const Ut=z[Pt]=Ot?fr(z[Pt]):ci(z[Pt]);J(null,Ut,H,ut,kt,gt,Bt,Nt,Ot)}},wt=(z,H,ut,kt,gt,Bt,Nt)=>{const Ot=H.el=z.el;let{patchFlag:Dt,dynamicChildren:Pt,dirs:Ut}=H;Dt|=z.patchFlag&16;const ee=z.props||Xe,Xt=H.props||Xe;let de;if(ut&&$r(ut,!1),(de=Xt.onVnodeBeforeUpdate)&&ui(de,ut,H,z),Ut&&Ti(H,z,ut,"beforeUpdate"),ut&&$r(ut,!0),(ee.innerHTML&&Xt.innerHTML==null||ee.textContent&&Xt.textContent==null)&&w(Ot,""),Pt?Tt(z.dynamicChildren,Pt,Ot,ut,kt,Vu(H,gt),Bt):Nt||Et(z,H,Ot,null,ut,kt,Vu(H,gt),Bt,!1),Dt>0){if(Dt&16)$t(Ot,ee,Xt,ut,gt);else if(Dt&2&&ee.class!==Xt.class&&l(Ot,"class",null,Xt.class,gt),Dt&4&&l(Ot,"style",ee.style,Xt.style,gt),Dt&8){const ve=H.dynamicProps;for(let Ne=0;Ne<ve.length;Ne++){const Ee=ve[Ne],Je=ee[Ee],Mn=Xt[Ee];(Mn!==Je||Ee==="value")&&l(Ot,Ee,Je,Mn,gt,ut)}}Dt&1&&z.children!==H.children&&w(Ot,H.children)}else!Nt&&Pt==null&&$t(Ot,ee,Xt,ut,gt);((de=Xt.onVnodeUpdated)||Ut)&&Un(()=>{de&&ui(de,ut,H,z),Ut&&Ti(H,z,ut,"updated")},kt)},Tt=(z,H,ut,kt,gt,Bt,Nt)=>{for(let Ot=0;Ot<H.length;Ot++){const Dt=z[Ot],Pt=H[Ot],Ut=Dt.el&&(Dt.type===Qt||!Zr(Dt,Pt)||Dt.shapeFlag&70)?k(Dt.el):ut;J(Dt,Pt,Ut,null,kt,gt,Bt,Nt,!0)}},$t=(z,H,ut,kt,gt)=>{if(H!==ut){if(H!==Xe)for(const Bt in H)!Vo(Bt)&&!(Bt in ut)&&l(z,Bt,H[Bt],null,gt,kt);for(const Bt in ut){if(Vo(Bt))continue;const Nt=ut[Bt],Ot=H[Bt];Nt!==Ot&&Bt!=="value"&&l(z,Bt,Ot,Nt,gt,kt)}"value"in ut&&l(z,"value",H.value,ut.value,gt)}},St=(z,H,ut,kt,gt,Bt,Nt,Ot,Dt)=>{const Pt=H.el=z?z.el:_(""),Ut=H.anchor=z?z.anchor:_("");let{patchFlag:ee,dynamicChildren:Xt,slotScopeIds:de}=H;de&&(Ot=Ot?Ot.concat(de):de),z==null?(u(Pt,ut,kt),u(Ut,ut,kt),Rt(H.children||[],ut,Ut,gt,Bt,Nt,Ot,Dt)):ee>0&&ee&64&&Xt&&z.dynamicChildren?(Tt(z.dynamicChildren,Xt,ut,gt,Bt,Nt,Ot),(H.key!=null||gt&&H===gt.subTree)&&Zp(z,H,!0)):Et(z,H,ut,Ut,gt,Bt,Nt,Ot,Dt)},re=(z,H,ut,kt,gt,Bt,Nt,Ot,Dt)=>{H.slotScopeIds=Ot,z==null?H.shapeFlag&512?gt.ctx.activate(H,ut,kt,Nt,Dt):xe(H,ut,kt,gt,Bt,Nt,Dt):Ae(z,H,Dt)},xe=(z,H,ut,kt,gt,Bt,Nt)=>{const Ot=z.component=Mg(z,kt,gt);if(Tl(z)&&(Ot.ctx.renderer=Kt),Eg(Ot,!1,Nt),Ot.asyncDep){if(gt&&gt.registerDep(Ot,jt,Nt),!z.el){const Dt=Ot.subTree=ot(Fn);xt(null,Dt,H,ut)}}else jt(Ot,z,H,ut,gt,Bt,Nt)},Ae=(z,H,ut)=>{const kt=H.component=z.component;if(gg(z,H,ut))if(kt.asyncDep&&!kt.asyncResolved){Jt(kt,H,ut);return}else kt.next=H,km(kt.update),kt.effect.dirty=!0,kt.update();else H.el=z.el,kt.vnode=H},jt=(z,H,ut,kt,gt,Bt,Nt)=>{const Ot=()=>{if(z.isMounted){let{next:Ut,bu:ee,u:Xt,parent:de,vnode:ve}=z;{const An=qp(z);if(An){Ut&&(Ut.el=ve.el,Jt(z,Ut,Nt)),An.asyncDep.then(()=>{z.isUnmounted||Ot()});return}}let Ne=Ut,Ee;$r(z,!1),Ut?(Ut.el=ve.el,Jt(z,Ut,Nt)):Ut=ve,ee&&rl(ee),(Ee=Ut.props&&Ut.props.onVnodeBeforeUpdate)&&ui(Ee,de,Ut,ve),$r(z,!0);const Je=$u(z),Mn=z.subTree;z.subTree=Je,J(Mn,Je,k(Mn.el),mt(Mn),z,gt,Bt),Ut.el=Je.el,Ne===null&&yg(z,Je.el),Xt&&Un(Xt,gt),(Ee=Ut.props&&Ut.props.onVnodeUpdated)&&Un(()=>ui(Ee,de,Ut,ve),gt)}else{let Ut;const{el:ee,props:Xt}=H,{bm:de,m:ve,parent:Ne}=z,Ee=Go(H);if($r(z,!1),de&&rl(de),!Ee&&(Ut=Xt&&Xt.onVnodeBeforeMount)&&ui(Ut,Ne,H),$r(z,!0),ee&&Ie){const Je=()=>{z.subTree=$u(z),Ie(ee,z.subTree,z,gt,null)};Ee?H.type.__asyncLoader().then(()=>!z.isUnmounted&&Je()):Je()}else{const Je=z.subTree=$u(z);J(null,Je,ut,kt,z,gt,Bt),H.el=Je.el}if(ve&&Un(ve,gt),!Ee&&(Ut=Xt&&Xt.onVnodeMounted)){const Je=H;Un(()=>ui(Ut,Ne,Je),gt)}(H.shapeFlag&256||Ne&&Go(Ne.vnode)&&Ne.vnode.shapeFlag&256)&&z.a&&Un(z.a,gt),z.isMounted=!0,H=ut=kt=null}},Dt=z.effect=new Rc(Ot,hi,()=>Hc(Pt),z.scope),Pt=z.update=()=>{Dt.dirty&&Dt.run()};Pt.i=z,Pt.id=z.uid,$r(z,!0),Pt()},Jt=(z,H,ut)=>{H.component=z;const kt=z.vnode.props;z.vnode=H,z.next=null,Ym(z,H.props,kt,ut),eg(z,H.children,ut),wr(),wh(z),kr()},Et=(z,H,ut,kt,gt,Bt,Nt,Ot,Dt=!1)=>{const Pt=z&&z.children,Ut=z?z.shapeFlag:0,ee=H.children,{patchFlag:Xt,shapeFlag:de}=H;if(Xt>0){if(Xt&128){te(Pt,ee,ut,kt,gt,Bt,Nt,Ot,Dt);return}else if(Xt&256){qe(Pt,ee,ut,kt,gt,Bt,Nt,Ot,Dt);return}}de&8?(Ut&16&&he(Pt,gt,Bt),ee!==Pt&&w(ut,ee)):Ut&16?de&16?te(Pt,ee,ut,kt,gt,Bt,Nt,Ot,Dt):he(Pt,gt,Bt,!0):(Ut&8&&w(ut,""),de&16&&Rt(ee,ut,kt,gt,Bt,Nt,Ot,Dt))},qe=(z,H,ut,kt,gt,Bt,Nt,Ot,Dt)=>{z=z||jo,H=H||jo;const Pt=z.length,Ut=H.length,ee=Math.min(Pt,Ut);let Xt;for(Xt=0;Xt<ee;Xt++){const de=H[Xt]=Dt?fr(H[Xt]):ci(H[Xt]);J(z[Xt],de,ut,null,gt,Bt,Nt,Ot,Dt)}Pt>Ut?he(z,gt,Bt,!0,!1,ee):Rt(H,ut,kt,gt,Bt,Nt,Ot,Dt,ee)},te=(z,H,ut,kt,gt,Bt,Nt,Ot,Dt)=>{let Pt=0;const Ut=H.length;let ee=z.length-1,Xt=Ut-1;for(;Pt<=ee&&Pt<=Xt;){const de=z[Pt],ve=H[Pt]=Dt?fr(H[Pt]):ci(H[Pt]);if(Zr(de,ve))J(de,ve,ut,null,gt,Bt,Nt,Ot,Dt);else break;Pt++}for(;Pt<=ee&&Pt<=Xt;){const de=z[ee],ve=H[Xt]=Dt?fr(H[Xt]):ci(H[Xt]);if(Zr(de,ve))J(de,ve,ut,null,gt,Bt,Nt,Ot,Dt);else break;ee--,Xt--}if(Pt>ee){if(Pt<=Xt){const de=Xt+1,ve=de<Ut?H[de].el:kt;for(;Pt<=Xt;)J(null,H[Pt]=Dt?fr(H[Pt]):ci(H[Pt]),ut,ve,gt,Bt,Nt,Ot,Dt),Pt++}}else if(Pt>Xt)for(;Pt<=ee;)Fe(z[Pt],gt,Bt,!0),Pt++;else{const de=Pt,ve=Pt,Ne=new Map;for(Pt=ve;Pt<=Xt;Pt++){const yn=H[Pt]=Dt?fr(H[Pt]):ci(H[Pt]);yn.key!=null&&Ne.set(yn.key,Pt)}let Ee,Je=0;const Mn=Xt-ve+1;let An=!1,Mr=0;const ei=new Array(Mn);for(Pt=0;Pt<Mn;Pt++)ei[Pt]=0;for(Pt=de;Pt<=ee;Pt++){const yn=z[Pt];if(Je>=Mn){Fe(yn,gt,Bt,!0);continue}let un;if(yn.key!=null)un=Ne.get(yn.key);else for(Ee=ve;Ee<=Xt;Ee++)if(ei[Ee-ve]===0&&Zr(yn,H[Ee])){un=Ee;break}un===void 0?Fe(yn,gt,Bt,!0):(ei[un-ve]=Pt+1,un>=Mr?Mr=un:An=!0,J(yn,H[un],ut,null,gt,Bt,Nt,Ot,Dt),Je++)}const fi=An?ug(ei):jo;for(Ee=fi.length-1,Pt=Mn-1;Pt>=0;Pt--){const yn=ve+Pt,un=H[yn],ro=yn+1<Ut?H[yn+1].el:kt;ei[Pt]===0?J(null,un,ut,ro,gt,Bt,Nt,Ot,Dt):An&&(Ee<0||Pt!==fi[Ee]?we(un,ut,ro,2):Ee--)}}},we=(z,H,ut,kt,gt=null)=>{const{el:Bt,type:Nt,transition:Ot,children:Dt,shapeFlag:Pt}=z;if(Pt&6){we(z.component.subTree,H,ut,kt);return}if(Pt&128){z.suspense.move(H,ut,kt);return}if(Pt&64){Nt.move(z,H,ut,Kt);return}if(Nt===Qt){u(Bt,H,ut);for(let ee=0;ee<Dt.length;ee++)we(Dt[ee],H,ut,kt);u(z.anchor,H,ut);return}if(Nt===zs){j(z,H,ut);return}if(kt!==2&&Pt&1&&Ot)if(kt===0)Ot.beforeEnter(Bt),u(Bt,H,ut),Un(()=>Ot.enter(Bt),gt);else{const{leave:ee,delayLeave:Xt,afterLeave:de}=Ot,ve=()=>u(Bt,H,ut),Ne=()=>{ee(Bt,()=>{ve(),de&&de()})};Xt?Xt(Bt,ve,Ne):Ne()}else u(Bt,H,ut)},Fe=(z,H,ut,kt=!1,gt=!1)=>{const{type:Bt,props:Nt,ref:Ot,children:Dt,dynamicChildren:Pt,shapeFlag:Ut,patchFlag:ee,dirs:Xt,cacheIndex:de}=z;if(ee===-2&&(gt=!1),Ot!=null&&gl(Ot,null,ut,z,!0),de!=null&&(H.renderCache[de]=void 0),Ut&256){H.ctx.deactivate(z);return}const ve=Ut&1&&Xt,Ne=!Go(z);let Ee;if(Ne&&(Ee=Nt&&Nt.onVnodeBeforeUnmount)&&ui(Ee,H,z),Ut&6)Me(z.component,ut,kt);else{if(Ut&128){z.suspense.unmount(ut,kt);return}ve&&Ti(z,null,H,"beforeUnmount"),Ut&64?z.type.remove(z,H,ut,Kt,kt):Pt&&!Pt.hasOnce&&(Bt!==Qt||ee>0&&ee&64)?he(Pt,H,ut,!1,!0):(Bt===Qt&&ee&384||!gt&&Ut&16)&&he(Dt,H,ut),kt&&Qe(z)}(Ne&&(Ee=Nt&&Nt.onVnodeUnmounted)||ve)&&Un(()=>{Ee&&ui(Ee,H,z),ve&&Ti(z,null,H,"unmounted")},ut)},Qe=z=>{const{type:H,el:ut,anchor:kt,transition:gt}=z;if(H===Qt){ze(ut,kt);return}if(H===zs){lt(z);return}const Bt=()=>{p(ut),gt&&!gt.persisted&&gt.afterLeave&&gt.afterLeave()};if(z.shapeFlag&1&&gt&&!gt.persisted){const{leave:Nt,delayLeave:Ot}=gt,Dt=()=>Nt(ut,Bt);Ot?Ot(z.el,Bt,Dt):Dt()}else Bt()},ze=(z,H)=>{let ut;for(;z!==H;)ut=T(z),p(z),z=ut;p(H)},Me=(z,H,ut)=>{const{bum:kt,scope:gt,update:Bt,subTree:Nt,um:Ot,m:Dt,a:Pt}=z;Oh(Dt),Oh(Pt),kt&&rl(kt),gt.stop(),Bt&&(Bt.active=!1,Fe(Nt,z,H,ut)),Ot&&Un(Ot,H),Un(()=>{z.isUnmounted=!0},H),H&&H.pendingBranch&&!H.isUnmounted&&z.asyncDep&&!z.asyncResolved&&z.suspenseId===H.pendingId&&(H.deps--,H.deps===0&&H.resolve())},he=(z,H,ut,kt=!1,gt=!1,Bt=0)=>{for(let Nt=Bt;Nt<z.length;Nt++)Fe(z[Nt],H,ut,kt,gt)},mt=z=>{if(z.shapeFlag&6)return mt(z.component.subTree);if(z.shapeFlag&128)return z.suspense.next();const H=T(z.anchor||z.el),ut=H&&H[ng];return ut?T(ut):H};let zt=!1;const Ft=(z,H,ut)=>{z==null?H._vnode&&Fe(H._vnode,null,null,!0):J(H._vnode||null,z,H,null,null,null,ut),H._vnode=z,zt||(zt=!0,wh(),pl(),zt=!1)},Kt={p:J,um:Fe,m:we,r:Qe,mt:xe,mc:Rt,pc:Et,pbc:Tt,n:mt,o:t};let ke,Ie;return i&&([ke,Ie]=i(Kt)),{render:Ft,hydrate:ke,createApp:Km(Ft,ke)}}function Vu({type:t,props:i},s){return s==="svg"&&t==="foreignObject"||s==="mathml"&&t==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:s}function $r({effect:t,update:i},s){t.allowRecurse=i.allowRecurse=s}function Up(t,i){return(!t||t&&!t.pendingBranch)&&i&&!i.persisted}function Zp(t,i,s=!1){const u=t.children,p=i.children;if(ce(u)&&ce(p))for(let l=0;l<u.length;l++){const h=u[l];let _=p[l];_.shapeFlag&1&&!_.dynamicChildren&&((_.patchFlag<=0||_.patchFlag===32)&&(_=p[l]=fr(p[l]),_.el=h.el),!s&&_.patchFlag!==-2&&Zp(h,_)),_.type===Yr&&(_.el=h.el)}}function ug(t){const i=t.slice(),s=[0];let u,p,l,h,_;const y=t.length;for(u=0;u<y;u++){const b=t[u];if(b!==0){if(p=s[s.length-1],t[p]<b){i[u]=p,s.push(u);continue}for(l=0,h=s.length-1;l<h;)_=l+h>>1,t[s[_]]<b?l=_+1:h=_;b<t[s[l]]&&(l>0&&(i[u]=s[l-1]),s[l]=u)}}for(l=s.length,h=s[l-1];l-- >0;)s[l]=h,h=i[h];return s}function qp(t){const i=t.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:qp(i)}function Oh(t){if(t)for(let i=0;i<t.length;i++)t[i].active=!1}const cg=Symbol.for("v-scx"),hg=()=>pi(cg),il={};function mn(t,i,s){return Kp(t,i,s)}function Kp(t,i,{immediate:s,deep:u,flush:p,once:l,onTrack:h,onTrigger:_}=Xe){if(i&&l){const bt=i;i=(...It)=>{bt(...It),vt()}}const y=xn,b=bt=>u===!0?bt:mr(bt,u===!1?1:void 0);let w,k=!1,T=!1;if(gn(t)?(w=()=>t.value,k=Ho(t)):yr(t)?(w=()=>b(t),k=!0):ce(t)?(T=!0,k=t.some(bt=>yr(bt)||Ho(bt)),w=()=>t.map(bt=>{if(gn(bt))return bt.value;if(yr(bt))return b(bt);if(ge(bt))return vr(bt,y,2)})):ge(t)?i?w=()=>vr(t,y,2):w=()=>(I&&I(),di(t,y,3,[G])):w=hi,i&&u){const bt=w;w=()=>mr(bt())}let I,G=bt=>{I=j.onStop=()=>{vr(bt,y,4),I=j.onStop=void 0}},J;if(Dl)if(G=hi,i?s&&di(i,y,3,[w(),T?[]:void 0,G]):w(),p==="sync"){const bt=hg();J=bt.__watcherHandles||(bt.__watcherHandles=[])}else return hi;let st=T?new Array(t.length).fill(il):il;const xt=()=>{if(!(!j.active||!j.dirty))if(i){const bt=j.run();(u||k||(T?bt.some((It,Rt)=>br(It,st[Rt])):br(bt,st)))&&(I&&I(),di(i,y,3,[bt,st===il?void 0:T&&st[0]===il?[]:st,G]),st=bt)}else j.run()};xt.allowRecurse=!!i;let yt;p==="sync"?yt=xt:p==="post"?yt=()=>Un(xt,y&&y.suspense):(xt.pre=!0,y&&(xt.id=y.uid),yt=()=>Hc(xt));const j=new Rc(w,hi,yt),lt=tp(),vt=()=>{j.stop(),lt&&Oc(lt.effects,j)};return i?s?xt():st=j.run():p==="post"?Un(j.run.bind(j),y&&y.suspense):j.run(),J&&J.push(vt),vt}function dg(t,i,s){const u=this.proxy,p=ln(t)?t.includes(".")?Wp(u,t):()=>u[t]:t.bind(u,u);let l;ge(i)?l=i:(l=i.handler,s=i);const h=ra(this),_=Kp(p,l.bind(u),s);return h(),_}function Wp(t,i){const s=i.split(".");return()=>{let u=t;for(let p=0;p<s.length&&u;p++)u=u[s[p]];return u}}function mr(t,i=1/0,s){if(i<=0||!We(t)||t.__v_skip||(s=s||new Set,s.has(t)))return t;if(s.add(t),i--,gn(t))mr(t.value,i,s);else if(ce(t))for(let u=0;u<t.length;u++)mr(t[u],i,s);else if(Gd(t)||zo(t))t.forEach(u=>{mr(u,i,s)});else if(Zd(t)){for(const u in t)mr(t[u],i,s);for(const u of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,u)&&mr(t[u],i,s)}return t}const pg=(t,i)=>i==="modelValue"||i==="model-value"?t.modelModifiers:t[`${i}Modifiers`]||t[`${xi(i)}Modifiers`]||t[`${eo(i)}Modifiers`];function fg(t,i,...s){if(t.isUnmounted)return;const u=t.vnode.props||Xe;let p=s;const l=i.startsWith("update:"),h=l&&pg(u,i.slice(7));h&&(h.trim&&(p=s.map(w=>ln(w)?w.trim():w)),h.number&&(p=s.map(rc)));let _,y=u[_=Fu(i)]||u[_=Fu(xi(i))];!y&&l&&(y=u[_=Fu(eo(i))]),y&&di(y,t,6,p);const b=u[_+"Once"];if(b){if(!t.emitted)t.emitted={};else if(t.emitted[_])return;t.emitted[_]=!0,di(b,t,6,p)}}function Jp(t,i,s=!1){const u=i.emitsCache,p=u.get(t);if(p!==void 0)return p;const l=t.emits;let h={},_=!1;if(!ge(t)){const y=b=>{const w=Jp(b,i,!0);w&&(_=!0,Ln(h,w))};!s&&i.mixins.length&&i.mixins.forEach(y),t.extends&&y(t.extends),t.mixins&&t.mixins.forEach(y)}return!l&&!_?(We(t)&&u.set(t,null),null):(ce(l)?l.forEach(y=>h[y]=null):Ln(h,l),We(t)&&u.set(t,h),h)}function Ol(t,i){return!t||!ea(i)?!1:(i=i.slice(2).replace(/Once$/,""),De(t,i[0].toLowerCase()+i.slice(1))||De(t,eo(i))||De(t,i))}function $u(t){const{type:i,vnode:s,proxy:u,withProxy:p,propsOptions:[l],slots:h,attrs:_,emit:y,render:b,renderCache:w,props:k,data:T,setupState:I,ctx:G,inheritAttrs:J}=t,st=fl(t);let xt,yt;try{if(s.shapeFlag&4){const lt=p||u,vt=lt;xt=ci(b.call(vt,lt,w,k,I,T,G)),yt=_}else{const lt=i;xt=ci(lt.length>1?lt(k,{attrs:_,slots:h,emit:y}):lt(k,null)),yt=i.props?_:_g(_)}}catch(lt){Vs.length=0,Bl(lt,t,1),xt=ot(Fn)}let j=xt;if(yt&&J!==!1){const lt=Object.keys(yt),{shapeFlag:vt}=j;lt.length&&vt&7&&(l&&lt.some(Ac)&&(yt=mg(yt,l)),j=xr(j,yt,!1,!0))}return s.dirs&&(j=xr(j,null,!1,!0),j.dirs=j.dirs?j.dirs.concat(s.dirs):s.dirs),s.transition&&(j.transition=s.transition),xt=j,fl(st),xt}const _g=t=>{let i;for(const s in t)(s==="class"||s==="style"||ea(s))&&((i||(i={}))[s]=t[s]);return i},mg=(t,i)=>{const s={};for(const u in t)(!Ac(u)||!(u.slice(9)in i))&&(s[u]=t[u]);return s};function gg(t,i,s){const{props:u,children:p,component:l}=t,{props:h,children:_,patchFlag:y}=i,b=l.emitsOptions;if(i.dirs||i.transition)return!0;if(s&&y>=0){if(y&1024)return!0;if(y&16)return u?Dh(u,h,b):!!h;if(y&8){const w=i.dynamicProps;for(let k=0;k<w.length;k++){const T=w[k];if(h[T]!==u[T]&&!Ol(b,T))return!0}}}else return(p||_)&&(!_||!_.$stable)?!0:u===h?!1:u?h?Dh(u,h,b):!0:!!h;return!1}function Dh(t,i,s){const u=Object.keys(i);if(u.length!==Object.keys(t).length)return!0;for(let p=0;p<u.length;p++){const l=u[p];if(i[l]!==t[l]&&!Ol(s,l))return!0}return!1}function yg({vnode:t,parent:i},s){for(;i;){const u=i.subTree;if(u.suspense&&u.suspense.activeBranch===t&&(u.el=t.el),u===t)(t=i.vnode).el=s,i=i.parent;else break}}const vg=t=>t.__isSuspense;function Yp(t,i){i&&i.pendingBranch?ce(t)?i.effects.push(...t):i.effects.push(t):Mm(t)}const Qt=Symbol.for("v-fgt"),Yr=Symbol.for("v-txt"),Fn=Symbol.for("v-cmt"),zs=Symbol.for("v-stc"),Vs=[];let Qn=null;function N(t=!1){Vs.push(Qn=t?null:[])}function bg(){Vs.pop(),Qn=Vs[Vs.length-1]||null}let Ws=1;function Rh(t){Ws+=t,t<0&&Qn&&(Qn.hasOnce=!0)}function Xp(t){return t.dynamicChildren=Ws>0?Qn||jo:null,bg(),Ws>0&&Qn&&Qn.push(t),t}function tt(t,i,s,u,p,l){return Xp(Q(t,i,s,u,p,l,!0))}function At(t,i,s,u,p){return Xp(ot(t,i,s,u,p,!0))}function yl(t){return t?t.__v_isVNode===!0:!1}function Zr(t,i){return t.type===i.type&&t.key===i.key}const Qp=({key:t})=>t??null,al=({ref:t,ref_key:i,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?ln(t)||gn(t)||ge(t)?{i:_n,r:t,k:i,f:!!s}:t:null);function Q(t,i=null,s=null,u=0,p=null,l=t===Qt?0:1,h=!1,_=!1){const y={__v_isVNode:!0,__v_skip:!0,type:t,props:i,key:i&&Qp(i),ref:i&&al(i),scopeId:Sl,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:u,dynamicProps:p,dynamicChildren:null,appContext:null,ctx:_n};return _?(Wc(y,s),l&128&&t.normalize(y)):s&&(y.shapeFlag|=ln(s)?8:16),Ws>0&&!h&&Qn&&(y.patchFlag>0||l&6)&&y.patchFlag!==32&&Qn.push(y),y}const ot=xg;function xg(t,i=null,s=null,u=0,p=null,l=!1){if((!t||t===Tp)&&(t=Fn),yl(t)){const _=xr(t,i,!0);return s&&Wc(_,s),Ws>0&&!l&&Qn&&(_.shapeFlag&6?Qn[Qn.indexOf(t)]=_:Qn.push(_)),_.patchFlag=-2,_}if(Tg(t)&&(t=t.__vccOpts),i){i=Lg(i);let{class:_,style:y}=i;_&&!ln(_)&&(i.class=kn(_)),We(y)&&(fp(y)&&!ce(y)&&(y=Ln({},y)),i.style=Oi(y))}const h=ln(t)?1:vg(t)?128:ig(t)?64:We(t)?4:ge(t)?2:0;return Q(t,i,s,u,p,h,l,!0)}function Lg(t){return t?fp(t)||Np(t)?Ln({},t):t:null}function xr(t,i,s=!1,u=!1){const{props:p,ref:l,patchFlag:h,children:_,transition:y}=t,b=i?tf(p||{},i):p,w={__v_isVNode:!0,__v_skip:!0,type:t.type,props:b,key:b&&Qp(b),ref:i&&i.ref?s&&l?ce(l)?l.concat(al(i)):[l,al(i)]:al(i):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:_,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:i&&t.type!==Qt?h===-1?16:h|16:h,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:y,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&xr(t.ssContent),ssFallback:t.ssFallback&&xr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return y&&u&&_l(w,y.clone(w)),w}function pe(t=" ",i=0){return ot(Yr,null,t,i)}function Cg(t,i){const s=ot(zs,null,t);return s.staticCount=i,s}function Gt(t="",i=!1){return i?(N(),At(Fn,null,t)):ot(Fn,null,t)}function ci(t){return t==null||typeof t=="boolean"?ot(Fn):ce(t)?ot(Qt,null,t.slice()):typeof t=="object"?fr(t):ot(Yr,null,String(t))}function fr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:xr(t)}function Wc(t,i){let s=0;const{shapeFlag:u}=t;if(i==null)i=null;else if(ce(i))s=16;else if(typeof i=="object")if(u&65){const p=i.default;p&&(p._c&&(p._d=!1),Wc(t,p()),p._c&&(p._d=!0));return}else{s=32;const p=i._;!p&&!Np(i)?i._ctx=_n:p===3&&_n&&(_n.slots._===1?i._=1:(i._=2,t.patchFlag|=1024))}else ge(i)?(i={default:i,_ctx:_n},s=32):(i=String(i),u&64?(s=16,i=[pe(i)]):s=8);t.children=i,t.shapeFlag|=s}function tf(...t){const i={};for(let s=0;s<t.length;s++){const u=t[s];for(const p in u)if(p==="class")i.class!==u.class&&(i.class=kn([i.class,u.class]));else if(p==="style")i.style=Oi([i.style,u.style]);else if(ea(p)){const l=i[p],h=u[p];h&&l!==h&&!(ce(l)&&l.includes(h))&&(i[p]=l?[].concat(l,h):h)}else p!==""&&(i[p]=u[p])}return i}function ui(t,i,s,u=null){di(t,i,7,[s,u])}const wg=Rp();let kg=0;function Mg(t,i,s){const u=t.type,p=(i?i.appContext:t.appContext)||wg,l={uid:kg++,vnode:t,type:u,parent:i,appContext:p,root:null,next:null,subTree:null,effect:null,update:null,scope:new Xd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(p.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:zp(u,p),emitsOptions:Jp(u,p),emit:null,emitted:null,propsDefaults:Xe,inheritAttrs:u.inheritAttrs,ctx:Xe,data:Xe,props:Xe,attrs:Xe,slots:Xe,refs:Xe,setupState:Xe,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=i?i.root:l,l.emit=fg.bind(null,l),t.ce&&t.ce(l),l}let xn=null;const ef=()=>xn||_n;let vl,fc;{const t=Kd(),i=(s,u)=>{let p;return(p=t[s])||(p=t[s]=[]),p.push(u),l=>{p.length>1?p.forEach(h=>h(l)):p[0](l)}};vl=i("__VUE_INSTANCE_SETTERS__",s=>xn=s),fc=i("__VUE_SSR_SETTERS__",s=>Dl=s)}const ra=t=>{const i=xn;return vl(t),t.scope.on(),()=>{t.scope.off(),vl(i)}},Ih=()=>{xn&&xn.scope.off(),vl(null)};function nf(t){return t.vnode.shapeFlag&4}let Dl=!1;function Eg(t,i=!1,s=!1){i&&fc(i);const{props:u,children:p}=t.vnode,l=nf(t);Jm(t,u,l,i),tg(t,p,s);const h=l?Bg(t,i):void 0;return i&&fc(!1),h}function Bg(t,i){const s=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,jm);const{setup:u}=s;if(u){const p=t.setupContext=u.length>1?of(t):null,l=ra(t);wr();const h=vr(u,t,0,[t.props,p]);if(kr(),l(),Hd(h)){if(h.then(Ih,Ih),i)return h.then(_=>{Fh(t,_,i)}).catch(_=>{Bl(_,t,0)});t.asyncDep=h}else Fh(t,h,i)}else rf(t,i)}function Fh(t,i,s){ge(i)?t.type.__ssrInlineRender?t.ssrRender=i:t.render=i:We(i)&&(t.setupState=yp(i)),rf(t,s)}let Nh;function rf(t,i,s){const u=t.type;if(!t.render){if(!i&&Nh&&!u.render){const p=u.template||qc(t).template;if(p){const{isCustomElement:l,compilerOptions:h}=t.appContext.config,{delimiters:_,compilerOptions:y}=u,b=Ln(Ln({isCustomElement:l,delimiters:_},h),y);u.render=Nh(p,b)}}t.render=u.render||hi}{const p=ra(t);wr();try{$m(t)}finally{kr(),p()}}}const Pg={get(t,i){return Kn(t,"get",""),t[i]}};function of(t){const i=s=>{t.exposed=s||{}};return{attrs:new Proxy(t.attrs,Pg),slots:t.slots,emit:t.emit,expose:i}}function Rl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(yp(Vc(t.exposed)),{get(i,s){if(s in i)return i[s];if(s in js)return js[s](t)},has(i,s){return s in i||s in js}})):t.proxy}function Sg(t,i=!0){return ge(t)?t.displayName||t.name:t.name||i&&t.__name}function Tg(t){return ge(t)&&"__vccOpts"in t}const ue=(t,i)=>mm(t,i,Dl);function Jc(t,i,s){const u=arguments.length;return u===2?We(i)&&!ce(i)?yl(i)?ot(t,null,[i]):ot(t,i):ot(t,null,i):(u>3?s=Array.prototype.slice.call(arguments,2):u===3&&yl(s)&&(s=[s]),ot(t,i,s))}const Ag="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Og="http://www.w3.org/2000/svg",Dg="http://www.w3.org/1998/Math/MathML",Zi=typeof document<"u"?document:null,jh=Zi&&Zi.createElement("template"),Rg={insert:(t,i,s)=>{i.insertBefore(t,s||null)},remove:t=>{const i=t.parentNode;i&&i.removeChild(t)},createElement:(t,i,s,u)=>{const p=i==="svg"?Zi.createElementNS(Og,t):i==="mathml"?Zi.createElementNS(Dg,t):s?Zi.createElement(t,{is:s}):Zi.createElement(t);return t==="select"&&u&&u.multiple!=null&&p.setAttribute("multiple",u.multiple),p},createText:t=>Zi.createTextNode(t),createComment:t=>Zi.createComment(t),setText:(t,i)=>{t.nodeValue=i},setElementText:(t,i)=>{t.textContent=i},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Zi.querySelector(t),setScopeId(t,i){t.setAttribute(i,"")},insertStaticContent(t,i,s,u,p,l){const h=s?s.previousSibling:i.lastChild;if(p&&(p===l||p.nextSibling))for(;i.insertBefore(p.cloneNode(!0),s),!(p===l||!(p=p.nextSibling)););else{jh.innerHTML=u==="svg"?`<svg>${t}</svg>`:u==="mathml"?`<math>${t}</math>`:t;const _=jh.content;if(u==="svg"||u==="mathml"){const y=_.firstChild;for(;y.firstChild;)_.appendChild(y.firstChild);_.removeChild(y)}i.insertBefore(_,s)}return[h?h.nextSibling:i.firstChild,s?s.previousSibling:i.lastChild]}},ar="transition",Os="animation",Js=Symbol("_vtc"),Il=(t,{slots:i})=>Jc(Sm,Ig(t),i);Il.displayName="Transition";const sf={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};Il.props=Ln({},wp,sf);const Gr=(t,i=[])=>{ce(t)?t.forEach(s=>s(...i)):t&&t(...i)},zh=t=>t?ce(t)?t.some(i=>i.length>1):t.length>1:!1;function Ig(t){const i={};for(const St in t)St in sf||(i[St]=t[St]);if(t.css===!1)return i;const{name:s="v",type:u,duration:p,enterFromClass:l=`${s}-enter-from`,enterActiveClass:h=`${s}-enter-active`,enterToClass:_=`${s}-enter-to`,appearFromClass:y=l,appearActiveClass:b=h,appearToClass:w=_,leaveFromClass:k=`${s}-leave-from`,leaveActiveClass:T=`${s}-leave-active`,leaveToClass:I=`${s}-leave-to`}=t,G=Fg(p),J=G&&G[0],st=G&&G[1],{onBeforeEnter:xt,onEnter:yt,onEnterCancelled:j,onLeave:lt,onLeaveCancelled:vt,onBeforeAppear:bt=xt,onAppear:It=yt,onAppearCancelled:Rt=j}=i,wt=(St,re,xe)=>{Hr(St,re?w:_),Hr(St,re?b:h),xe&&xe()},Tt=(St,re)=>{St._isLeaving=!1,Hr(St,k),Hr(St,I),Hr(St,T),re&&re()},$t=St=>(re,xe)=>{const Ae=St?It:yt,jt=()=>wt(re,St,xe);Gr(Ae,[re,jt]),Vh(()=>{Hr(re,St?y:l),lr(re,St?w:_),zh(Ae)||$h(re,u,J,jt)})};return Ln(i,{onBeforeEnter(St){Gr(xt,[St]),lr(St,l),lr(St,h)},onBeforeAppear(St){Gr(bt,[St]),lr(St,y),lr(St,b)},onEnter:$t(!1),onAppear:$t(!0),onLeave(St,re){St._isLeaving=!0;const xe=()=>Tt(St,re);lr(St,k),lr(St,T),zg(),Vh(()=>{St._isLeaving&&(Hr(St,k),lr(St,I),zh(lt)||$h(St,u,st,xe))}),Gr(lt,[St,xe])},onEnterCancelled(St){wt(St,!1),Gr(j,[St])},onAppearCancelled(St){wt(St,!0),Gr(Rt,[St])},onLeaveCancelled(St){Tt(St),Gr(vt,[St])}})}function Fg(t){if(t==null)return null;if(We(t))return[Gu(t.enter),Gu(t.leave)];{const i=Gu(t);return[i,i]}}function Gu(t){return V_(t)}function lr(t,i){i.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t[Js]||(t[Js]=new Set)).add(i)}function Hr(t,i){i.split(/\s+/).forEach(u=>u&&t.classList.remove(u));const s=t[Js];s&&(s.delete(i),s.size||(t[Js]=void 0))}function Vh(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Ng=0;function $h(t,i,s,u){const p=t._endId=++Ng,l=()=>{p===t._endId&&u()};if(s)return setTimeout(l,s);const{type:h,timeout:_,propCount:y}=jg(t,i);if(!h)return u();const b=h+"end";let w=0;const k=()=>{t.removeEventListener(b,T),l()},T=I=>{I.target===t&&++w>=y&&k()};setTimeout(()=>{w<y&&k()},_+1),t.addEventListener(b,T)}function jg(t,i){const s=window.getComputedStyle(t),u=G=>(s[G]||"").split(", "),p=u(`${ar}Delay`),l=u(`${ar}Duration`),h=Gh(p,l),_=u(`${Os}Delay`),y=u(`${Os}Duration`),b=Gh(_,y);let w=null,k=0,T=0;i===ar?h>0&&(w=ar,k=h,T=l.length):i===Os?b>0&&(w=Os,k=b,T=y.length):(k=Math.max(h,b),w=k>0?h>b?ar:Os:null,T=w?w===ar?l.length:y.length:0);const I=w===ar&&/\b(transform|all)(,|$)/.test(u(`${ar}Property`).toString());return{type:w,timeout:k,propCount:T,hasTransform:I}}function Gh(t,i){for(;t.length<i.length;)t=t.concat(t);return Math.max(...i.map((s,u)=>Hh(s)+Hh(t[u])))}function Hh(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function zg(){return document.body.offsetHeight}function Vg(t,i,s){const u=t[Js];u&&(i=(i?[i,...u]:[...u]).join(" ")),i==null?t.removeAttribute("class"):s?t.setAttribute("class",i):t.className=i}const bl=Symbol("_vod"),af=Symbol("_vsh"),Fl={beforeMount(t,{value:i},{transition:s}){t[bl]=t.style.display==="none"?"":t.style.display,s&&i?s.beforeEnter(t):Ds(t,i)},mounted(t,{value:i},{transition:s}){s&&i&&s.enter(t)},updated(t,{value:i,oldValue:s},{transition:u}){!i!=!s&&(u?i?(u.beforeEnter(t),Ds(t,!0),u.enter(t)):u.leave(t,()=>{Ds(t,!1)}):Ds(t,i))},beforeUnmount(t,{value:i}){Ds(t,i)}};function Ds(t,i){t.style.display=i?t[bl]:"none",t[af]=!i}const $g=Symbol(""),Gg=/(^|;)\s*display\s*:/;function Hg(t,i,s){const u=t.style,p=ln(s);let l=!1;if(s&&!p){if(i)if(ln(i))for(const h of i.split(";")){const _=h.slice(0,h.indexOf(":")).trim();s[_]==null&&ll(u,_,"")}else for(const h in i)s[h]==null&&ll(u,h,"");for(const h in s)h==="display"&&(l=!0),ll(u,h,s[h])}else if(p){if(i!==s){const h=u[$g];h&&(s+=";"+h),u.cssText=s,l=Gg.test(s)}}else i&&t.removeAttribute("style");bl in t&&(t[bl]=l?u.display:"",t[af]&&(u.display="none"))}const Uh=/\s*!important$/;function ll(t,i,s){if(ce(s))s.forEach(u=>ll(t,i,u));else if(s==null&&(s=""),i.startsWith("--"))t.setProperty(i,s);else{const u=Ug(t,i);Uh.test(s)?t.setProperty(eo(u),s.replace(Uh,""),"important"):t[u]=s}}const Zh=["Webkit","Moz","ms"],Hu={};function Ug(t,i){const s=Hu[i];if(s)return s;let u=xi(i);if(u!=="filter"&&u in t)return Hu[i]=u;u=Ml(u);for(let p=0;p<Zh.length;p++){const l=Zh[p]+u;if(l in t)return Hu[i]=l}return i}const qh="http://www.w3.org/1999/xlink";function Kh(t,i,s,u,p,l=q_(i)){u&&i.startsWith("xlink:")?s==null?t.removeAttributeNS(qh,i.slice(6,i.length)):t.setAttributeNS(qh,i,s):s==null||l&&!Wd(s)?t.removeAttribute(i):t.setAttribute(i,l?"":Cr(s)?String(s):s)}function Zg(t,i,s,u){if(i==="innerHTML"||i==="textContent"){if(s==null)return;t[i]=s;return}const p=t.tagName;if(i==="value"&&p!=="PROGRESS"&&!p.includes("-")){const h=p==="OPTION"?t.getAttribute("value")||"":t.value,_=s==null?"":String(s);(h!==_||!("_value"in t))&&(t.value=_),s==null&&t.removeAttribute(i),t._value=s;return}let l=!1;if(s===""||s==null){const h=typeof t[i];h==="boolean"?s=Wd(s):s==null&&h==="string"?(s="",l=!0):h==="number"&&(s=0,l=!0)}try{t[i]=s}catch{}l&&t.removeAttribute(i)}function Io(t,i,s,u){t.addEventListener(i,s,u)}function qg(t,i,s,u){t.removeEventListener(i,s,u)}const Wh=Symbol("_vei");function Kg(t,i,s,u,p=null){const l=t[Wh]||(t[Wh]={}),h=l[i];if(u&&h)h.value=u;else{const[_,y]=Wg(i);if(u){const b=l[i]=Xg(u,p);Io(t,_,b,y)}else h&&(qg(t,_,h,y),l[i]=void 0)}}const Jh=/(?:Once|Passive|Capture)$/;function Wg(t){let i;if(Jh.test(t)){i={};let u;for(;u=t.match(Jh);)t=t.slice(0,t.length-u[0].length),i[u[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):eo(t.slice(2)),i]}let Uu=0;const Jg=Promise.resolve(),Yg=()=>Uu||(Jg.then(()=>Uu=0),Uu=Date.now());function Xg(t,i){const s=u=>{if(!u._vts)u._vts=Date.now();else if(u._vts<=s.attached)return;di(Qg(u,s.value),i,5,[u])};return s.value=t,s.attached=Yg(),s}function Qg(t,i){if(ce(i)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},i.map(u=>p=>!p._stopped&&u&&u(p))}else return i}const Yh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,t0=(t,i,s,u,p,l)=>{const h=p==="svg";i==="class"?Vg(t,u,h):i==="style"?Hg(t,s,u):ea(i)?Ac(i)||Kg(t,i,s,u,l):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):e0(t,i,u,h))?(Zg(t,i,u),!t.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&Kh(t,i,u,h,l,i!=="value")):(i==="true-value"?t._trueValue=u:i==="false-value"&&(t._falseValue=u),Kh(t,i,u,h))};function e0(t,i,s,u){if(u)return!!(i==="innerHTML"||i==="textContent"||i in t&&Yh(i)&&ge(s));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&t.tagName==="INPUT"||i==="type"&&t.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const p=t.tagName;if(p==="IMG"||p==="VIDEO"||p==="CANVAS"||p==="SOURCE")return!1}return Yh(i)&&ln(s)?!1:i in t}const Xh=t=>{const i=t.props["onUpdate:modelValue"]||!1;return ce(i)?s=>rl(i,s):i};function n0(t){t.target.composing=!0}function Qh(t){const i=t.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const Zu=Symbol("_assign"),i0={created(t,{modifiers:{lazy:i,trim:s,number:u}},p){t[Zu]=Xh(p);const l=u||p.props&&p.props.type==="number";Io(t,i?"change":"input",h=>{if(h.target.composing)return;let _=t.value;s&&(_=_.trim()),l&&(_=rc(_)),t[Zu](_)}),s&&Io(t,"change",()=>{t.value=t.value.trim()}),i||(Io(t,"compositionstart",n0),Io(t,"compositionend",Qh),Io(t,"change",Qh))},mounted(t,{value:i}){t.value=i??""},beforeUpdate(t,{value:i,oldValue:s,modifiers:{lazy:u,trim:p,number:l}},h){if(t[Zu]=Xh(h),t.composing)return;const _=(l||t.type==="number")&&!/^0\d/.test(t.value)?rc(t.value):t.value,y=i??"";_!==y&&(document.activeElement===t&&t.type!=="range"&&(u&&i===s||p&&t.value.trim()===y)||(t.value=y))}},r0=["ctrl","shift","alt","meta"],o0={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,i)=>r0.some(s=>t[`${s}Key`]&&!i.includes(s))},xl=(t,i)=>{const s=t._withMods||(t._withMods={}),u=i.join(".");return s[u]||(s[u]=(p,...l)=>{for(let h=0;h<i.length;h++){const _=o0[i[h]];if(_&&_(p,i))return}return t(p,...l)})},s0=Ln({patchProp:t0},Rg);let qu,td=!1;function a0(){return qu=td?qu:ag(s0),td=!0,qu}const l0=(...t)=>{const i=a0().createApp(...t),{mount:s}=i;return i.mount=u=>{const p=c0(u);if(p)return s(p,!0,u0(p))},i};function u0(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function c0(t){return ln(t)?document.querySelector(t):t}let h0;function d0(){return h0}function Yc(t,i={}){const s=i.head||d0();return s==null?void 0:s.push(t,i)}const p0=["title"],f0={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},_0=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"},null,-1),m0=[_0],g0={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},y0=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1),v0=[y0],lf={__name:"SwitchTheme",setup(t){const i={dark:"dark",light:"light"},s=Yt(null);window!==void 0&&(localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?s.value="dark":s.value="light",mn(s,(p,l)=>{document.documentElement.classList.add(p),document.documentElement.classList.remove(l),localStorage.setItem("theme",p)},{immediate:!0}));const u=()=>{s.value===i.dark?s.value=i.light:s.value=i.dark};return(p,l)=>(N(),tt("button",{type:"button",onClick:u,title:s.value===i.light?"Change to dark mode":"Change to light mode"},[s.value===i.dark?(N(),tt("svg",f0,m0)):(N(),tt("svg",g0,v0))],8,p0))}};var b0={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const x0=["aria-expanded"],L0=Q("span",{class:"sr-only"},"Open main menu",-1),C0={key:0,class:"absolute top-full left-0 w-full z-50 bg-base-foreground text-base-content block shadow-md md:hidden print:hidden"},w0={class:"font-normal container mx-auto"},k0={class:"flex flex-col m-0 p-0 border-t border-base-border"},M0={__name:"NavbarMobile",setup(t){const{header_links:i}=b0,s=Yt(!1),u=()=>{s.value=!s.value};return(p,l)=>{const h=ft("IconClose"),_=ft("IconHamburger"),y=ft("router-link"),b=ft("ClientOnly"),w=ft("TrackerReport"),k=ft("AnimationOpacity");return N(),tt(Qt,null,[Q("button",{type:"button",class:"inline-flex items-center p-2 z-50 ml-3 text-sm text-primary-content rounded-lg md:hidden print:hidden",title:"Menu","aria-controls":"mobile-menu","aria-expanded":s.value,onClick:u},[L0,s.value?(N(),At(h,{key:0})):(N(),At(_,{key:1,class:"w-6 h-6"}))],8,x0),ot(k,null,{default:pt(()=>[s.value?(N(),tt("div",C0,[Q("nav",w0,[Q("ul",k0,[(N(!0),tt(Qt,null,Se(ie(i),(T,I)=>(N(),tt("li",{key:I,class:"border-b border-base-border"},[ot(y,{to:T.link,class:"text-base-content w-full p-4 pt-3 pb-3 block box-border"},{default:pt(()=>[pe(ae(T.label),1)]),_:2},1032,["to"])]))),128)),Q("li",null,[ot(b,null,{default:pt(()=>[ot(lf,{class:"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})]),_:1})]),Q("li",null,[ot(w,{icon:"","button-class":"text-base-content w-full p-4 pt-3 pb-3 block box-border border-b border-b-base-border"})])])])])):Gt("",!0)]),_:1})],64)}}};function E0(t){try{return new URL(t),!0}catch{return!1}}var B0={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const P0={class:"relative bg-header px-2 sm:px-4 py-2.5 shadow-sm shadow-base-muted pl-4 pr-4 h-9 align-middle flex items-center bg-primary-color"},S0={class:"container flex flex-wrap justify-between items-center mx-auto font-medium text-secondary-content"},T0=["src","alt"],A0={class:"relative hidden md:flex items-center ml-auto"},O0={class:"text-sm leading-6 font-normal"},D0={class:"flex space-x-8"},R0={class:"flex items-center border-l ml-6 pl-6 border-base-muted border-opacity-50"},I0={class:"flex items-center ml-2 border-base-muted"},F0={__name:"LayoutHeader",setup(t){const{header_links:i,header_logo_text:s,header_logo_url:u,base_url:p,project_name:l}=B0,h=E0(u)?u:(p+u).replace("//","/");return(_,y)=>{const b=ft("RouterLink"),w=ft("router-link"),k=ft("ClientOnly"),T=ft("TrackerReport");return N(),tt("header",P0,[Q("div",S0,[ot(b,{to:"/",class:"flex items-center text-primary-content"},{default:pt(()=>[ie(u)?(N(),tt("img",{key:0,class:"mr-3 h-10",src:ie(h),alt:ie(s)},null,8,T0)):Gt("",!0),Q("span",null,ae(ie(s)||ie(l)),1)]),_:1}),ot(M0),Q("div",A0,[Q("nav",O0,[Q("ul",D0,[(N(!0),tt(Qt,null,Se(ie(i),(I,G)=>(N(),tt("li",{key:G},[ot(w,{to:I.link,class:"hover:text-primary-content text-primary-content"},{default:pt(()=>[pe(ae(I.label),1)]),_:2},1032,["to"])]))),128))])]),Q("div",R0,[ot(k,null,{default:pt(()=>[ot(lf,{class:"text-primary-content"})]),_:1})]),Q("div",I0,[ot(T,{icon:""})])])])])}}};/*!
  * vue-router v4.4.3
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fo=typeof document<"u";function N0(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Ve=Object.assign;function Ku(t,i){const s={};for(const u in i){const p=i[u];s[u]=Li(p)?p.map(t):t(p)}return s}const $s=()=>{},Li=Array.isArray,uf=/#/g,j0=/&/g,z0=/\//g,V0=/=/g,$0=/\?/g,cf=/\+/g,G0=/%5B/g,H0=/%5D/g,hf=/%5E/g,U0=/%60/g,df=/%7B/g,Z0=/%7C/g,pf=/%7D/g,q0=/%20/g;function Xc(t){return encodeURI(""+t).replace(Z0,"|").replace(G0,"[").replace(H0,"]")}function K0(t){return Xc(t).replace(df,"{").replace(pf,"}").replace(hf,"^")}function _c(t){return Xc(t).replace(cf,"%2B").replace(q0,"+").replace(uf,"%23").replace(j0,"%26").replace(U0,"`").replace(df,"{").replace(pf,"}").replace(hf,"^")}function W0(t){return _c(t).replace(V0,"%3D")}function J0(t){return Xc(t).replace(uf,"%23").replace($0,"%3F")}function Y0(t){return t==null?"":J0(t).replace(z0,"%2F")}function Ys(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const X0=/\/$/,Q0=t=>t.replace(X0,"");function Wu(t,i,s="/"){let u,p={},l="",h="";const _=i.indexOf("#");let y=i.indexOf("?");return _<y&&_>=0&&(y=-1),y>-1&&(u=i.slice(0,y),l=i.slice(y+1,_>-1?_:i.length),p=t(l)),_>-1&&(u=u||i.slice(0,_),h=i.slice(_,i.length)),u=iy(u??i,s),{fullPath:u+(l&&"?")+l+h,path:u,query:p,hash:Ys(h)}}function ty(t,i){const s=i.query?t(i.query):"";return i.path+(s&&"?")+s+(i.hash||"")}function ed(t,i){return!i||!t.toLowerCase().startsWith(i.toLowerCase())?t:t.slice(i.length)||"/"}function ey(t,i,s){const u=i.matched.length-1,p=s.matched.length-1;return u>-1&&u===p&&Uo(i.matched[u],s.matched[p])&&ff(i.params,s.params)&&t(i.query)===t(s.query)&&i.hash===s.hash}function Uo(t,i){return(t.aliasOf||t)===(i.aliasOf||i)}function ff(t,i){if(Object.keys(t).length!==Object.keys(i).length)return!1;for(const s in t)if(!ny(t[s],i[s]))return!1;return!0}function ny(t,i){return Li(t)?nd(t,i):Li(i)?nd(i,t):t===i}function nd(t,i){return Li(i)?t.length===i.length&&t.every((s,u)=>s===i[u]):t.length===1&&t[0]===i}function iy(t,i){if(t.startsWith("/"))return t;if(!t)return i;const s=i.split("/"),u=t.split("/"),p=u[u.length-1];(p===".."||p===".")&&u.push("");let l=s.length-1,h,_;for(h=0;h<u.length;h++)if(_=u[h],_!==".")if(_==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+u.slice(h).join("/")}const ur={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var Xs;(function(t){t.pop="pop",t.push="push"})(Xs||(Xs={}));var Gs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Gs||(Gs={}));function ry(t){if(!t)if(Fo){const i=document.querySelector("base");t=i&&i.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),Q0(t)}const oy=/^[^#]+#/;function sy(t,i){return t.replace(oy,"#")+i}function ay(t,i){const s=document.documentElement.getBoundingClientRect(),u=t.getBoundingClientRect();return{behavior:i.behavior,left:u.left-s.left-(i.left||0),top:u.top-s.top-(i.top||0)}}const Nl=()=>({left:window.scrollX,top:window.scrollY});function ly(t){let i;if("el"in t){const s=t.el,u=typeof s=="string"&&s.startsWith("#"),p=typeof s=="string"?u?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!p)return;i=ay(p,t)}else i=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(i):window.scrollTo(i.left!=null?i.left:window.scrollX,i.top!=null?i.top:window.scrollY)}function id(t,i){return(history.state?history.state.position-i:-1)+t}const mc=new Map;function uy(t,i){mc.set(t,i)}function cy(t){const i=mc.get(t);return mc.delete(t),i}let hy=()=>location.protocol+"//"+location.host;function _f(t,i){const{pathname:s,search:u,hash:p}=i,l=t.indexOf("#");if(l>-1){let _=p.includes(t.slice(l))?t.slice(l).length:1,y=p.slice(_);return y[0]!=="/"&&(y="/"+y),ed(y,"")}return ed(s,t)+u+p}function dy(t,i,s,u){let p=[],l=[],h=null;const _=({state:T})=>{const I=_f(t,location),G=s.value,J=i.value;let st=0;if(T){if(s.value=I,i.value=T,h&&h===G){h=null;return}st=J?T.position-J.position:0}else u(I);p.forEach(xt=>{xt(s.value,G,{delta:st,type:Xs.pop,direction:st?st>0?Gs.forward:Gs.back:Gs.unknown})})};function y(){h=s.value}function b(T){p.push(T);const I=()=>{const G=p.indexOf(T);G>-1&&p.splice(G,1)};return l.push(I),I}function w(){const{history:T}=window;T.state&&T.replaceState(Ve({},T.state,{scroll:Nl()}),"")}function k(){for(const T of l)T();l=[],window.removeEventListener("popstate",_),window.removeEventListener("beforeunload",w)}return window.addEventListener("popstate",_),window.addEventListener("beforeunload",w,{passive:!0}),{pauseListeners:y,listen:b,destroy:k}}function rd(t,i,s,u=!1,p=!1){return{back:t,current:i,forward:s,replaced:u,position:window.history.length,scroll:p?Nl():null}}function py(t){const{history:i,location:s}=window,u={value:_f(t,s)},p={value:i.state};p.value||l(u.value,{back:null,current:u.value,forward:null,position:i.length-1,replaced:!0,scroll:null},!0);function l(y,b,w){const k=t.indexOf("#"),T=k>-1?(s.host&&document.querySelector("base")?t:t.slice(k))+y:hy()+t+y;try{i[w?"replaceState":"pushState"](b,"",T),p.value=b}catch(I){console.error(I),s[w?"replace":"assign"](T)}}function h(y,b){const w=Ve({},i.state,rd(p.value.back,y,p.value.forward,!0),b,{position:p.value.position});l(y,w,!0),u.value=y}function _(y,b){const w=Ve({},p.value,i.state,{forward:y,scroll:Nl()});l(w.current,w,!0);const k=Ve({},rd(u.value,y,null),{position:w.position+1},b);l(y,k,!1),u.value=y}return{location:u,state:p,push:_,replace:h}}function mf(t){t=ry(t);const i=py(t),s=dy(t,i.state,i.location,i.replace);function u(l,h=!0){h||s.pauseListeners(),history.go(l)}const p=Ve({location:"",base:t,go:u,createHref:sy.bind(null,t)},i,s);return Object.defineProperty(p,"location",{enumerable:!0,get:()=>i.location.value}),Object.defineProperty(p,"state",{enumerable:!0,get:()=>i.state.value}),p}function fy(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),mf(t)}function _y(t){return typeof t=="string"||t&&typeof t=="object"}function gf(t){return typeof t=="string"||typeof t=="symbol"}const yf=Symbol("");var od;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(od||(od={}));function Zo(t,i){return Ve(new Error,{type:t,[yf]:!0},i)}function Ui(t,i){return t instanceof Error&&yf in t&&(i==null||!!(t.type&i))}const sd="[^/]+?",my={sensitive:!1,strict:!1,start:!0,end:!0},gy=/[.+*?^${}()[\]/\\]/g;function yy(t,i){const s=Ve({},my,i),u=[];let p=s.start?"^":"";const l=[];for(const b of t){const w=b.length?[]:[90];s.strict&&!b.length&&(p+="/");for(let k=0;k<b.length;k++){const T=b[k];let I=40+(s.sensitive?.25:0);if(T.type===0)k||(p+="/"),p+=T.value.replace(gy,"\\$&"),I+=40;else if(T.type===1){const{value:G,repeatable:J,optional:st,regexp:xt}=T;l.push({name:G,repeatable:J,optional:st});const yt=xt||sd;if(yt!==sd){I+=10;try{new RegExp(`(${yt})`)}catch(lt){throw new Error(`Invalid custom RegExp for param "${G}" (${yt}): `+lt.message)}}let j=J?`((?:${yt})(?:/(?:${yt}))*)`:`(${yt})`;k||(j=st&&b.length<2?`(?:/${j})`:"/"+j),st&&(j+="?"),p+=j,I+=20,st&&(I+=-8),J&&(I+=-20),yt===".*"&&(I+=-50)}w.push(I)}u.push(w)}if(s.strict&&s.end){const b=u.length-1;u[b][u[b].length-1]+=.7000000000000001}s.strict||(p+="/?"),s.end?p+="$":s.strict&&(p+="(?:/|$)");const h=new RegExp(p,s.sensitive?"":"i");function _(b){const w=b.match(h),k={};if(!w)return null;for(let T=1;T<w.length;T++){const I=w[T]||"",G=l[T-1];k[G.name]=I&&G.repeatable?I.split("/"):I}return k}function y(b){let w="",k=!1;for(const T of t){(!k||!w.endsWith("/"))&&(w+="/"),k=!1;for(const I of T)if(I.type===0)w+=I.value;else if(I.type===1){const{value:G,repeatable:J,optional:st}=I,xt=G in b?b[G]:"";if(Li(xt)&&!J)throw new Error(`Provided param "${G}" is an array but it is not repeatable (* or + modifiers)`);const yt=Li(xt)?xt.join("/"):xt;if(!yt)if(st)T.length<2&&(w.endsWith("/")?w=w.slice(0,-1):k=!0);else throw new Error(`Missing required param "${G}"`);w+=yt}}return w||"/"}return{re:h,score:u,keys:l,parse:_,stringify:y}}function vy(t,i){let s=0;for(;s<t.length&&s<i.length;){const u=i[s]-t[s];if(u)return u;s++}return t.length<i.length?t.length===1&&t[0]===80?-1:1:t.length>i.length?i.length===1&&i[0]===80?1:-1:0}function vf(t,i){let s=0;const u=t.score,p=i.score;for(;s<u.length&&s<p.length;){const l=vy(u[s],p[s]);if(l)return l;s++}if(Math.abs(p.length-u.length)===1){if(ad(u))return 1;if(ad(p))return-1}return p.length-u.length}function ad(t){const i=t[t.length-1];return t.length>0&&i[i.length-1]<0}const by={type:0,value:""},xy=/[a-zA-Z0-9_]/;function Ly(t){if(!t)return[[]];if(t==="/")return[[by]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function i(I){throw new Error(`ERR (${s})/"${b}": ${I}`)}let s=0,u=s;const p=[];let l;function h(){l&&p.push(l),l=[]}let _=0,y,b="",w="";function k(){b&&(s===0?l.push({type:0,value:b}):s===1||s===2||s===3?(l.length>1&&(y==="*"||y==="+")&&i(`A repeatable param (${b}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:b,regexp:w,repeatable:y==="*"||y==="+",optional:y==="*"||y==="?"})):i("Invalid state to consume buffer"),b="")}function T(){b+=y}for(;_<t.length;){if(y=t[_++],y==="\\"&&s!==2){u=s,s=4;continue}switch(s){case 0:y==="/"?(b&&k(),h()):y===":"?(k(),s=1):T();break;case 4:T(),s=u;break;case 1:y==="("?s=2:xy.test(y)?T():(k(),s=0,y!=="*"&&y!=="?"&&y!=="+"&&_--);break;case 2:y===")"?w[w.length-1]=="\\"?w=w.slice(0,-1)+y:s=3:w+=y;break;case 3:k(),s=0,y!=="*"&&y!=="?"&&y!=="+"&&_--,w="";break;default:i("Unknown state");break}}return s===2&&i(`Unfinished custom RegExp for param "${b}"`),k(),h(),p}function Cy(t,i,s){const u=yy(Ly(t.path),s),p=Ve(u,{record:t,parent:i,children:[],alias:[]});return i&&!p.record.aliasOf==!i.record.aliasOf&&i.children.push(p),p}function wy(t,i){const s=[],u=new Map;i=cd({strict:!1,end:!0,sensitive:!1},i);function p(k){return u.get(k)}function l(k,T,I){const G=!I,J=ky(k);J.aliasOf=I&&I.record;const st=cd(i,k),xt=[J];if("alias"in k){const lt=typeof k.alias=="string"?[k.alias]:k.alias;for(const vt of lt)xt.push(Ve({},J,{components:I?I.record.components:J.components,path:vt,aliasOf:I?I.record:J}))}let yt,j;for(const lt of xt){const{path:vt}=lt;if(T&&vt[0]!=="/"){const bt=T.record.path,It=bt[bt.length-1]==="/"?"":"/";lt.path=T.record.path+(vt&&It+vt)}if(yt=Cy(lt,T,st),I?I.alias.push(yt):(j=j||yt,j!==yt&&j.alias.push(yt),G&&k.name&&!ud(yt)&&h(k.name)),bf(yt)&&y(yt),J.children){const bt=J.children;for(let It=0;It<bt.length;It++)l(bt[It],yt,I&&I.children[It])}I=I||yt}return j?()=>{h(j)}:$s}function h(k){if(gf(k)){const T=u.get(k);T&&(u.delete(k),s.splice(s.indexOf(T),1),T.children.forEach(h),T.alias.forEach(h))}else{const T=s.indexOf(k);T>-1&&(s.splice(T,1),k.record.name&&u.delete(k.record.name),k.children.forEach(h),k.alias.forEach(h))}}function _(){return s}function y(k){const T=By(k,s);s.splice(T,0,k),k.record.name&&!ud(k)&&u.set(k.record.name,k)}function b(k,T){let I,G={},J,st;if("name"in k&&k.name){if(I=u.get(k.name),!I)throw Zo(1,{location:k});st=I.record.name,G=Ve(ld(T.params,I.keys.filter(j=>!j.optional).concat(I.parent?I.parent.keys.filter(j=>j.optional):[]).map(j=>j.name)),k.params&&ld(k.params,I.keys.map(j=>j.name))),J=I.stringify(G)}else if(k.path!=null)J=k.path,I=s.find(j=>j.re.test(J)),I&&(G=I.parse(J),st=I.record.name);else{if(I=T.name?u.get(T.name):s.find(j=>j.re.test(T.path)),!I)throw Zo(1,{location:k,currentLocation:T});st=I.record.name,G=Ve({},T.params,k.params),J=I.stringify(G)}const xt=[];let yt=I;for(;yt;)xt.unshift(yt.record),yt=yt.parent;return{name:st,path:J,params:G,matched:xt,meta:Ey(xt)}}t.forEach(k=>l(k));function w(){s.length=0,u.clear()}return{addRoute:l,resolve:b,removeRoute:h,clearRoutes:w,getRoutes:_,getRecordMatcher:p}}function ld(t,i){const s={};for(const u of i)u in t&&(s[u]=t[u]);return s}function ky(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:My(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function My(t){const i={},s=t.props||!1;if("component"in t)i.default=s;else for(const u in t.components)i[u]=typeof s=="object"?s[u]:s;return i}function ud(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Ey(t){return t.reduce((i,s)=>Ve(i,s.meta),{})}function cd(t,i){const s={};for(const u in t)s[u]=u in i?i[u]:t[u];return s}function By(t,i){let s=0,u=i.length;for(;s!==u;){const l=s+u>>1;vf(t,i[l])<0?u=l:s=l+1}const p=Py(t);return p&&(u=i.lastIndexOf(p,u-1)),u}function Py(t){let i=t;for(;i=i.parent;)if(bf(i)&&vf(t,i)===0)return i}function bf({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function Sy(t){const i={};if(t===""||t==="?")return i;const u=(t[0]==="?"?t.slice(1):t).split("&");for(let p=0;p<u.length;++p){const l=u[p].replace(cf," "),h=l.indexOf("="),_=Ys(h<0?l:l.slice(0,h)),y=h<0?null:Ys(l.slice(h+1));if(_ in i){let b=i[_];Li(b)||(b=i[_]=[b]),b.push(y)}else i[_]=y}return i}function hd(t){let i="";for(let s in t){const u=t[s];if(s=W0(s),u==null){u!==void 0&&(i+=(i.length?"&":"")+s);continue}(Li(u)?u.map(l=>l&&_c(l)):[u&&_c(u)]).forEach(l=>{l!==void 0&&(i+=(i.length?"&":"")+s,l!=null&&(i+="="+l))})}return i}function Ty(t){const i={};for(const s in t){const u=t[s];u!==void 0&&(i[s]=Li(u)?u.map(p=>p==null?null:""+p):u==null?u:""+u)}return i}const Ay=Symbol(""),dd=Symbol(""),jl=Symbol(""),Qc=Symbol(""),gc=Symbol("");function Rs(){let t=[];function i(u){return t.push(u),()=>{const p=t.indexOf(u);p>-1&&t.splice(p,1)}}function s(){t=[]}return{add:i,list:()=>t.slice(),reset:s}}function _r(t,i,s,u,p,l=h=>h()){const h=u&&(u.enterCallbacks[p]=u.enterCallbacks[p]||[]);return()=>new Promise((_,y)=>{const b=T=>{T===!1?y(Zo(4,{from:s,to:i})):T instanceof Error?y(T):_y(T)?y(Zo(2,{from:i,to:T})):(h&&u.enterCallbacks[p]===h&&typeof T=="function"&&h.push(T),_())},w=l(()=>t.call(u&&u.instances[p],i,s,b));let k=Promise.resolve(w);t.length<3&&(k=k.then(b)),k.catch(T=>y(T))})}function Ju(t,i,s,u,p=l=>l()){const l=[];for(const h of t)for(const _ in h.components){let y=h.components[_];if(!(i!=="beforeRouteEnter"&&!h.instances[_]))if(Oy(y)){const w=(y.__vccOpts||y)[i];w&&l.push(_r(w,s,u,h,_,p))}else{let b=y();l.push(()=>b.then(w=>{if(!w)return Promise.reject(new Error(`Couldn't resolve component "${_}" at "${h.path}"`));const k=N0(w)?w.default:w;h.components[_]=k;const I=(k.__vccOpts||k)[i];return I&&_r(I,s,u,h,_,p)()}))}}return l}function Oy(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function pd(t){const i=pi(jl),s=pi(Qc),u=ue(()=>{const y=ie(t.to);return i.resolve(y)}),p=ue(()=>{const{matched:y}=u.value,{length:b}=y,w=y[b-1],k=s.matched;if(!w||!k.length)return-1;const T=k.findIndex(Uo.bind(null,w));if(T>-1)return T;const I=fd(y[b-2]);return b>1&&fd(w)===I&&k[k.length-1].path!==I?k.findIndex(Uo.bind(null,y[b-2])):T}),l=ue(()=>p.value>-1&&Fy(s.params,u.value.params)),h=ue(()=>p.value>-1&&p.value===s.matched.length-1&&ff(s.params,u.value.params));function _(y={}){return Iy(y)?i[ie(t.replace)?"replace":"push"](ie(t.to)).catch($s):Promise.resolve()}return{route:u,href:ue(()=>u.value.href),isActive:l,isExactActive:h,navigate:_}}const Dy=Bp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:pd,setup(t,{slots:i}){const s=na(pd(t)),{options:u}=pi(jl),p=ue(()=>({[_d(t.activeClass,u.linkActiveClass,"router-link-active")]:s.isActive,[_d(t.exactActiveClass,u.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=i.default&&i.default(s);return t.custom?l:Jc("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:p.value},l)}}}),Ry=Dy;function Iy(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const i=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(i))return}return t.preventDefault&&t.preventDefault(),!0}}function Fy(t,i){for(const s in i){const u=i[s],p=t[s];if(typeof u=="string"){if(u!==p)return!1}else if(!Li(p)||p.length!==u.length||u.some((l,h)=>l!==p[h]))return!1}return!0}function fd(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const _d=(t,i,s)=>t??i??s,Ny=Bp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:i,slots:s}){const u=pi(gc),p=ue(()=>t.route||u.value),l=pi(dd,0),h=ue(()=>{let b=ie(l);const{matched:w}=p.value;let k;for(;(k=w[b])&&!k.components;)b++;return b}),_=ue(()=>p.value.matched[h.value]);sl(dd,ue(()=>h.value+1)),sl(Ay,_),sl(gc,p);const y=Yt();return mn(()=>[y.value,_.value,t.name],([b,w,k],[T,I,G])=>{w&&(w.instances[k]=b,I&&I!==w&&b&&b===T&&(w.leaveGuards.size||(w.leaveGuards=I.leaveGuards),w.updateGuards.size||(w.updateGuards=I.updateGuards))),b&&w&&(!I||!Uo(w,I)||!T)&&(w.enterCallbacks[k]||[]).forEach(J=>J(b))},{flush:"post"}),()=>{const b=p.value,w=t.name,k=_.value,T=k&&k.components[w];if(!T)return md(s.default,{Component:T,route:b});const I=k.props[w],G=I?I===!0?b.params:typeof I=="function"?I(b):I:null,st=Jc(T,Ve({},G,i,{onVnodeUnmounted:xt=>{xt.component.isUnmounted&&(k.instances[w]=null)},ref:y}));return md(s.default,{Component:st,route:b})||st}}});function md(t,i){if(!t)return null;const s=t(i);return s.length===1?s[0]:s}const jy=Ny;function zy(t){const i=wy(t.routes,t),s=t.parseQuery||Sy,u=t.stringifyQuery||hd,p=t.history,l=Rs(),h=Rs(),_=Rs(),y=gm(ur);let b=ur;Fo&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const w=Ku.bind(null,mt=>""+mt),k=Ku.bind(null,Y0),T=Ku.bind(null,Ys);function I(mt,zt){let Ft,Kt;return gf(mt)?(Ft=i.getRecordMatcher(mt),Kt=zt):Kt=mt,i.addRoute(Kt,Ft)}function G(mt){const zt=i.getRecordMatcher(mt);zt&&i.removeRoute(zt)}function J(){return i.getRoutes().map(mt=>mt.record)}function st(mt){return!!i.getRecordMatcher(mt)}function xt(mt,zt){if(zt=Ve({},zt||y.value),typeof mt=="string"){const H=Wu(s,mt,zt.path),ut=i.resolve({path:H.path},zt),kt=p.createHref(H.fullPath);return Ve(H,ut,{params:T(ut.params),hash:Ys(H.hash),redirectedFrom:void 0,href:kt})}let Ft;if(mt.path!=null)Ft=Ve({},mt,{path:Wu(s,mt.path,zt.path).path});else{const H=Ve({},mt.params);for(const ut in H)H[ut]==null&&delete H[ut];Ft=Ve({},mt,{params:k(H)}),zt.params=k(zt.params)}const Kt=i.resolve(Ft,zt),ke=mt.hash||"";Kt.params=w(T(Kt.params));const Ie=ty(u,Ve({},mt,{hash:K0(ke),path:Kt.path})),z=p.createHref(Ie);return Ve({fullPath:Ie,hash:ke,query:u===hd?Ty(mt.query):mt.query||{}},Kt,{redirectedFrom:void 0,href:z})}function yt(mt){return typeof mt=="string"?Wu(s,mt,y.value.path):Ve({},mt)}function j(mt,zt){if(b!==mt)return Zo(8,{from:zt,to:mt})}function lt(mt){return It(mt)}function vt(mt){return lt(Ve(yt(mt),{replace:!0}))}function bt(mt){const zt=mt.matched[mt.matched.length-1];if(zt&&zt.redirect){const{redirect:Ft}=zt;let Kt=typeof Ft=="function"?Ft(mt):Ft;return typeof Kt=="string"&&(Kt=Kt.includes("?")||Kt.includes("#")?Kt=yt(Kt):{path:Kt},Kt.params={}),Ve({query:mt.query,hash:mt.hash,params:Kt.path!=null?{}:mt.params},Kt)}}function It(mt,zt){const Ft=b=xt(mt),Kt=y.value,ke=mt.state,Ie=mt.force,z=mt.replace===!0,H=bt(Ft);if(H)return It(Ve(yt(H),{state:typeof H=="object"?Ve({},ke,H.state):ke,force:Ie,replace:z}),zt||Ft);const ut=Ft;ut.redirectedFrom=zt;let kt;return!Ie&&ey(u,Kt,Ft)&&(kt=Zo(16,{to:ut,from:Kt}),we(Kt,Kt,!0,!1)),(kt?Promise.resolve(kt):Tt(ut,Kt)).catch(gt=>Ui(gt)?Ui(gt,2)?gt:te(gt):Et(gt,ut,Kt)).then(gt=>{if(gt){if(Ui(gt,2))return It(Ve({replace:z},yt(gt.to),{state:typeof gt.to=="object"?Ve({},ke,gt.to.state):ke,force:Ie}),zt||ut)}else gt=St(ut,Kt,!0,z,ke);return $t(ut,Kt,gt),gt})}function Rt(mt,zt){const Ft=j(mt,zt);return Ft?Promise.reject(Ft):Promise.resolve()}function wt(mt){const zt=ze.values().next().value;return zt&&typeof zt.runWithContext=="function"?zt.runWithContext(mt):mt()}function Tt(mt,zt){let Ft;const[Kt,ke,Ie]=Vy(mt,zt);Ft=Ju(Kt.reverse(),"beforeRouteLeave",mt,zt);for(const H of Kt)H.leaveGuards.forEach(ut=>{Ft.push(_r(ut,mt,zt))});const z=Rt.bind(null,mt,zt);return Ft.push(z),he(Ft).then(()=>{Ft=[];for(const H of l.list())Ft.push(_r(H,mt,zt));return Ft.push(z),he(Ft)}).then(()=>{Ft=Ju(ke,"beforeRouteUpdate",mt,zt);for(const H of ke)H.updateGuards.forEach(ut=>{Ft.push(_r(ut,mt,zt))});return Ft.push(z),he(Ft)}).then(()=>{Ft=[];for(const H of Ie)if(H.beforeEnter)if(Li(H.beforeEnter))for(const ut of H.beforeEnter)Ft.push(_r(ut,mt,zt));else Ft.push(_r(H.beforeEnter,mt,zt));return Ft.push(z),he(Ft)}).then(()=>(mt.matched.forEach(H=>H.enterCallbacks={}),Ft=Ju(Ie,"beforeRouteEnter",mt,zt,wt),Ft.push(z),he(Ft))).then(()=>{Ft=[];for(const H of h.list())Ft.push(_r(H,mt,zt));return Ft.push(z),he(Ft)}).catch(H=>Ui(H,8)?H:Promise.reject(H))}function $t(mt,zt,Ft){_.list().forEach(Kt=>wt(()=>Kt(mt,zt,Ft)))}function St(mt,zt,Ft,Kt,ke){const Ie=j(mt,zt);if(Ie)return Ie;const z=zt===ur,H=Fo?history.state:{};Ft&&(Kt||z?p.replace(mt.fullPath,Ve({scroll:z&&H&&H.scroll},ke)):p.push(mt.fullPath,ke)),y.value=mt,we(mt,zt,Ft,z),te()}let re;function xe(){re||(re=p.listen((mt,zt,Ft)=>{if(!Me.listening)return;const Kt=xt(mt),ke=bt(Kt);if(ke){It(Ve(ke,{replace:!0}),Kt).catch($s);return}b=Kt;const Ie=y.value;Fo&&uy(id(Ie.fullPath,Ft.delta),Nl()),Tt(Kt,Ie).catch(z=>Ui(z,12)?z:Ui(z,2)?(It(z.to,Kt).then(H=>{Ui(H,20)&&!Ft.delta&&Ft.type===Xs.pop&&p.go(-1,!1)}).catch($s),Promise.reject()):(Ft.delta&&p.go(-Ft.delta,!1),Et(z,Kt,Ie))).then(z=>{z=z||St(Kt,Ie,!1),z&&(Ft.delta&&!Ui(z,8)?p.go(-Ft.delta,!1):Ft.type===Xs.pop&&Ui(z,20)&&p.go(-1,!1)),$t(Kt,Ie,z)}).catch($s)}))}let Ae=Rs(),jt=Rs(),Jt;function Et(mt,zt,Ft){te(mt);const Kt=jt.list();return Kt.length?Kt.forEach(ke=>ke(mt,zt,Ft)):console.error(mt),Promise.reject(mt)}function qe(){return Jt&&y.value!==ur?Promise.resolve():new Promise((mt,zt)=>{Ae.add([mt,zt])})}function te(mt){return Jt||(Jt=!mt,xe(),Ae.list().forEach(([zt,Ft])=>mt?Ft(mt):zt()),Ae.reset()),mt}function we(mt,zt,Ft,Kt){const{scrollBehavior:ke}=t;if(!Fo||!ke)return Promise.resolve();const Ie=!Ft&&cy(id(mt.fullPath,0))||(Kt||!Ft)&&history.state&&history.state.scroll||null;return Pl().then(()=>ke(mt,zt,Ie)).then(z=>z&&ly(z)).catch(z=>Et(z,mt,zt))}const Fe=mt=>p.go(mt);let Qe;const ze=new Set,Me={currentRoute:y,listening:!0,addRoute:I,removeRoute:G,clearRoutes:i.clearRoutes,hasRoute:st,getRoutes:J,resolve:xt,options:t,push:lt,replace:vt,go:Fe,back:()=>Fe(-1),forward:()=>Fe(1),beforeEach:l.add,beforeResolve:h.add,afterEach:_.add,onError:jt.add,isReady:qe,install(mt){const zt=this;mt.component("RouterLink",Ry),mt.component("RouterView",jy),mt.config.globalProperties.$router=zt,Object.defineProperty(mt.config.globalProperties,"$route",{enumerable:!0,get:()=>ie(y)}),Fo&&!Qe&&y.value===ur&&(Qe=!0,lt(p.location).catch(ke=>{}));const Ft={};for(const ke in ur)Object.defineProperty(Ft,ke,{get:()=>y.value[ke],enumerable:!0});mt.provide(jl,zt),mt.provide(Qc,dp(Ft)),mt.provide(gc,y);const Kt=mt.unmount;ze.add(mt),mt.unmount=function(){ze.delete(mt),ze.size<1&&(b=ur,re&&re(),re=null,y.value=ur,Qe=!1,Jt=!1),Kt()}}};function he(mt){return mt.reduce((zt,Ft)=>zt.then(()=>wt(Ft)),Promise.resolve())}return Me}function Vy(t,i){const s=[],u=[],p=[],l=Math.max(i.matched.length,t.matched.length);for(let h=0;h<l;h++){const _=i.matched[h];_&&(t.matched.find(b=>Uo(b,_))?u.push(_):s.push(_));const y=t.matched[h];y&&(i.matched.find(b=>Uo(b,y))||p.push(y))}return[s,u,p]}function oa(){return pi(jl)}function zl(t){return pi(Qc)}var $y=!1;/*!
 * pinia v2.2.2
 * (c) 2024 Eduardo San Martin Morote
 * @license MIT
 */let xf;const Vl=t=>xf=t,Lf=Symbol();function yc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var Hs;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(Hs||(Hs={}));function Gy(){const t=Qd(!0),i=t.run(()=>Yt({}));let s=[],u=[];const p=Vc({install(l){Vl(p),p._a=l,l.provide(Lf,p),l.config.globalProperties.$pinia=p,u.forEach(h=>s.push(h)),u=[]},use(l){return!this._a&&!$y?u.push(l):s.push(l),this},_p:s,_a:null,_e:t,_s:new Map,state:i});return p}const Cf=()=>{};function gd(t,i,s,u=Cf){t.push(i);const p=()=>{const l=t.indexOf(i);l>-1&&(t.splice(l,1),u())};return!s&&tp()&&W_(p),p}function Do(t,...i){t.slice().forEach(s=>{s(...i)})}const Hy=t=>t(),yd=Symbol(),Yu=Symbol();function vc(t,i){t instanceof Map&&i instanceof Map?i.forEach((s,u)=>t.set(u,s)):t instanceof Set&&i instanceof Set&&i.forEach(t.add,t);for(const s in i){if(!i.hasOwnProperty(s))continue;const u=i[s],p=t[s];yc(p)&&yc(u)&&t.hasOwnProperty(s)&&!gn(u)&&!yr(u)?t[s]=vc(p,u):t[s]=u}return t}const Uy=Symbol();function Zy(t){return!yc(t)||!t.hasOwnProperty(Uy)}const{assign:hr}=Object;function qy(t){return!!(gn(t)&&t.effect)}function Ky(t,i,s,u){const{state:p,actions:l,getters:h}=i,_=s.state.value[t];let y;function b(){_||(s.state.value[t]=p?p():{});const w=bm(s.state.value[t]);return hr(w,l,Object.keys(h||{}).reduce((k,T)=>(k[T]=Vc(ue(()=>{Vl(s);const I=s._s.get(t);return h[T].call(I,I)})),k),{}))}return y=wf(t,b,i,s,u,!0),y}function wf(t,i,s={},u,p,l){let h;const _=hr({actions:{}},s),y={deep:!0};let b,w,k=[],T=[],I;const G=u.state.value[t];!l&&!G&&(u.state.value[t]={}),Yt({});let J;function st(Rt){let wt;b=w=!1,typeof Rt=="function"?(Rt(u.state.value[t]),wt={type:Hs.patchFunction,storeId:t,events:I}):(vc(u.state.value[t],Rt),wt={type:Hs.patchObject,payload:Rt,storeId:t,events:I});const Tt=J=Symbol();Pl().then(()=>{J===Tt&&(b=!0)}),w=!0,Do(k,wt,u.state.value[t])}const xt=l?function(){const{state:wt}=s,Tt=wt?wt():{};this.$patch($t=>{hr($t,Tt)})}:Cf;function yt(){h.stop(),k=[],T=[],u._s.delete(t)}const j=(Rt,wt="")=>{if(yd in Rt)return Rt[Yu]=wt,Rt;const Tt=function(){Vl(u);const $t=Array.from(arguments),St=[],re=[];function xe(Jt){St.push(Jt)}function Ae(Jt){re.push(Jt)}Do(T,{args:$t,name:Tt[Yu],store:vt,after:xe,onError:Ae});let jt;try{jt=Rt.apply(this&&this.$id===t?this:vt,$t)}catch(Jt){throw Do(re,Jt),Jt}return jt instanceof Promise?jt.then(Jt=>(Do(St,Jt),Jt)).catch(Jt=>(Do(re,Jt),Promise.reject(Jt))):(Do(St,jt),jt)};return Tt[yd]=!0,Tt[Yu]=wt,Tt},lt={_p:u,$id:t,$onAction:gd.bind(null,T),$patch:st,$reset:xt,$subscribe(Rt,wt={}){const Tt=gd(k,Rt,wt.detached,()=>$t()),$t=h.run(()=>mn(()=>u.state.value[t],St=>{(wt.flush==="sync"?w:b)&&Rt({storeId:t,type:Hs.direct,events:I},St)},hr({},y,wt)));return Tt},$dispose:yt},vt=na(lt);u._s.set(t,vt);const It=(u._a&&u._a.runWithContext||Hy)(()=>u._e.run(()=>(h=Qd()).run(()=>i({action:j}))));for(const Rt in It){const wt=It[Rt];if(gn(wt)&&!qy(wt)||yr(wt))l||(G&&Zy(wt)&&(gn(wt)?wt.value=G[Rt]:vc(wt,G[Rt])),u.state.value[t][Rt]=wt);else if(typeof wt=="function"){const Tt=j(wt,Rt);It[Rt]=Tt,_.actions[Rt]=wt}}return hr(vt,It),hr(Re(vt),It),Object.defineProperty(vt,"$state",{get:()=>u.state.value[t],set:Rt=>{st(wt=>{hr(wt,Rt)})}}),u._p.forEach(Rt=>{hr(vt,h.run(()=>Rt({store:vt,app:u._a,pinia:u,options:_})))}),G&&l&&s.hydrate&&s.hydrate(vt.$state,G),b=!0,w=!0,vt}function sa(t,i,s){let u,p;const l=typeof i=="function";typeof t=="string"?(u=t,p=l?s:i):(p=t,u=t.id);function h(_,y){const b=Wm();return _=_||(b?pi(Lf,null):null),_&&Vl(_),_=xf,_._s.has(u)||(l?wf(u,i,p,_):Ky(u,p,_)),_._s.get(u)}return h.$id=u,h}const th=sa("footerStore",{state:()=>({nextAuthor:""}),actions:{async setNextAuthorText(t){this.nextAuthor=t}}});var Wy={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const Jy={key:0},Yy={__name:"FooterAnalytics",setup(t){const i={analytics:"Google Analytics",gtm:"Google Tag Manager",pixel:"Facebook Pixel",retargeting:"VK Retargeting",linkedin:"Linkedin Insight",tongji:"Baidu Tongji",metrica:"Yandex Metrica",microsoft:"Microsoft Analytics",hotjar:"Hotjar Analytics",fullStory:"Full story Analytics",unbounce:"Unbounce conversion analytics",tiktok:"TikTok Pixel Analytics"},u=Object.keys(Wy.analytics_services||{}).map(p=>i[p]).filter(Boolean).join("; ");return(p,l)=>ie(u)?(N(),tt("span",Jy,"This site uses "+ae(ie(u))+".",1)):Gt("",!0)}};var Xy={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const Qy={class:"footer text-white bottom-0 border-gray-200 bg-zinc-800 pl-4 pr-4"},tv={class:"container mx-auto text-sm pt-2 pb-4"},ev={class:"pt-4 pb-2 break-words"},nv=["innerHTML"],iv={key:0},rv=["href"],ov={class:"flex items-center text-xs gap-2"},sv=["src"],av=Q("hr",{class:"mt-3 mb-3 border-gray-500"},null,-1),lv={class:"flex flex-col sm:flex-row justify-between gap-4"},uv={class:"[&>*:not(:last-child)]:after:content-['|'] [&>*:not(:last-child)]:after:mx-1"},cv=Q("span",null,[pe(" Data provided by "),Q("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://taxonworks.org/"}," TaxonWorks ")],-1),hv=Q("span",null,[pe(" Pages by "),Q("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://github.com/SpeciesFileGroup/taxonpages"}," TaxonPages ")],-1),dv=Q("span",null,[pe(" Support (Services) by "),Q("a",{class:"text-slate-400 hover:text-slate-500 dark:hover:text-slate-300 font-medium",target:"_blank",href:"https://speciesfilegroup.org"}," Species File Group ")],-1),pv={__name:"LayoutFooter",setup(t){const{project_authors:i,project_citation:s,project_url:u,copyright_text:p,copyright_image:l,copyright_image_link:h,hash_mode:_}=Xy,y=th(),b=new Date().toISOString().split("T")[0],w=zl(),k=ue(()=>{const T=(u||"").replace(/\/$/,"");return T.length?_?T+"/#"+w.fullPath:T+w.fullPath:""});return(T,I)=>{const G=ft("ClientOnly"),J=ft("TrackerReport");return N(),tt("footer",Qy,[Q("div",tv,[Q("div",ev,[pe(ae(ie(i))+" ",1),ot(G,null,{default:pt(()=>[Q("span",{innerHTML:ie(y).nextAuthor},null,8,nv)]),_:1}),pe(" "+ae(ie(s))+". ",1),ot(G,null,{default:pt(()=>[Q("span",null,"Retrieved on "+ae(ie(b)),1)]),_:1}),k.value?(N(),tt("span",iv,[pe(" at "),Q("a",{class:"text-secondary-color",href:k.value},ae(k.value),9,rv)])):Gt("",!0)]),Q("div",ov,[(N(),At(qo(ie(h)?"a":"span"),{href:ie(h),class:"min-w-fit"},{default:pt(()=>[ie(l)?(N(),tt("img",{key:0,src:ie(l),alt:"copyright"},null,8,sv)):Gt("",!0)]),_:1},8,["href"])),Q("span",null,ae(ie(p)),1)]),av,Q("div",lv,[Q("div",uv,[cv,hv,dv,ot(Yy,{class:"italic"})]),ot(J,{icon:"",label:"Report a problem","button-class":"flex gap-2 items-center pl-0 pr-0 pt-0 pb-0 self-end"})])])])}}},fv={class:"min-h-screen h-screen flex flex-col justify-between"},_v={class:"flex flex-col flex-grow"},mv={__name:"Application",setup(t){return(i,s)=>(N(),tt("div",fv,[Q("div",_v,[ot(F0),Ue(i.$slots,"default")]),ot(pv)]))}};var vd={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const gv={__name:"App",setup(t){return Yc({title:vd.project_name,meta:vd.metadata}),(i,s)=>{const u=ft("router-view");return N(),At(mv,null,{default:pt(()=>[ot(u)]),_:1})}}},ye=(t,i)=>{const s=t.__vccOpts||t;for(const[u,p]of i)s[u]=p;return s},yv={},vv={class:"mx-auto"},bv=Q("div",{class:"container mx-auto flex flex-col items-center h-screen justify-center"},[Q("h1",{class:"text-4xl font-medium"}," Welcome to TaxonPages "),Q("p",{class:"text-xl p-4"}," We're almost there! If you're seeing this, it's because you haven't configured API access yet. ")],-1),xv=[bv];function Lv(t,i){return N(),tt("div",vv,xv)}const Cv=ye(yv,[["render",Lv]]),wv={},kv={class:"container mx-auto text-center relative top-1/4"},Mv=Q("h1",{class:"text-4xl sm:text-5xl text-base-lighter"}," Welcome to TaxonPages ",-1),Ev=Q("p",{class:"m-4 my-8 text-xl"}," It seems you don't have a index or home file in your /pages folder, create one to replace this page. ",-1),Bv=[Mv,Ev];function Pv(t,i){return N(),tt("div",kv,Bv)}const Sv=ye(wv,[["render",Pv]]),Tv=[{name:"homepage",path:"/",alias:"/home",component:Sv}],Av={},Ov={class:"container mx-auto text-center relative top-1/4"},Dv=Q("h1",{class:"text-7xl text-base-lighter"},"500",-1),Rv=Q("p",null,"Internal Server Error.",-1),Iv=Q("p",{class:"m-4 my-10 text-xl"},[pe(" Uh oh, looks like something went wrong!"),Q("br"),pe(" We track these errors automatically, but if the problem persists feel free to contact us. ")],-1),Fv=[Dv,Rv,Iv];function Nv(t,i){return N(),tt("div",Ov,Fv)}const jv=ye(Av,[["render",Nv]]),zv={},Vv={class:"container mx-auto text-center relative top-1/4"},$v=Q("h1",{class:"text-7xl text-base-lighter"},"404",-1),Gv=Q("p",null,"Page not found.",-1),Hv=Q("p",{class:"m-4 my-10 text-xl"}," Uh oh, we can't seem to find the page you're looking for. Try going back to the previous page. ",-1),Uv=[$v,Gv,Hv];function Zv(t,i){return N(),tt("div",Vv,Uv)}const qv=ye(zv,[["render",Zv]]),Kv=[{path:"/500",name:"httpError500",component:jv,meta:{statusCode:500}},{path:"/:pathMatch(.*)*",name:"httpError404",component:qv,meta:{statusCode:404}}],$l=sa("otuPageRequest",{state:()=>({requests:{}}),getters:{getRequest:t=>i=>t.requests[i],sitemap:t=>{const i=Object.keys(t.requests).sort();return Object.fromEntries(i.map(s=>[s,t.requests[s].url]))}},actions:{setRequest(t,{data:i,request:s}){var p;const u=((p=s.res)==null?void 0:p.responseUrl)||s.responseURL;this.requests[t]={url:u,data:i}}}}),Wv="FamilyGroup",Jv="GenusGroup",Yv="SpeciesGroup",Xv="SpeciesAndInfraspeciesGroup",Qs={CanceledError:"CanceledError"},bd=["neotype","holotype","neolectotype","lectotype","syntype","paralectotype","paratype","paratypes"];function Lr(t,i){const s=$l(),u=i();return u.then(p=>{s.setRequest(t,p)}).catch(p=>{p.name!==Qs.CanceledError&&s.setRequest(t,p.response)}),u}function kf(t,i){return function(){return t.apply(i,arguments)}}const{toString:Qv}=Object.prototype,{getPrototypeOf:eh}=Object,Gl=(t=>i=>{const s=Qv.call(i);return t[s]||(t[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),Ci=t=>(t=t.toLowerCase(),i=>Gl(i)===t),Hl=t=>i=>typeof i===t,{isArray:Ko}=Array,ta=Hl("undefined");function tb(t){return t!==null&&!ta(t)&&t.constructor!==null&&!ta(t.constructor)&&ti(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Mf=Ci("ArrayBuffer");function eb(t){let i;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?i=ArrayBuffer.isView(t):i=t&&t.buffer&&Mf(t.buffer),i}const nb=Hl("string"),ti=Hl("function"),Ef=Hl("number"),Ul=t=>t!==null&&typeof t=="object",ib=t=>t===!0||t===!1,ul=t=>{if(Gl(t)!=="object")return!1;const i=eh(t);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},rb=Ci("Date"),ob=Ci("File"),sb=Ci("Blob"),ab=Ci("FileList"),lb=t=>Ul(t)&&ti(t.pipe),ub=t=>{let i;return t&&(typeof FormData=="function"&&t instanceof FormData||ti(t.append)&&((i=Gl(t))==="formdata"||i==="object"&&ti(t.toString)&&t.toString()==="[object FormData]"))},cb=Ci("URLSearchParams"),[hb,db,pb,fb]=["ReadableStream","Request","Response","Headers"].map(Ci),_b=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function aa(t,i,{allOwnKeys:s=!1}={}){if(t===null||typeof t>"u")return;let u,p;if(typeof t!="object"&&(t=[t]),Ko(t))for(u=0,p=t.length;u<p;u++)i.call(null,t[u],u,t);else{const l=s?Object.getOwnPropertyNames(t):Object.keys(t),h=l.length;let _;for(u=0;u<h;u++)_=l[u],i.call(null,t[_],_,t)}}function Bf(t,i){i=i.toLowerCase();const s=Object.keys(t);let u=s.length,p;for(;u-- >0;)if(p=s[u],i===p.toLowerCase())return p;return null}const qr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Pf=t=>!ta(t)&&t!==qr;function bc(){const{caseless:t}=Pf(this)&&this||{},i={},s=(u,p)=>{const l=t&&Bf(i,p)||p;ul(i[l])&&ul(u)?i[l]=bc(i[l],u):ul(u)?i[l]=bc({},u):Ko(u)?i[l]=u.slice():i[l]=u};for(let u=0,p=arguments.length;u<p;u++)arguments[u]&&aa(arguments[u],s);return i}const mb=(t,i,s,{allOwnKeys:u}={})=>(aa(i,(p,l)=>{s&&ti(p)?t[l]=kf(p,s):t[l]=p},{allOwnKeys:u}),t),gb=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),yb=(t,i,s,u)=>{t.prototype=Object.create(i.prototype,u),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:i.prototype}),s&&Object.assign(t.prototype,s)},vb=(t,i,s,u)=>{let p,l,h;const _={};if(i=i||{},t==null)return i;do{for(p=Object.getOwnPropertyNames(t),l=p.length;l-- >0;)h=p[l],(!u||u(h,t,i))&&!_[h]&&(i[h]=t[h],_[h]=!0);t=s!==!1&&eh(t)}while(t&&(!s||s(t,i))&&t!==Object.prototype);return i},bb=(t,i,s)=>{t=String(t),(s===void 0||s>t.length)&&(s=t.length),s-=i.length;const u=t.indexOf(i,s);return u!==-1&&u===s},xb=t=>{if(!t)return null;if(Ko(t))return t;let i=t.length;if(!Ef(i))return null;const s=new Array(i);for(;i-- >0;)s[i]=t[i];return s},Lb=(t=>i=>t&&i instanceof t)(typeof Uint8Array<"u"&&eh(Uint8Array)),Cb=(t,i)=>{const u=(t&&t[Symbol.iterator]).call(t);let p;for(;(p=u.next())&&!p.done;){const l=p.value;i.call(t,l[0],l[1])}},wb=(t,i)=>{let s;const u=[];for(;(s=t.exec(i))!==null;)u.push(s);return u},kb=Ci("HTMLFormElement"),Mb=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,u,p){return u.toUpperCase()+p}),xd=(({hasOwnProperty:t})=>(i,s)=>t.call(i,s))(Object.prototype),Eb=Ci("RegExp"),Sf=(t,i)=>{const s=Object.getOwnPropertyDescriptors(t),u={};aa(s,(p,l)=>{let h;(h=i(p,l,t))!==!1&&(u[l]=h||p)}),Object.defineProperties(t,u)},Bb=t=>{Sf(t,(i,s)=>{if(ti(t)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const u=t[s];if(ti(u)){if(i.enumerable=!1,"writable"in i){i.writable=!1;return}i.set||(i.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},Pb=(t,i)=>{const s={},u=p=>{p.forEach(l=>{s[l]=!0})};return Ko(t)?u(t):u(String(t).split(i)),s},Sb=()=>{},Tb=(t,i)=>t!=null&&Number.isFinite(t=+t)?t:i,Xu="abcdefghijklmnopqrstuvwxyz",Ld="0123456789",Tf={DIGIT:Ld,ALPHA:Xu,ALPHA_DIGIT:Xu+Xu.toUpperCase()+Ld},Ab=(t=16,i=Tf.ALPHA_DIGIT)=>{let s="";const{length:u}=i;for(;t--;)s+=i[Math.random()*u|0];return s};function Ob(t){return!!(t&&ti(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const Db=t=>{const i=new Array(10),s=(u,p)=>{if(Ul(u)){if(i.indexOf(u)>=0)return;if(!("toJSON"in u)){i[p]=u;const l=Ko(u)?[]:{};return aa(u,(h,_)=>{const y=s(h,p+1);!ta(y)&&(l[_]=y)}),i[p]=void 0,l}}return u};return s(t,0)},Rb=Ci("AsyncFunction"),Ib=t=>t&&(Ul(t)||ti(t))&&ti(t.then)&&ti(t.catch),Af=((t,i)=>t?setImmediate:i?((s,u)=>(qr.addEventListener("message",({source:p,data:l})=>{p===qr&&l===s&&u.length&&u.shift()()},!1),p=>{u.push(p),qr.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",ti(qr.postMessage)),Fb=typeof queueMicrotask<"u"?queueMicrotask.bind(qr):typeof process<"u"&&process.nextTick||Af,_t={isArray:Ko,isArrayBuffer:Mf,isBuffer:tb,isFormData:ub,isArrayBufferView:eb,isString:nb,isNumber:Ef,isBoolean:ib,isObject:Ul,isPlainObject:ul,isReadableStream:hb,isRequest:db,isResponse:pb,isHeaders:fb,isUndefined:ta,isDate:rb,isFile:ob,isBlob:sb,isRegExp:Eb,isFunction:ti,isStream:lb,isURLSearchParams:cb,isTypedArray:Lb,isFileList:ab,forEach:aa,merge:bc,extend:mb,trim:_b,stripBOM:gb,inherits:yb,toFlatObject:vb,kindOf:Gl,kindOfTest:Ci,endsWith:bb,toArray:xb,forEachEntry:Cb,matchAll:wb,isHTMLForm:kb,hasOwnProperty:xd,hasOwnProp:xd,reduceDescriptors:Sf,freezeMethods:Bb,toObjectSet:Pb,toCamelCase:Mb,noop:Sb,toFiniteNumber:Tb,findKey:Bf,global:qr,isContextDefined:Pf,ALPHABET:Tf,generateString:Ab,isSpecCompliantForm:Ob,toJSONObject:Db,isAsyncFn:Rb,isThenable:Ib,setImmediate:Af,asap:Fb};function be(t,i,s,u,p){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",i&&(this.code=i),s&&(this.config=s),u&&(this.request=u),p&&(this.response=p)}_t.inherits(be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:_t.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Of=be.prototype,Df={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Df[t]={value:t}});Object.defineProperties(be,Df);Object.defineProperty(Of,"isAxiosError",{value:!0});be.from=(t,i,s,u,p,l)=>{const h=Object.create(Of);return _t.toFlatObject(t,h,function(y){return y!==Error.prototype},_=>_!=="isAxiosError"),be.call(h,t.message,i,s,u,p),h.cause=t,h.name=t.name,l&&Object.assign(h,l),h};const Nb=null;function xc(t){return _t.isPlainObject(t)||_t.isArray(t)}function Rf(t){return _t.endsWith(t,"[]")?t.slice(0,-2):t}function Cd(t,i,s){return t?t.concat(i).map(function(p,l){return p=Rf(p),!s&&l?"["+p+"]":p}).join(s?".":""):i}function jb(t){return _t.isArray(t)&&!t.some(xc)}const zb=_t.toFlatObject(_t,{},null,function(i){return/^is[A-Z]/.test(i)});function Zl(t,i,s){if(!_t.isObject(t))throw new TypeError("target must be an object");i=i||new FormData,s=_t.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(J,st){return!_t.isUndefined(st[J])});const u=s.metaTokens,p=s.visitor||w,l=s.dots,h=s.indexes,y=(s.Blob||typeof Blob<"u"&&Blob)&&_t.isSpecCompliantForm(i);if(!_t.isFunction(p))throw new TypeError("visitor must be a function");function b(G){if(G===null)return"";if(_t.isDate(G))return G.toISOString();if(!y&&_t.isBlob(G))throw new be("Blob is not supported. Use a Buffer instead.");return _t.isArrayBuffer(G)||_t.isTypedArray(G)?y&&typeof Blob=="function"?new Blob([G]):Buffer.from(G):G}function w(G,J,st){let xt=G;if(G&&!st&&typeof G=="object"){if(_t.endsWith(J,"{}"))J=u?J:J.slice(0,-2),G=JSON.stringify(G);else if(_t.isArray(G)&&jb(G)||(_t.isFileList(G)||_t.endsWith(J,"[]"))&&(xt=_t.toArray(G)))return J=Rf(J),xt.forEach(function(j,lt){!(_t.isUndefined(j)||j===null)&&i.append(h===!0?Cd([J],lt,l):h===null?J:J+"[]",b(j))}),!1}return xc(G)?!0:(i.append(Cd(st,J,l),b(G)),!1)}const k=[],T=Object.assign(zb,{defaultVisitor:w,convertValue:b,isVisitable:xc});function I(G,J){if(!_t.isUndefined(G)){if(k.indexOf(G)!==-1)throw Error("Circular reference detected in "+J.join("."));k.push(G),_t.forEach(G,function(xt,yt){(!(_t.isUndefined(xt)||xt===null)&&p.call(i,xt,_t.isString(yt)?yt.trim():yt,J,T))===!0&&I(xt,J?J.concat(yt):[yt])}),k.pop()}}if(!_t.isObject(t))throw new TypeError("data must be an object");return I(t),i}function wd(t){const i={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(u){return i[u]})}function nh(t,i){this._pairs=[],t&&Zl(t,this,i)}const If=nh.prototype;If.append=function(i,s){this._pairs.push([i,s])};If.toString=function(i){const s=i?function(u){return i.call(this,u,wd)}:wd;return this._pairs.map(function(p){return s(p[0])+"="+s(p[1])},"").join("&")};function Vb(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ff(t,i,s){if(!i)return t;const u=s&&s.encode||Vb,p=s&&s.serialize;let l;if(p?l=p(i,s):l=_t.isURLSearchParams(i)?i.toString():new nh(i,s).toString(u),l){const h=t.indexOf("#");h!==-1&&(t=t.slice(0,h)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class kd{constructor(){this.handlers=[]}use(i,s,u){return this.handlers.push({fulfilled:i,rejected:s,synchronous:u?u.synchronous:!1,runWhen:u?u.runWhen:null}),this.handlers.length-1}eject(i){this.handlers[i]&&(this.handlers[i]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(i){_t.forEach(this.handlers,function(u){u!==null&&i(u)})}}const Nf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$b=typeof URLSearchParams<"u"?URLSearchParams:nh,Gb=typeof FormData<"u"?FormData:null,Hb=typeof Blob<"u"?Blob:null,Ub={isBrowser:!0,classes:{URLSearchParams:$b,FormData:Gb,Blob:Hb},protocols:["http","https","file","blob","url","data"]},ih=typeof window<"u"&&typeof document<"u",Zb=(t=>ih&&["ReactNative","NativeScript","NS"].indexOf(t)<0)(typeof navigator<"u"&&navigator.product),qb=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kb=ih&&window.location.href||"http://localhost",Wb=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ih,hasStandardBrowserEnv:Zb,hasStandardBrowserWebWorkerEnv:qb,origin:Kb},Symbol.toStringTag,{value:"Module"})),bi={...Wb,...Ub};function Jb(t,i){return Zl(t,new bi.classes.URLSearchParams,Object.assign({visitor:function(s,u,p,l){return bi.isNode&&_t.isBuffer(s)?(this.append(u,s.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)}},i))}function Yb(t){return _t.matchAll(/\w+|\[(\w*)]/g,t).map(i=>i[0]==="[]"?"":i[1]||i[0])}function Xb(t){const i={},s=Object.keys(t);let u;const p=s.length;let l;for(u=0;u<p;u++)l=s[u],i[l]=t[l];return i}function jf(t){function i(s,u,p,l){let h=s[l++];if(h==="__proto__")return!0;const _=Number.isFinite(+h),y=l>=s.length;return h=!h&&_t.isArray(p)?p.length:h,y?(_t.hasOwnProp(p,h)?p[h]=[p[h],u]:p[h]=u,!_):((!p[h]||!_t.isObject(p[h]))&&(p[h]=[]),i(s,u,p[h],l)&&_t.isArray(p[h])&&(p[h]=Xb(p[h])),!_)}if(_t.isFormData(t)&&_t.isFunction(t.entries)){const s={};return _t.forEachEntry(t,(u,p)=>{i(Yb(u),p,s,0)}),s}return null}function Qb(t,i,s){if(_t.isString(t))try{return(i||JSON.parse)(t),_t.trim(t)}catch(u){if(u.name!=="SyntaxError")throw u}return(s||JSON.stringify)(t)}const la={transitional:Nf,adapter:["xhr","http","fetch"],transformRequest:[function(i,s){const u=s.getContentType()||"",p=u.indexOf("application/json")>-1,l=_t.isObject(i);if(l&&_t.isHTMLForm(i)&&(i=new FormData(i)),_t.isFormData(i))return p?JSON.stringify(jf(i)):i;if(_t.isArrayBuffer(i)||_t.isBuffer(i)||_t.isStream(i)||_t.isFile(i)||_t.isBlob(i)||_t.isReadableStream(i))return i;if(_t.isArrayBufferView(i))return i.buffer;if(_t.isURLSearchParams(i))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),i.toString();let _;if(l){if(u.indexOf("application/x-www-form-urlencoded")>-1)return Jb(i,this.formSerializer).toString();if((_=_t.isFileList(i))||u.indexOf("multipart/form-data")>-1){const y=this.env&&this.env.FormData;return Zl(_?{"files[]":i}:i,y&&new y,this.formSerializer)}}return l||p?(s.setContentType("application/json",!1),Qb(i)):i}],transformResponse:[function(i){const s=this.transitional||la.transitional,u=s&&s.forcedJSONParsing,p=this.responseType==="json";if(_t.isResponse(i)||_t.isReadableStream(i))return i;if(i&&_t.isString(i)&&(u&&!this.responseType||p)){const h=!(s&&s.silentJSONParsing)&&p;try{return JSON.parse(i)}catch(_){if(h)throw _.name==="SyntaxError"?be.from(_,be.ERR_BAD_RESPONSE,this,null,this.response):_}}return i}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:bi.classes.FormData,Blob:bi.classes.Blob},validateStatus:function(i){return i>=200&&i<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};_t.forEach(["delete","get","head","post","put","patch"],t=>{la.headers[t]={}});const t1=_t.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),e1=t=>{const i={};let s,u,p;return t&&t.split(`
`).forEach(function(h){p=h.indexOf(":"),s=h.substring(0,p).trim().toLowerCase(),u=h.substring(p+1).trim(),!(!s||i[s]&&t1[s])&&(s==="set-cookie"?i[s]?i[s].push(u):i[s]=[u]:i[s]=i[s]?i[s]+", "+u:u)}),i},Md=Symbol("internals");function Is(t){return t&&String(t).trim().toLowerCase()}function cl(t){return t===!1||t==null?t:_t.isArray(t)?t.map(cl):String(t)}function n1(t){const i=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let u;for(;u=s.exec(t);)i[u[1]]=u[2];return i}const i1=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Qu(t,i,s,u,p){if(_t.isFunction(u))return u.call(this,i,s);if(p&&(i=s),!!_t.isString(i)){if(_t.isString(u))return i.indexOf(u)!==-1;if(_t.isRegExp(u))return u.test(i)}}function r1(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(i,s,u)=>s.toUpperCase()+u)}function o1(t,i){const s=_t.toCamelCase(" "+i);["get","set","has"].forEach(u=>{Object.defineProperty(t,u+s,{value:function(p,l,h){return this[u].call(this,i,p,l,h)},configurable:!0})})}class qn{constructor(i){i&&this.set(i)}set(i,s,u){const p=this;function l(_,y,b){const w=Is(y);if(!w)throw new Error("header name must be a non-empty string");const k=_t.findKey(p,w);(!k||p[k]===void 0||b===!0||b===void 0&&p[k]!==!1)&&(p[k||y]=cl(_))}const h=(_,y)=>_t.forEach(_,(b,w)=>l(b,w,y));if(_t.isPlainObject(i)||i instanceof this.constructor)h(i,s);else if(_t.isString(i)&&(i=i.trim())&&!i1(i))h(e1(i),s);else if(_t.isHeaders(i))for(const[_,y]of i.entries())l(y,_,u);else i!=null&&l(s,i,u);return this}get(i,s){if(i=Is(i),i){const u=_t.findKey(this,i);if(u){const p=this[u];if(!s)return p;if(s===!0)return n1(p);if(_t.isFunction(s))return s.call(this,p,u);if(_t.isRegExp(s))return s.exec(p);throw new TypeError("parser must be boolean|regexp|function")}}}has(i,s){if(i=Is(i),i){const u=_t.findKey(this,i);return!!(u&&this[u]!==void 0&&(!s||Qu(this,this[u],u,s)))}return!1}delete(i,s){const u=this;let p=!1;function l(h){if(h=Is(h),h){const _=_t.findKey(u,h);_&&(!s||Qu(u,u[_],_,s))&&(delete u[_],p=!0)}}return _t.isArray(i)?i.forEach(l):l(i),p}clear(i){const s=Object.keys(this);let u=s.length,p=!1;for(;u--;){const l=s[u];(!i||Qu(this,this[l],l,i,!0))&&(delete this[l],p=!0)}return p}normalize(i){const s=this,u={};return _t.forEach(this,(p,l)=>{const h=_t.findKey(u,l);if(h){s[h]=cl(p),delete s[l];return}const _=i?r1(l):String(l).trim();_!==l&&delete s[l],s[_]=cl(p),u[_]=!0}),this}concat(...i){return this.constructor.concat(this,...i)}toJSON(i){const s=Object.create(null);return _t.forEach(this,(u,p)=>{u!=null&&u!==!1&&(s[p]=i&&_t.isArray(u)?u.join(", "):u)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([i,s])=>i+": "+s).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(i){return i instanceof this?i:new this(i)}static concat(i,...s){const u=new this(i);return s.forEach(p=>u.set(p)),u}static accessor(i){const u=(this[Md]=this[Md]={accessors:{}}).accessors,p=this.prototype;function l(h){const _=Is(h);u[_]||(o1(p,h),u[_]=!0)}return _t.isArray(i)?i.forEach(l):l(i),this}}qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);_t.reduceDescriptors(qn.prototype,({value:t},i)=>{let s=i[0].toUpperCase()+i.slice(1);return{get:()=>t,set(u){this[s]=u}}});_t.freezeMethods(qn);function tc(t,i){const s=this||la,u=i||s,p=qn.from(u.headers);let l=u.data;return _t.forEach(t,function(_){l=_.call(s,l,p.normalize(),i?i.status:void 0)}),p.normalize(),l}function zf(t){return!!(t&&t.__CANCEL__)}function Wo(t,i,s){be.call(this,t??"canceled",be.ERR_CANCELED,i,s),this.name="CanceledError"}_t.inherits(Wo,be,{__CANCEL__:!0});function Vf(t,i,s){const u=s.config.validateStatus;!s.status||!u||u(s.status)?t(s):i(new be("Request failed with status code "+s.status,[be.ERR_BAD_REQUEST,be.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function s1(t){const i=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return i&&i[1]||""}function a1(t,i){t=t||10;const s=new Array(t),u=new Array(t);let p=0,l=0,h;return i=i!==void 0?i:1e3,function(y){const b=Date.now(),w=u[l];h||(h=b),s[p]=y,u[p]=b;let k=l,T=0;for(;k!==p;)T+=s[k++],k=k%t;if(p=(p+1)%t,p===l&&(l=(l+1)%t),b-h<i)return;const I=w&&b-w;return I?Math.round(T*1e3/I):void 0}}function l1(t,i){let s=0,u=1e3/i,p,l;const h=(b,w=Date.now())=>{s=w,p=null,l&&(clearTimeout(l),l=null),t.apply(null,b)};return[(...b)=>{const w=Date.now(),k=w-s;k>=u?h(b,w):(p=b,l||(l=setTimeout(()=>{l=null,h(p)},u-k)))},()=>p&&h(p)]}const Ll=(t,i,s=3)=>{let u=0;const p=a1(50,250);return l1(l=>{const h=l.loaded,_=l.lengthComputable?l.total:void 0,y=h-u,b=p(y),w=h<=_;u=h;const k={loaded:h,total:_,progress:_?h/_:void 0,bytes:y,rate:b||void 0,estimated:b&&_&&w?(_-h)/b:void 0,event:l,lengthComputable:_!=null,[i?"download":"upload"]:!0};t(k)},s)},Ed=(t,i)=>{const s=t!=null;return[u=>i[0]({lengthComputable:s,total:t,loaded:u}),i[1]]},Bd=t=>(...i)=>_t.asap(()=>t(...i)),u1=bi.hasStandardBrowserEnv?function(){const i=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");let u;function p(l){let h=l;return i&&(s.setAttribute("href",h),h=s.href),s.setAttribute("href",h),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:s.pathname.charAt(0)==="/"?s.pathname:"/"+s.pathname}}return u=p(window.location.href),function(h){const _=_t.isString(h)?p(h):h;return _.protocol===u.protocol&&_.host===u.host}}():function(){return function(){return!0}}(),c1=bi.hasStandardBrowserEnv?{write(t,i,s,u,p,l){const h=[t+"="+encodeURIComponent(i)];_t.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),_t.isString(u)&&h.push("path="+u),_t.isString(p)&&h.push("domain="+p),l===!0&&h.push("secure"),document.cookie=h.join("; ")},read(t){const i=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function h1(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function d1(t,i){return i?t.replace(/\/?\/$/,"")+"/"+i.replace(/^\/+/,""):t}function $f(t,i){return t&&!h1(i)?d1(t,i):i}const Pd=t=>t instanceof qn?{...t}:t;function to(t,i){i=i||{};const s={};function u(b,w,k){return _t.isPlainObject(b)&&_t.isPlainObject(w)?_t.merge.call({caseless:k},b,w):_t.isPlainObject(w)?_t.merge({},w):_t.isArray(w)?w.slice():w}function p(b,w,k){if(_t.isUndefined(w)){if(!_t.isUndefined(b))return u(void 0,b,k)}else return u(b,w,k)}function l(b,w){if(!_t.isUndefined(w))return u(void 0,w)}function h(b,w){if(_t.isUndefined(w)){if(!_t.isUndefined(b))return u(void 0,b)}else return u(void 0,w)}function _(b,w,k){if(k in i)return u(b,w);if(k in t)return u(void 0,b)}const y={url:l,method:l,data:l,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:_,headers:(b,w)=>p(Pd(b),Pd(w),!0)};return _t.forEach(Object.keys(Object.assign({},t,i)),function(w){const k=y[w]||p,T=k(t[w],i[w],w);_t.isUndefined(T)&&k!==_||(s[w]=T)}),s}const Gf=t=>{const i=to({},t);let{data:s,withXSRFToken:u,xsrfHeaderName:p,xsrfCookieName:l,headers:h,auth:_}=i;i.headers=h=qn.from(h),i.url=Ff($f(i.baseURL,i.url),t.params,t.paramsSerializer),_&&h.set("Authorization","Basic "+btoa((_.username||"")+":"+(_.password?unescape(encodeURIComponent(_.password)):"")));let y;if(_t.isFormData(s)){if(bi.hasStandardBrowserEnv||bi.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((y=h.getContentType())!==!1){const[b,...w]=y?y.split(";").map(k=>k.trim()).filter(Boolean):[];h.setContentType([b||"multipart/form-data",...w].join("; "))}}if(bi.hasStandardBrowserEnv&&(u&&_t.isFunction(u)&&(u=u(i)),u||u!==!1&&u1(i.url))){const b=p&&l&&c1.read(l);b&&h.set(p,b)}return i},p1=typeof XMLHttpRequest<"u",f1=p1&&function(t){return new Promise(function(s,u){const p=Gf(t);let l=p.data;const h=qn.from(p.headers).normalize();let{responseType:_,onUploadProgress:y,onDownloadProgress:b}=p,w,k,T,I,G;function J(){I&&I(),G&&G(),p.cancelToken&&p.cancelToken.unsubscribe(w),p.signal&&p.signal.removeEventListener("abort",w)}let st=new XMLHttpRequest;st.open(p.method.toUpperCase(),p.url,!0),st.timeout=p.timeout;function xt(){if(!st)return;const j=qn.from("getAllResponseHeaders"in st&&st.getAllResponseHeaders()),vt={data:!_||_==="text"||_==="json"?st.responseText:st.response,status:st.status,statusText:st.statusText,headers:j,config:t,request:st};Vf(function(It){s(It),J()},function(It){u(It),J()},vt),st=null}"onloadend"in st?st.onloadend=xt:st.onreadystatechange=function(){!st||st.readyState!==4||st.status===0&&!(st.responseURL&&st.responseURL.indexOf("file:")===0)||setTimeout(xt)},st.onabort=function(){st&&(u(new be("Request aborted",be.ECONNABORTED,t,st)),st=null)},st.onerror=function(){u(new be("Network Error",be.ERR_NETWORK,t,st)),st=null},st.ontimeout=function(){let lt=p.timeout?"timeout of "+p.timeout+"ms exceeded":"timeout exceeded";const vt=p.transitional||Nf;p.timeoutErrorMessage&&(lt=p.timeoutErrorMessage),u(new be(lt,vt.clarifyTimeoutError?be.ETIMEDOUT:be.ECONNABORTED,t,st)),st=null},l===void 0&&h.setContentType(null),"setRequestHeader"in st&&_t.forEach(h.toJSON(),function(lt,vt){st.setRequestHeader(vt,lt)}),_t.isUndefined(p.withCredentials)||(st.withCredentials=!!p.withCredentials),_&&_!=="json"&&(st.responseType=p.responseType),b&&([T,G]=Ll(b,!0),st.addEventListener("progress",T)),y&&st.upload&&([k,I]=Ll(y),st.upload.addEventListener("progress",k),st.upload.addEventListener("loadend",I)),(p.cancelToken||p.signal)&&(w=j=>{st&&(u(!j||j.type?new Wo(null,t,st):j),st.abort(),st=null)},p.cancelToken&&p.cancelToken.subscribe(w),p.signal&&(p.signal.aborted?w():p.signal.addEventListener("abort",w)));const yt=s1(p.url);if(yt&&bi.protocols.indexOf(yt)===-1){u(new be("Unsupported protocol "+yt+":",be.ERR_BAD_REQUEST,t));return}st.send(l||null)})},_1=(t,i)=>{let s=new AbortController,u;const p=function(y){if(!u){u=!0,h();const b=y instanceof Error?y:this.reason;s.abort(b instanceof be?b:new Wo(b instanceof Error?b.message:b))}};let l=i&&setTimeout(()=>{p(new be(`timeout ${i} of ms exceeded`,be.ETIMEDOUT))},i);const h=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(y=>{y&&(y.removeEventListener?y.removeEventListener("abort",p):y.unsubscribe(p))}),t=null)};t.forEach(y=>y&&y.addEventListener&&y.addEventListener("abort",p));const{signal:_}=s;return _.unsubscribe=h,[_,()=>{l&&clearTimeout(l),l=null}]},m1=function*(t,i){let s=t.byteLength;if(!i||s<i){yield t;return}let u=0,p;for(;u<s;)p=u+i,yield t.slice(u,p),u=p},g1=async function*(t,i,s){for await(const u of t)yield*m1(ArrayBuffer.isView(u)?u:await s(String(u)),i)},Sd=(t,i,s,u,p)=>{const l=g1(t,i,p);let h=0,_,y=b=>{_||(_=!0,u&&u(b))};return new ReadableStream({async pull(b){try{const{done:w,value:k}=await l.next();if(w){y(),b.close();return}let T=k.byteLength;if(s){let I=h+=T;s(I)}b.enqueue(new Uint8Array(k))}catch(w){throw y(w),w}},cancel(b){return y(b),l.return()}},{highWaterMark:2})},ql=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",Hf=ql&&typeof ReadableStream=="function",Lc=ql&&(typeof TextEncoder=="function"?(t=>i=>t.encode(i))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),Uf=(t,...i)=>{try{return!!t(...i)}catch{return!1}},y1=Hf&&Uf(()=>{let t=!1;const i=new Request(bi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!i}),Td=64*1024,Cc=Hf&&Uf(()=>_t.isReadableStream(new Response("").body)),Cl={stream:Cc&&(t=>t.body)};ql&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(i=>{!Cl[i]&&(Cl[i]=_t.isFunction(t[i])?s=>s[i]():(s,u)=>{throw new be(`Response type '${i}' is not supported`,be.ERR_NOT_SUPPORT,u)})})})(new Response);const v1=async t=>{if(t==null)return 0;if(_t.isBlob(t))return t.size;if(_t.isSpecCompliantForm(t))return(await new Request(t).arrayBuffer()).byteLength;if(_t.isArrayBufferView(t)||_t.isArrayBuffer(t))return t.byteLength;if(_t.isURLSearchParams(t)&&(t=t+""),_t.isString(t))return(await Lc(t)).byteLength},b1=async(t,i)=>{const s=_t.toFiniteNumber(t.getContentLength());return s??v1(i)},x1=ql&&(async t=>{let{url:i,method:s,data:u,signal:p,cancelToken:l,timeout:h,onDownloadProgress:_,onUploadProgress:y,responseType:b,headers:w,withCredentials:k="same-origin",fetchOptions:T}=Gf(t);b=b?(b+"").toLowerCase():"text";let[I,G]=p||l||h?_1([p,l],h):[],J,st;const xt=()=>{!J&&setTimeout(()=>{I&&I.unsubscribe()}),J=!0};let yt;try{if(y&&y1&&s!=="get"&&s!=="head"&&(yt=await b1(w,u))!==0){let bt=new Request(i,{method:"POST",body:u,duplex:"half"}),It;if(_t.isFormData(u)&&(It=bt.headers.get("content-type"))&&w.setContentType(It),bt.body){const[Rt,wt]=Ed(yt,Ll(Bd(y)));u=Sd(bt.body,Td,Rt,wt,Lc)}}_t.isString(k)||(k=k?"include":"omit"),st=new Request(i,{...T,signal:I,method:s.toUpperCase(),headers:w.normalize().toJSON(),body:u,duplex:"half",credentials:k});let j=await fetch(st);const lt=Cc&&(b==="stream"||b==="response");if(Cc&&(_||lt)){const bt={};["status","statusText","headers"].forEach(Tt=>{bt[Tt]=j[Tt]});const It=_t.toFiniteNumber(j.headers.get("content-length")),[Rt,wt]=_&&Ed(It,Ll(Bd(_),!0))||[];j=new Response(Sd(j.body,Td,Rt,()=>{wt&&wt(),lt&&xt()},Lc),bt)}b=b||"text";let vt=await Cl[_t.findKey(Cl,b)||"text"](j,t);return!lt&&xt(),G&&G(),await new Promise((bt,It)=>{Vf(bt,It,{data:vt,headers:qn.from(j.headers),status:j.status,statusText:j.statusText,config:t,request:st})})}catch(j){throw xt(),j&&j.name==="TypeError"&&/fetch/i.test(j.message)?Object.assign(new be("Network Error",be.ERR_NETWORK,t,st),{cause:j.cause||j}):be.from(j,j&&j.code,t,st)}}),wc={http:Nb,xhr:f1,fetch:x1};_t.forEach(wc,(t,i)=>{if(t){try{Object.defineProperty(t,"name",{value:i})}catch{}Object.defineProperty(t,"adapterName",{value:i})}});const Ad=t=>`- ${t}`,L1=t=>_t.isFunction(t)||t===null||t===!1,Zf={getAdapter:t=>{t=_t.isArray(t)?t:[t];const{length:i}=t;let s,u;const p={};for(let l=0;l<i;l++){s=t[l];let h;if(u=s,!L1(s)&&(u=wc[(h=String(s)).toLowerCase()],u===void 0))throw new be(`Unknown adapter '${h}'`);if(u)break;p[h||"#"+l]=u}if(!u){const l=Object.entries(p).map(([_,y])=>`adapter ${_} `+(y===!1?"is not supported by the environment":"is not available in the build"));let h=i?l.length>1?`since :
`+l.map(Ad).join(`
`):" "+Ad(l[0]):"as no adapter specified";throw new be("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return u},adapters:wc};function ec(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Wo(null,t)}function Od(t){return ec(t),t.headers=qn.from(t.headers),t.data=tc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),Zf.getAdapter(t.adapter||la.adapter)(t).then(function(u){return ec(t),u.data=tc.call(t,t.transformResponse,u),u.headers=qn.from(u.headers),u},function(u){return zf(u)||(ec(t),u&&u.response&&(u.response.data=tc.call(t,t.transformResponse,u.response),u.response.headers=qn.from(u.response.headers))),Promise.reject(u)})}const qf="1.7.4",rh={};["object","boolean","number","function","string","symbol"].forEach((t,i)=>{rh[t]=function(u){return typeof u===t||"a"+(i<1?"n ":" ")+t}});const Dd={};rh.transitional=function(i,s,u){function p(l,h){return"[Axios v"+qf+"] Transitional option '"+l+"'"+h+(u?". "+u:"")}return(l,h,_)=>{if(i===!1)throw new be(p(h," has been removed"+(s?" in "+s:"")),be.ERR_DEPRECATED);return s&&!Dd[h]&&(Dd[h]=!0,console.warn(p(h," has been deprecated since v"+s+" and will be removed in the near future"))),i?i(l,h,_):!0}};function C1(t,i,s){if(typeof t!="object")throw new be("options must be an object",be.ERR_BAD_OPTION_VALUE);const u=Object.keys(t);let p=u.length;for(;p-- >0;){const l=u[p],h=i[l];if(h){const _=t[l],y=_===void 0||h(_,l,t);if(y!==!0)throw new be("option "+l+" must be "+y,be.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new be("Unknown option "+l,be.ERR_BAD_OPTION)}}const kc={assertOptions:C1,validators:rh},cr=kc.validators;class Xr{constructor(i){this.defaults=i,this.interceptors={request:new kd,response:new kd}}async request(i,s){try{return await this._request(i,s)}catch(u){if(u instanceof Error){let p;Error.captureStackTrace?Error.captureStackTrace(p={}):p=new Error;const l=p.stack?p.stack.replace(/^.+\n/,""):"";try{u.stack?l&&!String(u.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(u.stack+=`
`+l):u.stack=l}catch{}}throw u}}_request(i,s){typeof i=="string"?(s=s||{},s.url=i):s=i||{},s=to(this.defaults,s);const{transitional:u,paramsSerializer:p,headers:l}=s;u!==void 0&&kc.assertOptions(u,{silentJSONParsing:cr.transitional(cr.boolean),forcedJSONParsing:cr.transitional(cr.boolean),clarifyTimeoutError:cr.transitional(cr.boolean)},!1),p!=null&&(_t.isFunction(p)?s.paramsSerializer={serialize:p}:kc.assertOptions(p,{encode:cr.function,serialize:cr.function},!0)),s.method=(s.method||this.defaults.method||"get").toLowerCase();let h=l&&_t.merge(l.common,l[s.method]);l&&_t.forEach(["delete","get","head","post","put","patch","common"],G=>{delete l[G]}),s.headers=qn.concat(h,l);const _=[];let y=!0;this.interceptors.request.forEach(function(J){typeof J.runWhen=="function"&&J.runWhen(s)===!1||(y=y&&J.synchronous,_.unshift(J.fulfilled,J.rejected))});const b=[];this.interceptors.response.forEach(function(J){b.push(J.fulfilled,J.rejected)});let w,k=0,T;if(!y){const G=[Od.bind(this),void 0];for(G.unshift.apply(G,_),G.push.apply(G,b),T=G.length,w=Promise.resolve(s);k<T;)w=w.then(G[k++],G[k++]);return w}T=_.length;let I=s;for(k=0;k<T;){const G=_[k++],J=_[k++];try{I=G(I)}catch(st){J.call(this,st);break}}try{w=Od.call(this,I)}catch(G){return Promise.reject(G)}for(k=0,T=b.length;k<T;)w=w.then(b[k++],b[k++]);return w}getUri(i){i=to(this.defaults,i);const s=$f(i.baseURL,i.url);return Ff(s,i.params,i.paramsSerializer)}}_t.forEach(["delete","get","head","options"],function(i){Xr.prototype[i]=function(s,u){return this.request(to(u||{},{method:i,url:s,data:(u||{}).data}))}});_t.forEach(["post","put","patch"],function(i){function s(u){return function(l,h,_){return this.request(to(_||{},{method:i,headers:u?{"Content-Type":"multipart/form-data"}:{},url:l,data:h}))}}Xr.prototype[i]=s(),Xr.prototype[i+"Form"]=s(!0)});class oh{constructor(i){if(typeof i!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(l){s=l});const u=this;this.promise.then(p=>{if(!u._listeners)return;let l=u._listeners.length;for(;l-- >0;)u._listeners[l](p);u._listeners=null}),this.promise.then=p=>{let l;const h=new Promise(_=>{u.subscribe(_),l=_}).then(p);return h.cancel=function(){u.unsubscribe(l)},h},i(function(l,h,_){u.reason||(u.reason=new Wo(l,h,_),s(u.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(i){if(this.reason){i(this.reason);return}this._listeners?this._listeners.push(i):this._listeners=[i]}unsubscribe(i){if(!this._listeners)return;const s=this._listeners.indexOf(i);s!==-1&&this._listeners.splice(s,1)}static source(){let i;return{token:new oh(function(p){i=p}),cancel:i}}}function w1(t){return function(s){return t.apply(null,s)}}function k1(t){return _t.isObject(t)&&t.isAxiosError===!0}const Mc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Mc).forEach(([t,i])=>{Mc[i]=t});function Kf(t){const i=new Xr(t),s=kf(Xr.prototype.request,i);return _t.extend(s,Xr.prototype,i,{allOwnKeys:!0}),_t.extend(s,i,null,{allOwnKeys:!0}),s.create=function(p){return Kf(to(t,p))},s}const dn=Kf(la);dn.Axios=Xr;dn.CanceledError=Wo;dn.CancelToken=oh;dn.isCancel=zf;dn.VERSION=qf;dn.toFormData=Zl;dn.AxiosError=be;dn.Cancel=dn.CanceledError;dn.all=function(i){return Promise.all(i)};dn.spread=w1;dn.isAxiosError=k1;dn.mergeConfig=to;dn.AxiosHeaders=qn;dn.formToJSON=t=>jf(_t.isHTMLForm(t)?new FormData(t):t);dn.getAdapter=Zf.getAdapter;dn.HttpStatusCode=Mc;dn.default=dn;var M1={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const{url:E1,project_token:B1}=M1,bn=dn.create({baseURL:E1,params:{project_token:B1}});class Zn{static getTaxonNameCitations(i,s){return bn.get(`/taxon_names/${i}/inventory/catalog`,s)}static getOtu(i){return bn.get(`/otus/${i}`,{params:{extend:["parents"]}})}static getOtus(i){return bn.get("/otus.json",{params:i})}static getTaxon(i,s){return bn.get(`/taxon_names/${i}`,s)}static summary(i,s){return bn.get(`/taxon_names/${i}/inventory/summary`,s)}static getTaxonTypeDesignation(i){return bn.get(`/taxon_names/${i}`,{params:{extend:["type_taxon_name_relationship"]}})}static getOtuImages(i,s){return bn.get(`/otus/${i}/inventory/images.json`,s)}static getTaxonomy(i,s){return bn.get(`/otus/${i}/inventory/taxonomy.json`,s)}static getOtuTypeMaterial(i){return bn.get(`/otus/${i}/inventory/type_material.json`)}static getOtuDistribution(i,s={}){return bn.get(`/otus/${i}/inventory/distribution.json`,s)}static getOtuGeoJSONDistribution(i){return bn.get(`/otus/${i}/inventory/distribution.geojson`)}static getCachedMap(i,s){return bn.get(`/cached_maps/${i}`,s)}static getOtuContent(i,s){return bn.get(`/otus/${i}/inventory/content`,s)}static getCachedMap(i){return bn.get(`/cached_maps/${i}`)}}const io=sa("otuStore",{state:()=>({otu:null,taxon:null,images:null,catalog:{sources:[],stats:{},timeline:[],isLoading:!1},taxonomy:{commonNames:[],synonyms:[]}}),actions:{async loadTaxon(t,{signal:i}){const s=th(),u=await Promise.all([Zn.getTaxon(t,{params:{extend:["type_taxon_name_relationship"]}}),Lr("summary",()=>Zn.summary(t,{signal:i}))]);this.taxon=Object.assign({},...u.map(p=>p.data)),s.setNextAuthorText(this.taxon.full_name_tag+".")},async loadOtu(t,{signal:i}){const s=await Zn.getOtu(t,{signal:i});this.otu=s.data},async loadTaxonomy(t,{signal:i}){const{data:s}=await Zn.getTaxonomy(t,{params:{max_descendants_depth:0,extend:["common_names"]},signal:i});this.taxonomy={commonNames:s.common_names,synonyms:s.nomenclatural_synonyms}},async loadCatalog(t,{signal:i}){this.catalog.isLoading=!0;const s=await Lr("taxonomy",()=>Zn.getTaxonNameCitations(t,{signal:i}));this.catalog={...s.data,sources:s.data.sources.map(({cached:u,url:p})=>u.replace(p,`<a href="${p}">${p}</a>`)),isLoading:!1}},async loadInit({otuId:t,controller:i}){$l().$reset();try{await this.loadOtu(t,i),await this.loadTaxon(this.otu.taxon_name_id,i),await this.loadCatalog(this.otu.taxon_name_id,i),await this.loadTaxonomy(t,i)}catch(u){return Promise.reject(u)}}}});function P1(t,i){return t||(t={}),t._resolver=i,t}function S1(t){return P1(t,"taxon")}function T1(t){return Yc({script:[{type:"application/ld+json",key:"schema-org-graph",nodes:t}]})}function Ec(t,i){return!t.length||t.some(s=>i==null?void 0:i.includes(s))}function A1(t,i){return i.split("::").at(2)===t}function O1(t,i){return{type:"Feature",geometry:t,properties:{base:[{type:i}]}}}function D1(t){const i=[],s=[];return t.features.forEach(u=>{const p=u.properties.shape.id,l=u.properties.shape.type;s.includes(u.properties.base.type)||s.push(u.properties.base.type);const h=i.findIndex(_=>_.properties.shape.id===p&&_.properties.shape.type===l);if(h>-1){const _=i[h];_.properties.base.push(u.properties.base),_.properties.target.push(u.properties.target)}else{const _=structuredClone(u);_.properties.base=[_.properties.base],_.properties.target=[_.properties.target],i.push(_)}}),s.sort(),{shapeTypes:s,features:i}}function R1(t){return t.replace(/^[\s_]+|[\s_]+$/g,"").replace(/[_\s]+/g," ").replace(/^[a-z]/,i=>i.toUpperCase())}function I1(){const t=oa(),i=zl(),s=Yt();mn(i,()=>{s.value=u()},{immediate:!0});function u(){const{children:p}=t.getRoutes().find(l=>l.name==="otus-id");return p.map(({path:l,name:h,meta:_})=>({label:l&&(_.label||R1(l)),path:l,name:h,meta:_}))}return s}const Ro=Object.values(Object.assign({}))[0];function F1({taxon:t,otu:i}){const s=zl(),p={router:oa(),route:s,taxon:t,otu:i};return{onCreatePage:()=>Ro==null?void 0:Ro.onCreatePage(p),onSSRCreatePage:()=>Ro==null?void 0:Ro.onSSRCreatePage(p)}}const N1=Q("h3",{class:"font-medium"},"Sitemap",-1),j1={class:"p-4 pt-0"},z1=Q("p",{class:"text-sm mb-2"}," The following links provide the information present on this page in JSON format. ",-1),V1=["href"],$1={__name:"SiteMap",setup(t){const i=Yt(!1),s=$l();return(u,p)=>{const l=ft("IconJson"),h=ft("VButton"),_=ft("VTableHeaderCell"),y=ft("VTableHeaderRow"),b=ft("VTableHeader"),w=ft("VTableBodyCell"),k=ft("VTableBodyRow"),T=ft("VTableBody"),I=ft("VTable"),G=ft("VModal");return N(),tt("div",null,[ot(h,{primary:"",class:"text-sm md:flex items-center gap-1 hidden",title:"Links used to obtain the information present on this page in JSON format.",onClick:p[0]||(p[0]=J=>i.value=!0)},{default:pt(()=>[ot(l,{class:"w-4 h-4"}),pe(" Sitemap ")]),_:1}),i.value?(N(),At(G,{key:0,onClose:p[1]||(p[1]=J=>i.value=!1)},{header:pt(()=>[N1]),default:pt(()=>[Q("div",j1,[z1,ot(I,null,{default:pt(()=>[ot(b,null,{default:pt(()=>[ot(y,null,{default:pt(()=>[ot(_,null,{default:pt(()=>[pe(" Request Key ")]),_:1}),ot(_,null,{default:pt(()=>[pe(" URL ")]),_:1})]),_:1})]),_:1}),ot(T,null,{default:pt(()=>[(N(!0),tt(Qt,null,Se(ie(s).sitemap,(J,st)=>(N(),At(k,{key:st},{default:pt(()=>[ot(w,{class:"capitalize"},{default:pt(()=>[pe(ae(st.replaceAll(":"," ")),1)]),_:2},1024),ot(w,null,{default:pt(()=>[Q("a",{href:J},ae(J),9,V1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})])]),_:1})):Gt("",!0)])}}},G1={class:"relative"},H1=Q("svg",{class:"h-5 w-5 text-primary-500 print:hidden",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},[Q("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),U1={key:1,class:"absolute right-0 py-2 bg-white dark:bg-gray-900 rounded-md shadow-xl z-20"},Z1={__name:"BreadcrumbDropdown",props:{list:{type:Array,required:!0}},setup(t){const i=Yt(!1);return(s,u)=>{const p=ft("router-link");return N(),tt("div",G1,[Q("div",null,[Q("button",{class:"inline-flex items-center text-sm hover:text-gray-900 text-primary-500 dark:hover:text-gray-500",onClick:u[0]||(u[0]=l=>i.value=!i.value)},[Ue(s.$slots,"default"),H1]),i.value?(N(),tt("div",{key:0,class:"fixed inset-0 h-full w-full z-10",onClick:u[1]||(u[1]=l=>i.value=!1)})):Gt("",!0),i.value?(N(),tt("div",U1,[(N(!0),tt(Qt,null,Se(t.list,l=>(N(),At(p,{key:l.id,class:"block px-4 py-2 text-sm capitalize hover:bg-secondary-color hover:bg-opacity-5",to:{name:"otus-id",params:{id:l.id}}},{default:pt(()=>[pe(ae(l.name||s.key),1)]),_:2},1032,["to"]))),128))])):Gt("",!0)])])}}},q1={class:"inline-flex items-center flex-wrap"},K1={class:"inline-flex items-center ml-0 text-sm"},W1=["innerHTML"],J1={__name:"Breadcrumb",props:{list:{type:Object,default:()=>({})},current:{type:Object,required:!0}},setup(t){return(i,s)=>{const u=ft("IconArrowRight"),p=ft("router-link");return N(),tt("ul",q1,[(N(!0),tt(Qt,null,Se(t.list,(l,h,_)=>(N(),tt("li",{key:l.id,class:"inline-flex items-center"},[_?(N(),At(u,{key:0,class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"})):Gt("",!0),l.length===1?(N(),At(p,{key:1,class:"inline-flex items-center text-sm text-accent-100 hover:text-gray-900 dark:hover:text-gray-500 text-secondary-color",to:{name:"otus-id",params:{id:l[0].id}}},{default:pt(()=>[pe(ae(h),1)]),_:2},1032,["to"])):(N(),At(Z1,{key:2,list:l.map(y=>({...y,name:y.name||h}))},{default:pt(()=>[pe(ae(h),1)]),_:2},1032,["list"]))]))),128)),Q("li",K1,[ot(u,{class:"w-3 h-3 mr-0.5 ml-0.5 opacity-50"}),Q("span",{innerHTML:t.current.full_name_tag},null,8,W1)])])}}},Y1={__name:"CommonNames",setup(t){const i=io(),s=ue(()=>i.taxonomy.commonNames.map(u=>u.name).join("; "));return(u,p)=>(N(),tt("span",null,ae(s.value),1))}},X1={class:"text-1xl capitalize"},Q1={class:"text-xl dark:text-gray-100"},t4=["title","innerHTML"],e4={key:0,class:"ml-1 text-red-600",title:"Invalid"},n4={class:"text-1xl"},i4={__name:"TaxaInfo",setup(t){const i=io();return(s,u)=>(N(),tt("div",null,[Q("h2",X1,ae(ie(i).taxon.rank||"Combination"),1),Q("h1",Q1,[Q("span",null,[Q("span",{title:ie(i).taxon.short_status,innerHTML:ie(i).taxon.full_name_tag},null,8,t4),ie(i).taxon.is_valid?Gt("",!0):(N(),tt("span",e4," ✕ "))])]),Q("h2",n4,[ot(Y1)])]))}};var r4={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const o4={__name:"DWCDownload",props:{otu:{type:Object,required:!0}},setup(t){const{url:i,project_token:s}=r4,u=t;function p(){window.open(`${i}/otus/${u.otu.id}/inventory/dwc.csv?project_token=${s}`,"_self")}return(l,h)=>{const _=ft("IconDownload"),y=ft("VButton");return N(),At(y,{primary:"",class:"text-sm flex items-center",title:"Download DwC Occurrences",onClick:h[0]||(h[0]=()=>{p()})},{default:pt(()=>[ot(_,{class:"w-4 h-4 mr-1"}),pe(" DwC ")]),_:1})}}};var s4={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const a4={class:"bg-base-foreground border-b border-base-muted pl-4 pr-4"},l4={class:"container mx-auto"},u4={class:"pt-6 pb-6"},c4={class:"flex flex-col-reverse md:flex-row justify-between items-start"},h4={class:"mt-8 flex justify-between items-end"},d4={class:"flex flex-row gap-2"},p4={class:"pt-3 pb-4"},f4={class:"container mx-auto box-border"},_4={__name:"Index",setup(t){const i=zl(),s=oa(),u=Yt(i.params),p=I1(),l=io(),h=th();let _=new AbortController;s.afterEach(yt=>{u.value=yt.params});const y=ue(()=>l.otu),b=ue(()=>l.taxon),w=ue(()=>{var yt,j;return((yt=y.value)==null?void 0:yt.id)&&((j=b.value)==null?void 0:j.id)}),k=ue(()=>p.value.filter(yt=>Ec(yt.meta.rankGroup,b.value.rank_string))),{onCreatePage:T,onSSRCreatePage:I}=F1({taxon:b,otu:y});Uc(async()=>{await G(),await I()}),T(),mn(()=>i.params.id,async()=>{_.abort(),_=new AbortController,G()}),Nn(async()=>{var yt,j;((yt=y.value)==null?void 0:yt.id)!==Number(i.params.id)||!((j=b.value)!=null&&j.id)?await G():st()}),Wi(()=>{l.$reset(),h.$reset()});async function G(){l.$reset(),h.$reset();try{await l.loadInit({otuId:i.params.id,controller:_}),st()}catch(yt){yt.name!==Qs.CanceledError&&J(yt)}}function J(yt){var j;switch((j=yt==null?void 0:yt.response)==null?void 0:j.status){case 404:s.replace({name:"httpError404"});break;case 500:s.replace({name:"httpError500"});break}}function st(){Yc({title:`${s4.project_name} - ${b.value.full_name}`}),T1([S1({id:i.fullPath,name:b.value.full_name,scientificName:{name:b.value.full_name,author:b.value.author,taxonRank:b.value.rank},parentTaxon:{name:b.value.parent.full_name,taxonRank:b.value.parent.rank},commonNames:l.taxonomy.commonNames,alternateName:l.taxonomy.synonyms})])}function xt({id:yt,otu_valid_id:j}){s.push({name:"otus-id-overview",params:{id:j||yt}})}return(yt,j)=>{const lt=ft("VSkeleton"),vt=ft("Autocomplete"),bt=ft("ClientOnly"),It=ft("TabItem"),Rt=ft("TabMenu"),wt=ft("RouterView");return N(),tt("main",null,[Q("div",a4,[Q("div",l4,[Q("div",u4,[Q("div",c4,[ot(lt,{class:"w-full md:w-3/4"},{default:pt(()=>{var Tt;return[w.value?(N(),At(J1,{key:0,class:"w-full md:w-3/4",list:((Tt=y.value)==null?void 0:Tt.parents)||{},current:b.value},null,8,["list","current"])):Gt("",!0)]}),_:1}),ot(vt,{class:"print:hidden min-w-full mb-2 md:min-w-fit md:ml-2 md:mb-0 md:w-96",url:"/otus/autocomplete","query-param":"term",label:"label_html",placeholder:"Search name...",params:{having_taxon_name_only:!0},onSelect:xt})]),Q("div",h4,[ot(lt,{lines:2,class:"w-96"},{default:pt(()=>[w.value?(N(),At(i4,{key:0})):Gt("",!0)]),_:1}),Q("div",d4,[ot(bt,null,{default:pt(()=>[ot($1)]),_:1}),w.value?(N(),At(o4,{key:0,otu:y.value},null,8,["otu"])):Gt("",!0)])])]),w.value&&ie(p).length>1?(N(),At(Rt,{key:0,class:"m-[-1px] print:hidden"},{default:pt(()=>[(N(!0),tt(Qt,null,Se(k.value,({name:Tt,label:$t})=>(N(),At(It,{key:Tt,to:{name:Tt}},{default:pt(()=>[pe(ae($t),1)]),_:2},1032,["to"]))),128))]),_:1})):Gt("",!0)])]),Q("div",p4,[Q("div",f4,[w.value?(N(),At(wt,{key:ie(i).fullPath,"taxon-id":b.value.id,taxon:b.value,"taxon-rank":b.value.rank_string,"otu-id":y.value.id,otu:y.value},null,8,["taxon-id","taxon","taxon-rank","otu-id","otu"])):Gt("",!0)])])])}}},m4=["innerHTML"],g4={__name:"PanelContentTopic",props:{title:{type:String,required:!0},textList:{type:Array,required:!0}},setup(t){return(i,s)=>{const u=ft("VCardHeader"),p=ft("VCardContent");return N(),tt(Qt,null,[ot(u,{class:"border-t border-base-muted first:border-t-0"},{default:pt(()=>[pe(ae(t.title),1)]),_:1}),ot(p,{class:"panel-content-list"},{default:pt(()=>[(N(!0),tt(Qt,null,Se(t.textList,(l,h)=>(N(),tt("div",{key:h,class:"pt-1 text-sm",innerHTML:l},null,8,m4))),128))]),_:1})],64)}}},y4={__name:"PanelContent",props:{otuId:{type:Number,required:!0}},setup(t){const i=t,s=Yt([]),u=new AbortController,p=ue(()=>s.value.reduce((l,h)=>(l[h.name]?l[h.name].push(h.text):l[h.name]=[h.text],l),{}));return Sp(()=>{Lr("panel:content",()=>Zn.getOtuContent(i.otuId,{params:{extend:["depiction"]},signal:u.signal})).then(({data:l})=>{s.value=l}).catch(l=>{})}),Wi(()=>{u.abort()}),(l,h)=>{const _=ft("VCard");return s.value.length?(N(),At(_,{key:0},{default:pt(()=>[(N(!0),tt(Qt,null,Se(p.value,(y,b)=>(N(),At(g4,{key:b,title:b,"text-list":y},null,8,["title","text-list"]))),128))]),_:1})):Gt("",!0)}}},v4={id:"panel:content",component:y4},b4={class:"synonyms"},x4=Q("span",{class:"text-orange-500 mr-1"},"=",-1),L4=["innerHTML"],C4={__name:"DescendantsSynonymList",props:{list:{type:Array,required:!0}},setup(t){const i=t;return(s,u)=>(N(),tt("ul",b4,[(N(!0),tt(Qt,null,Se(i.list,p=>(N(),tt("li",{key:p},[x4,Q("span",{innerHTML:p},null,8,L4)]))),128))]))}},w4={key:0,class:"tree"},k4={__name:"DescendantsTree",props:{taxonomy:{type:Object,required:!0},level:{type:Number,default:1}},setup(t){const i=t,s=Yt(!!i.taxonomy.descendants.length),u=Yt([...i.taxonomy.descendants]);mn(s,l=>{l&&p()});const p=()=>{u.value.length||Zn.getTaxonomy(i.taxonomy.otu_id,{params:{max_descendants_depth:1}}).then(({data:l})=>{u.value=l.descendants})};return(l,h)=>{const _=ft("button-expand"),y=ft("router-link"),b=ft("AnimationOpacity");return Object.keys(t.taxonomy).length?(N(),tt("li",{key:t.taxonomy.otu_id},[t.taxonomy.leaf_node?Gt("",!0):(N(),At(_,{key:0,modelValue:s.value,"onUpdate:modelValue":h[0]||(h[0]=w=>s.value=w),class:"absolute -left-2.5"},null,8,["modelValue"])),ot(y,{class:"text-primary-500",to:{name:"otus-id",params:{id:t.taxonomy.otu_id}},innerHTML:t.taxonomy.name},null,8,["to","innerHTML"]),t.taxonomy.nomenclatural_synonyms.length?(N(),At(C4,{key:1,class:"pb-4",list:t.taxonomy.nomenclatural_synonyms},null,8,["list"])):Gt("",!0),ot(b,null,{default:pt(()=>[u.value.length?(N(),tt("ul",w4,[(N(!0),tt(Qt,null,Se(u.value,w=>(N(),At(b,{key:w.otu_id},{default:pt(()=>[s.value?(N(),At(Wf,{key:0,taxonomy:w},null,8,["taxonomy"])):Gt("",!0)]),_:2},1024))),128))])):Gt("",!0)]),_:1})])):Gt("",!0)}}},Wf=ye(k4,[["__scopeId","data-v-b79ba271"]]),M4=Q("h3",null,"JSON Data",-1),E4={key:0,class:"p-5 font-normal"},B4={class:"pb-2 text-sm"},P4=["href"],S4={class:"relative"},T4=["innerHTML"],Jo={__name:"PanelDropdown",props:{panelKey:{type:String,required:!0},menuOptions:{type:Array,default:()=>[]}},setup(t){const i=t,s=ue(()=>u.getRequest(i.panelKey)),u=$l(),p=Yt(!1),l=ue(()=>[...i.menuOptions,{label:"JSON Data",action:()=>p.value=!0}]);return(h,_)=>{const y=ft("IconHamburger"),b=ft("Dropdown"),w=ft("VClipboard"),k=ft("VModal");return N(),tt(Qt,null,[ot(b,{items:l.value},{button:pt(()=>[ot(y,{class:"text-base-soft h-4"})]),_:1},8,["items"]),p.value?(N(),At(k,{key:0,onClose:_[0]||(_[0]=T=>p.value=!1)},{header:pt(()=>[M4]),default:pt(()=>[s.value?(N(),tt("div",E4,[Q("h3",B4,[pe(" URL: "),Q("a",{href:s.value.url},ae(s.value.url),9,P4)]),Q("div",S4,[Q("p",{class:"bg-base-background p-2 text-sm font-normal whitespace-pre-wrap",innerHTML:JSON.stringify(s.value.data,null,4)},null,8,T4),ot(w,{class:"absolute right-2 top-2 opacity-75",text:JSON.stringify(s.value.data,null,2)},null,8,["text"])])])):Gt("",!0)]),_:1})):Gt("",!0)],64)}}},A4=t=>(Lp("data-v-fd5dad5c"),t=t(),Cp(),t),O4=A4(()=>Q("h2",{class:"text-md"},"Descendants and synonyms",-1)),D4={class:"tree ml-2"},R4={key:0},I4={__name:"PanelDescendants",props:{otuId:{type:[String,Number],required:!0}},setup(t){const i=t,s=Yt(null),u=Yt(!1),p=ue(()=>s.value&&(s.value.nomenclatural_synonyms.length||s.value.descendants.length));return mn(()=>i.otuId,async()=>{i.otuId&&(u.value=!0,Lr("panel:descendants",()=>Zn.getTaxonomy(i.otuId,{params:{max_descendants_depth:1}})).then(({data:l})=>{s.value=l}).finally(()=>u.value=!1))},{immediate:!0}),(l,h)=>{const _=ft("VSpinner"),y=ft("ClientOnly"),b=ft("VCardHeader"),w=ft("AnimationOpacity"),k=ft("VCardContent"),T=ft("VCard");return N(),At(T,null,{default:pt(()=>[ot(y,null,{default:pt(()=>[u.value?(N(),At(_,{key:0,"logo-class":"w-8 h-8",legend:""})):Gt("",!0)]),_:1}),ot(b,{class:"flex justify-between"},{default:pt(()=>[O4,ot(Jo,{"panel-key":"panel:descendants"})]),_:1}),ot(k,{class:"text-sm"},{default:pt(()=>[Q("ul",D4,[ot(w,null,{default:pt(()=>[p.value?(N(),At(Wf,{key:0,taxonomy:s.value},null,8,["taxonomy"])):Gt("",!0)]),_:1})]),!p.value&&!u.value?(N(),tt("span",R4,"No records found.")):Gt("",!0)]),_:1})]),_:1})}}},F4=ye(I4,[["__scopeId","data-v-fd5dad5c"]]),N4={id:"panel:descendants",component:F4};var j4={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const z4=sa("imageStore",{state:()=>({images:null,controller:null}),actions:{resetRequest(){var t;(t=this.controller)==null||t.abort()},async loadImages(t){const i=["image/tiff"],s={extend:["depictions","attribution","source","citations"],otu_scope:["all"]};this.controller=new AbortController;try{const u=await Lr("panel:images",()=>Zn.getOtuImages(t,{params:s,signal:this.controller.signal}));this.images=u.data.map(p=>{var y;const l={...p},{url:h,project_token:_}=j4;return i.includes(l.content_type)&&p.original_png&&(l.original=`${h}/${(y=p.original_png)==null?void 0:y.substring(8)}?project_token=${_}`),l}),this.controller=null}catch(u){u.name!==Qs.CanceledError&&(this.controller=null)}}}}),V4={__name:"PanelGallery",props:{otuId:{type:[String,Number],required:!0}},setup(t){const i=t,s=z4(),u=ue(()=>s.images||[]);return Uc(async()=>{await s.loadImages(i.otuId)}),Nn(()=>{s.images||s.loadImages(i.otuId)}),Wi(()=>{s.resetRequest(),s.$reset()}),(p,l)=>{const h=ft("GalleryImage"),_=ft("VCardContent"),y=ft("VCard");return u.value.length?(N(),At(y,{key:0},{default:pt(()=>[ot(_,null,{default:pt(()=>[ot(h,{images:u.value},null,8,["images"])]),_:1})]),_:1})):Gt("",!0)}}},$4={id:"panel:gallery",component:V4,rankGroup:[]},G4=sa("distributionStore",{state:()=>({distribution:{geojson:null,errorMessage:null,currentShapeTypes:[],cachedMap:null},controller:null}),actions:{resetRequest(){var t;(t=this.controller)==null||t.abort()},loadCachedMap(t){Zn.getCachedMap(t,{signal:this.controller.signal}).then(i=>{this.distribution.cachedMap=i.data})},async getAggregateShape(t){Lr("panel:map",()=>Zn.getOtuDistribution(t,{signal:this.controller.signal})).then(({data:i})=>{const s=JSON.parse(i.cached_map.geo_json);this.distribution.currentShapeTypes=["Aggregate"],this.distribution.geojson={features:[O1(s,"Aggregate")]},this.loadCachedMap(i.cached_map.id)}).catch(i=>{i.name!=Qs.CanceledError&&(this.distribution.errorMessage=i.response.data.error,this.distribution.currentShapeTypes=[],this.distribution.geojson=[])})},async loadDistribution({otuId:t,rankString:i}){const s=i&&A1("SpeciesGroup",i);this.controller=new AbortController,s?Lr("panel:map",()=>Zn.getOtuGeoJSONDistribution(t,{signal:this.controller.signal})).then(({data:u})=>{if(u.request_too_large)this.distribution.geojson=null,this.distribution.errorMessage=u.message;else{const{features:p,shapeTypes:l}=D1(u);this.distribution.currentShapeTypes=l,this.distribution.geojson={features:p}}}).catch(u=>{u.name!==Qs.CanceledError&&this.getAggregateShape(t)}):this.getAggregateShape(t)}}});function Jf(t){return{html:`<div class="bg-map-collection-object"><span>${t.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive bg-map-collection-object bg-opacity-60 marker-cluster text-white",iconSize:[40,40]}}function Yf(t){return{html:`
    <div class="relative flex w-[40px] h-[40px]">
      <div class="rounded-l-full bg-map-collection-object bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-l-full bg-map-collection-object ml-[5px] mt-[5px]"></div>
      </div>
      <div class="rounded-r-full bg-map-type-material bg-opacity-60">
        <div class="w-[15px] h-[30px] rounded-r-full bg-map-type-material mr-[5px] mt-[5px]"></div>
      </div>
      <span class="absolute text-xs top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-white">
        ${t.getChildCount()}
      </span>
    </div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive",iconSize:[40,40]}}function H4(t){return{html:`<div class="bg-map-type-material"><span>${t.getChildCount()}</span></div>`,className:"leaflet-marker-icon leaflet-zoom-animated leaflet-interactive marker-cluster bg-map-type-material bg-opacity-60 text-white",iconSize:[40,40]}}const U4=Object.freeze(Object.defineProperty({__proto__:null,CollectionObject:Jf,Mixed:Yf,TypeMaterial:H4},Symbol.toStringTag,{value:"Module"}));function Z4({L:t,cluster:i}){const s=i.getAllChildMarkers().map(h=>h.feature.properties.base.map(_=>_.type)).flat(),u=[...new Set(s)],p=u.pop(),l=u.length?Yf:U4[p]||Jf;return t.divIcon(l(i))}const Bc={allowEditing:!1,allowRemoval:!1,allowCutting:!1,allowRotation:!1,draggable:!1};function q4({popupElement:t,popupItem:i}){return function(){return{onEachFeature:(s,u)=>{u.pm.setOptions(Bc),u.pm.disable(),u.on("popupopen",()=>i.value=s.properties),u.on("popupclose",()=>i.value=null),u.bindPopup(t.value,{minWidth:400,maxWidth:400})}}}}function Xf({popupElement:t}){const i=Yt(null);return{geojsonOptions:ue(()=>q4({popupElement:t,popupItem:i})),popupItem:i}}const K4="TypeMaterial",Qf="CollectionObject",W4="AssertedDistribution",J4="Georeference",Y4="Aggregate",X4={class:"max-h-32 overflow-y-auto text-xs min-w-80"},Q4={class:"py-2 last:border-0 truncate border-b",title:"label"},tx=["textContent","onClick"],ex={key:1},t_={__name:"MapPopup",props:{items:{type:Array,required:!0}},emits:["selected"],setup(t,{emit:i}){const s=i;return(u,p)=>(N(),tt("div",X4,[Q("ul",null,[(N(!0),tt(Qt,null,Se(t.items,l=>(N(),tt("li",Q4,[l.type===ie(Qf)?(N(),tt("span",{key:0,class:"cursor-pointer text-secondary-color",textContent:ae(l.label),onClick:()=>s("selected",l)},null,8,tx)):(N(),tt("span",ex,ae(l.label),1))]))),256))])]))}},nx=Q("h3",{class:"font-medium"},"Cached map",-1),ix={class:"p-4 pt-0"},rx={key:0,class:"text-success flex text-sm items-center"},ox=Q("span",{class:"ml-1"}," Map is synchronized with the latest changes * ",-1),sx={key:1,class:"text-warning flex text-sm items-center"},ax=Q("span",{class:"ml-1"}," Map is not synchronized with the latest changes * ",-1),lx=Q("p",{class:"italic text-xs pt-4"}," * Aggregate maps are generated from georeference and asserted distribution data. Map computation takes time, and as such they are re-calculated periodically rather than when individual georeferences and asserted distributions are created, destroyed, or updated. When a warning notice is present then the map is not syncronized with the latest changes to the underlying data. ",-1),ux={__name:"CachedMap",props:{cachedMap:{type:Object,required:!0}},setup(t){const i=Yt(!1);return(s,u)=>{const p=ft("IconCheck"),l=ft("IconWarning"),h=ft("VButton"),_=ft("VTableHeaderCell"),y=ft("VTableHeaderRow"),b=ft("VTableHeader"),w=ft("VTableBodyCell"),k=ft("VTableBodyRow"),T=ft("VTableBody"),I=ft("VTable"),G=ft("VModal");return N(),tt(Qt,null,[ot(h,{class:"left-2 bottom-2 !px-2 py-2 rounded-full absolute z-[1500]",primary:"",title:"Cached map",onClick:u[0]||(u[0]=J=>i.value=!0)},{default:pt(()=>[t.cachedMap.synced?(N(),At(p,{key:0,class:"w-4 h-4"})):(N(),At(l,{key:1,class:"w-4 h-4"}))]),_:1}),i.value?(N(),At(G,{key:0,onClose:u[1]||(u[1]=()=>i.value=!1)},{header:pt(()=>[nx]),default:pt(()=>[Q("div",ix,[ot(I,null,{default:pt(()=>[ot(b,null,{default:pt(()=>[ot(y,null,{default:pt(()=>[ot(_,null,{default:pt(()=>[pe("Data")]),_:1}),ot(_)]),_:1})]),_:1}),ot(T,null,{default:pt(()=>[ot(k,null,{default:pt(()=>[ot(w,null,{default:pt(()=>[pe(" Is synced ")]),_:1}),ot(w,null,{default:pt(()=>[t.cachedMap.synced?(N(),tt("p",rx,[ot(p,{class:"w-4 h-4"}),ox])):(N(),tt("p",sx,[ot(l,{class:"w-4 h-4"}),ax]))]),_:1})]),_:1}),ot(k,null,{default:pt(()=>[ot(w,null,{default:pt(()=>[pe(" Last update ")]),_:1}),ot(w,null,{default:pt(()=>[pe(ae(new Date(t.cachedMap.updated_at)),1)]),_:1})]),_:1})]),_:1}),ot(b,null,{default:pt(()=>[ot(y,null,{default:pt(()=>[ot(_,null,{default:pt(()=>[pe("Source")]),_:1}),ot(_,null,{default:pt(()=>[pe("Total")]),_:1})]),_:1})]),_:1}),ot(T,null,{default:pt(()=>[(N(!0),tt(Qt,null,Se(t.cachedMap.source_scope,(J,st)=>(N(),At(k,{key:st},{default:pt(()=>[ot(w,{class:"capitalize"},{default:pt(()=>[pe(ae(st.replaceAll("_"," ")),1)]),_:2},1024),ot(w,null,{default:pt(()=>[pe(ae(J),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),lx])]),_:1})):Gt("",!0)],64)}}},cx={class:"bottom-0 w-screen bg-base-foreground z-[1000] left-0 p-4 text-sm flex flex-row justify-between align-middle box-border border-b border-base-muted"},hx=["innerHTML"],dx={__name:"SearchBar",props:{label:{type:String,required:!0}},emits:["close"],setup(t,{emit:i}){const s=i;return(u,p)=>{const l=ft("IconClose");return N(),tt("div",cx,[Q("div",null,[Q("span",{class:"ml-2",innerHTML:t.label},null,8,hx)]),ot(l,{class:"cursor-pointer",onClick:p[0]||(p[0]=()=>s("close"))})])}}},px={key:1,class:"text-lg text-center text-base-lighter align-middle p-4"},fx={__name:"ListResults",props:{list:{type:Array,default:()=>[]}},emits:["close","close:table"],setup(t,{emit:i}){const s=i;return(u,p)=>{const l=ft("IconArrowRight"),h=ft("VTableHeaderCell"),_=ft("VTableHeaderRow"),y=ft("VTableHeader"),b=ft("RouterLink"),w=ft("VTableBodyCell"),k=ft("VTableBodyRow"),T=ft("VTableBody"),I=ft("VTable");return t.list.length?(N(),At(I,{key:0,class:"shadow-md"},{default:pt(()=>[ot(y,null,{default:pt(()=>[ot(_,null,{default:pt(()=>[ot(h,{class:"w-full flex justify-between box-border items-center"},{default:pt(()=>[Q("span",null,"OTU ("+ae(t.list.length)+")",1),ot(l,{class:"opacity-50 cursor-pointer w-4 h-4",onClick:p[0]||(p[0]=G=>s("close:table"))})]),_:1})]),_:1})]),_:1}),ot(T,null,{default:pt(()=>[(N(!0),tt(Qt,null,Se(t.list,G=>(N(),At(k,{key:G.id},{default:pt(()=>[ot(w,null,{default:pt(()=>[ot(b,{innerHTML:G.object_tag,to:{name:"otus-id",params:{id:G.id}},onClick:p[1]||(p[1]=()=>s("close"))},null,8,["innerHTML","to"])]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})):(N(),tt("div",px," No OTUs found in this area "))}}},_x={class:"font-medium"},e_={__name:"DwcTable",setup(t,{expose:i}){const s=Yt(!1),u=Yt(!1),p=Yt({}),l=Yt();function h({label:_,id:y}){u.value=!0,s.value=!0,p.value={},l.value=_,bn(`/collection_objects/${y}/dwc`).then(({data:b})=>{p.value=b}).catch(()=>{}).finally(()=>{s.value=!1})}return i({show:h}),(_,y)=>{const b=ft("VTableHeaderCell"),w=ft("VTableHeaderRow"),k=ft("VTableHeader"),T=ft("VTableBodyCell"),I=ft("VTableBodyRow"),G=ft("VTableBody"),J=ft("VTable"),st=ft("VSpinner"),xt=ft("VModal");return u.value?(N(),At(xt,{key:0,onClose:y[0]||(y[0]=()=>u.value=!1)},{header:pt(()=>[Q("h3",_x,ae(l.value),1)]),default:pt(()=>[ot(J,{class:"p-4 pt-0"},{default:pt(()=>[ot(k,null,{default:pt(()=>[ot(w,null,{default:pt(()=>[ot(b,null,{default:pt(()=>[pe("Field")]),_:1}),ot(b,null,{default:pt(()=>[pe("Value")]),_:1})]),_:1})]),_:1}),ot(G,null,{default:pt(()=>[(N(!0),tt(Qt,null,Se(p.value,(yt,j)=>(N(),At(I,{key:j},{default:pt(()=>[ot(T,null,{default:pt(()=>[pe(ae(j),1)]),_:2},1024),ot(T,null,{default:pt(()=>[pe(ae(yt),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1}),s.value?(N(),At(st,{key:0})):Gt("",!0)]),_:1})):Gt("",!0)}}},mx={class:"w-screen h-screen fixed top-0 left-0 z-[5000] flex flex-col"},gx={__name:"OtuSearch",props:{shapes:{type:Object,default:()=>[]},otu:{type:Object,default:void 0}},emits:["close"],setup(t,{emit:i}){const s=t,u=i,p=Yt(null),l=Yt(null),h=Yt(null),_=Yt([]),y=Yt(!1),b=Yt(),w=Yt(6),k=Yt(6),{popupItem:T,geojsonOptions:I}=Xf({popupElement:p}),G=ue(()=>!!s.shapes&&k.value<=w.value);Nn(()=>{document.addEventListener("keyup",J),document.body.classList.add("overflow-hidden")}),no(()=>{document.removeEventListener("keyup",J),document.body.classList.remove("overflow-hidden")});const J=({key:lt})=>{switch(lt){case"Escape":u("close");break}};function st(lt){const vt={geo_json:lt,taxon_name_id:[s.otu.taxon_name_id],descendants:!0,per:5e3};b.value=!0,Zn.getOtus(vt).then(({data:bt})=>{_.value=bt,y.value=!0}).finally(bt=>{b.value=!1})}function xt(lt){yt(),G.value&&h.value.resizeMap()}function yt(){k.value=h.value.getMapObject().getZoom()}function j(){w.value=h.value.getMapObject().getZoom(),yt()}return(lt,vt)=>{const bt=ft("VSpinner"),It=ft("VMap");return N(),tt("div",mx,[b.value?(N(),At(bt,{key:0})):Gt("",!0),ot(dx,{label:t.otu.object_tag,onClose:vt[0]||(vt[0]=()=>u("close"))},null,8,["label"]),Q("div",{class:kn(["w-full","h-full","relative",{"disable-zoom-out":G.value}])},[ot(It,{ref_key:"mapRef",ref:h,class:"w-full h-full",controls:"",dragging:!G.value,"zoom-bounds":w.value,geojson:t.shapes,geojsonOptions:ie(I),"onGeojson:ready":j,"onAdd:layer":vt[1]||(vt[1]=Rt=>st(JSON.stringify(Rt.geometry))),"onEdit:layer":vt[2]||(vt[2]=Rt=>st(JSON.stringify(Rt.geometry))),"onDrag:layer":vt[3]||(vt[3]=Rt=>st(JSON.stringify(Rt.geometry))),"onZoom:change":xt,zoom:4},null,8,["dragging","zoom-bounds","geojson","geojsonOptions"]),Q("div",{ref_key:"popupElement",ref:p},[ie(T)?(N(),At(t_,{key:0,items:ie(T).base,onSelected:l.value.show},null,8,["items","onSelected"])):Gt("",!0)],512),Q("div",{class:kn(["h-full","md:w-96","absolute","top-0","bg-base-background","z-[2000]","overflow-auto","ease-in-out","duration-300","w-full",{"md:-right-96 -right-full":!y.value,"right-0":y.value}])},[y.value?(N(),At(fx,{key:0,list:_.value,onClose:vt[4]||(vt[4]=()=>u("close")),"onClose:table":vt[5]||(vt[5]=()=>y.value=!1)},null,8,["list"])):Gt("",!0)],2)],2),ot(e_,{ref_key:"dwcTableRef",ref:l},null,512)])}}},yx=ye(gx,[["__scopeId","data-v-a99dffa5"]]),vx={class:"relative"},bx={key:0,class:"flex flex-row p-2 text-xs italic"},xx={key:1,class:"flex flex-row p-2 gap-2 text-xs"},Lx=2,Cx={__name:"PanelMap",props:{otuId:{type:[String,Number],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0},cluster:{type:Boolean,default:!0}},setup(t){const i=t,s=Yt(!0),u=Yt(!1),p=Yt(null),l=G4(),h=Yt(null),{popupItem:_,geojsonOptions:y}=Xf({popupElement:h}),b={AssertedDistribution:{label:"Asserted distribution",background:"bg-map-asserted"},Georeference:{label:"Georeference",background:"bg-map-georeference"},TypeMaterial:{label:"Type material",background:"bg-map-type-material"},CollectionObject:{label:"Collection object",background:"bg-map-collection-object"},Aggregate:{label:"Aggregate (Asserted distribution & Georeference)",background:"bg-map-aggregate"}};return Nn(()=>{s.value=!0,l.loadDistribution({otuId:i.otuId,rankString:i.taxon.rank_string})}),Wi(()=>{l.resetRequest(),l.$reset()}),(w,k)=>{const T=ft("VSpinner"),I=ft("VMap"),G=ft("VButton"),J=ft("ClientOnly"),st=ft("VCard");return N(),At(st,null,{default:pt(()=>[Q("div",vx,[ot(J,null,{default:pt(()=>[s.value?(N(),At(T,{key:0})):Gt("",!0),ot(I,{class:"h-96 max-h-96",dragging:"",cluster:t.cluster,zoom:Lx,"zoom-bounds":8,geojson:ie(l).distribution.geojson,"cluster-icon-create-function":ie(Z4),"geojson-options":ie(y),"onGeojson:ready":k[0]||(k[0]=()=>s.value=!1)},null,8,["cluster","geojson","cluster-icon-create-function","geojson-options"]),Q("div",{ref_key:"popupElement",ref:h},[ie(_)?(N(),At(t_,{key:0,items:ie(_).base,onSelected:p.value.show},null,8,["items","onSelected"])):Gt("",!0)],512),ot(G,{class:"h-6 text-sm absolute right-3 top-3 z-[400]",primary:"",onClick:k[1]||(k[1]=()=>u.value=!0)},{default:pt(()=>[pe(" Search ")]),_:1}),u.value?(N(),At(yx,{key:1,otu:t.otu,shapes:ie(l).distribution.geojson,onClose:k[2]||(k[2]=()=>u.value=!1)},null,8,["otu","shapes"])):Gt("",!0),ie(l).distribution.cachedMap?(N(),At(ux,{key:2,"cached-map":ie(l).distribution.cachedMap},null,8,["cached-map"])):Gt("",!0)]),_:1})]),ie(l).distribution.errorMessage?(N(),tt("div",bx," * "+ae(ie(l).distribution.errorMessage),1)):Gt("",!0),ie(l).distribution.currentShapeTypes.length?(N(),tt("div",xx,[(N(!0),tt(Qt,null,Se(ie(l).distribution.currentShapeTypes,xt=>(N(),tt("div",{key:xt,class:"flex flex-row items-center"},[Q("div",{class:kn(["w-3","h-3","m-1","rounded-sm",b[xt].background])},null,2),Q("span",null,ae(b[xt].label),1)]))),128))])):Gt("",!0),ot(e_,{ref_key:"dwcTableRef",ref:p},null,512)]),_:1})}}},wx={id:"panel:map",component:Cx};function n_(t,i){const s=t.slice(),u=s.splice(0,i),p=s.splice(-i);return{first:u,middle:s,last:p}}const kx={class:"border-b border-base-muted p-3 px-5"},Mx=["title","innerHTML"],Ex=["innerHTML"],nc={__name:"PanelCitationRow",props:{citation:{type:Object,required:!0}},setup(t){return(i,s)=>(N(),tt("li",kx,[Q("span",{class:"break-all block",title:t.citation.label,innerHTML:t.citation.label},null,8,Mx),t.citation.type_label?(N(),tt("p",{key:0,class:"ml-4 text-base-soft",innerHTML:t.citation.type_label},null,8,Ex)):Gt("",!0)]))}},Bx={class:"flex justify-start border-b p-3 px-4 cursor-pointer border-base-muted"},i_={__name:"PanelNomenclatureShowMore",props:{count:{type:Number,required:!0}},setup(t){return(i,s)=>{const u=ft("IconPlusCircle");return N(),tt("li",Bx,[Q("div",{class:"h-5 w-5 text-secondary-color opacity-60 mr-2 cursor-pointer",onClick:s[0]||(s[0]=()=>i.isExpanded=!i.isExpanded)},[ot(u,{class:"h-5 w-5"})]),Q("span",null,"... Show all ... ("+ae(t.count)+")",1)])}}},Px={class:"text-md"},Sx={class:"text-sm"},Tx={class:"text-sm"},Ax={class:"text-sm"},Ox=2,Dx={__name:"PanelNomenclature",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const i=io(),s=Yt(!1),u=ue(()=>n_(i.catalog.timeline,Ox)),p=ue(()=>[{label:s.value?"Show less":"Show all",action:()=>s.value=!s.value}]);return(l,h)=>{const _=ft("VSpinner"),y=ft("VCardHeader"),b=ft("AnimationOpacity"),w=ft("VCard");return N(),At(w,null,{default:pt(()=>[ie(i).catalog.isLoading?(N(),At(_,{key:0,"logo-class":"w-8 h-8",legend:""})):Gt("",!0),ot(y,{class:"flex justify-between"},{default:pt(()=>[Q("h2",Px," Nomenclature ("+ae(ie(i).catalog.timeline.length)+") ",1),ot(Jo,{"menu-options":p.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),Q("ul",Sx,[(N(!0),tt(Qt,null,Se(u.value.first,k=>(N(),At(nc,{key:k.label,citation:k},null,8,["citation"]))),128)),!s.value&&u.value.middle.length?(N(),At(i_,{key:0,count:u.value.middle.length,onClick:h[0]||(h[0]=k=>s.value=!0)},null,8,["count"])):Gt("",!0)]),ot(b,null,{default:pt(()=>[ia(Q("ul",Tx,[(N(!0),tt(Qt,null,Se(u.value.middle,k=>(N(),At(nc,{key:k.label,citation:k},null,8,["citation"]))),128))],512),[[Fl,s.value]])]),_:1}),Q("ul",Ax,[(N(!0),tt(Qt,null,Se(u.value.last,k=>(N(),At(nc,{key:k.label,citation:k},null,8,["citation"]))),128))])]),_:1})}}},Rx={id:"panel:nomenclature",component:Dx},Ix={class:"border-b border-base-muted p-3 px-5"},Fx=["title","innerHTML"],ic={__name:"PanelReferenceRow",props:{reference:{type:String,required:!0}},setup(t){return(i,s)=>(N(),tt("li",Ix,[Q("span",{class:"[&>a]:break-all block",title:t.reference,innerHTML:t.reference},null,8,Fx)]))}},Nx={class:"text-md"},jx={class:"text-sm"},zx=2,Vx={__name:"PanelNomenclatureReferences",setup(t){const i=io(),s=Yt(!1),u=ue(()=>n_(i.catalog.sources,zx)),p=ue(()=>[{label:s.value?"Show less":"Show all",action:()=>s.value=!s.value}]);return(l,h)=>{const _=ft("VSpinner"),y=ft("VCardHeader"),b=ft("AnimationOpacity"),w=ft("VCard");return N(),At(w,null,{default:pt(()=>[ie(i).catalog.isLoading?(N(),At(_,{key:0,"logo-class":"w-8 h-8",legend:""})):Gt("",!0),ot(y,{class:"flex justify-between"},{default:pt(()=>[Q("h2",Nx," Nomenclature references ("+ae(ie(i).catalog.sources.length)+") ",1),ot(Jo,{"menu-options":p.value,"panel-key":"taxonomy"},null,8,["menu-options"])]),_:1}),Q("ul",jx,[(N(!0),tt(Qt,null,Se(u.value.first,k=>(N(),At(ic,{key:k,reference:k},null,8,["reference"]))),128)),!s.value&&u.value.middle.length?(N(),At(i_,{key:0,count:u.value.middle.length,onClick:h[0]||(h[0]=k=>s.value=!0)},null,8,["count"])):Gt("",!0),ot(b,null,{default:pt(()=>[ia(Q("div",null,[(N(!0),tt(Qt,null,Se(u.value.middle,k=>(N(),At(ic,{key:k,reference:k},null,8,["reference"]))),128))],512),[[Fl,s.value]])]),_:1}),(N(!0),tt(Qt,null,Se(u.value.last,k=>(N(),At(ic,{key:k,reference:k},null,8,["reference"]))),128))])]),_:1})}}},$x={id:"panel:nomenclature-references",component:Vx},Gx=Q("h2",{class:"text-md"},"Stats",-1),Hx={__name:"PanelStats",props:{otuId:{type:[Number,String],required:!0},taxonId:{type:[Number,String],required:!0},taxon:{type:Object,default:void 0},otu:{type:Object,default:void 0}},setup(t){const i=io(),s=Yt(!1),u=ue(()=>[{label:s.value?"Hide taxa":"Show taxa",action:()=>s.value=!s.value}]);return(p,l)=>{const h=ft("VSpinner"),_=ft("VCardHeader"),y=ft("VTableHeaderCell"),b=ft("VTableHeaderRow"),w=ft("VTableHeader"),k=ft("VTableBodyCell"),T=ft("VTableBodyRow"),I=ft("VTableBody"),G=ft("VTable"),J=ft("VCardContent"),st=ft("VCard");return N(),At(st,null,{default:pt(()=>[ie(i).catalog.isLoading?(N(),At(h,{key:0,"logo-class":"w-8 h-8",legend:""})):Gt("",!0),ot(_,{class:"flex justify-between"},{default:pt(()=>[Gx,ot(Jo,{"panel-key":"taxonomy","menu-options":u.value},null,8,["menu-options"])]),_:1}),ot(J,{class:"text-sm"},{default:pt(()=>[ot(G,null,{default:pt(()=>[ot(w,null,{default:pt(()=>[ot(b,null,{default:pt(()=>[ot(y,{class:"bg-base-foreground"}),s.value?(N(),At(y,{key:0,title:"OTUs linked to valid protonyms"},{default:pt(()=>[pe(" Taxa ")]),_:1})):Gt("",!0),ot(y,{title:"Taxon names",class:"border-l border-base-border"},{default:pt(()=>[pe(" Names ")]),_:1}),ot(y,{colspan:"2",class:"bg-base-foreground"})]),_:1}),ot(b,null,{default:pt(()=>[ot(y,null,{default:pt(()=>[pe("Rank")]),_:1}),s.value?(N(),At(y,{key:0,title:"OTUs linked to valid protonyms"},{default:pt(()=>[pe("Total")]),_:1})):Gt("",!0),ot(y,{title:"Taxon names",class:"border-l border-base-border"},{default:pt(()=>[pe(" Total ")]),_:1}),ot(y,null,{default:pt(()=>[pe(" Valid ")]),_:1}),ot(y,null,{default:pt(()=>[pe(" Invalid ")]),_:1})]),_:1})]),_:1}),ot(I,null,{default:pt(()=>[(N(!0),tt(Qt,null,Se(ie(i).catalog.stats,({rank:xt,taxa:yt,names:j})=>(N(),At(T,{key:xt},{default:pt(()=>[ot(k,{class:"capitalize"},{default:pt(()=>[pe(ae(xt),1)]),_:2},1024),s.value?(N(),At(k,{key:0},{default:pt(()=>[pe(ae(yt),1)]),_:2},1024)):Gt("",!0),ot(k,{class:"border-l border-base-border"},{default:pt(()=>[pe(ae(j.invalid+j.valid),1)]),_:2},1024),ot(k,null,{default:pt(()=>[pe(ae(j.valid),1)]),_:2},1024),ot(k,null,{default:pt(()=>[pe(ae(j.invalid),1)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}},Ux={id:"panel:statistics",component:Hx},Zx=Q("h2",{class:"text-md"},"Type",-1),qx=["innerHTML"],Kx={__name:"PanelTypeDesignation",props:{taxonId:{type:[String,Number],required:!0}},setup(t){const i=io(),s=ue(()=>{var p;return((p=i.taxon)==null?void 0:p.type_taxon_name_relationship)||{}}),u=ue(()=>[s.value.subject_object_tag||"",s.value.subject_status_tag||"",s.value.object_object_tag||""].join(" "));return(p,l)=>{const h=ft("VCardHeader"),_=ft("VCardContent"),y=ft("VCard");return N(),At(y,null,{default:pt(()=>[ot(h,{class:"flex justify-between"},{default:pt(()=>[Zx,ot(Jo,{"panel-key":"panel:type"})]),_:1}),ot(_,{class:"text-sm"},{default:pt(()=>[Q("p",{innerHTML:u.value},null,8,qx)]),_:1})]),_:1})}}},Wx={id:"panel:type",component:Kx,rankGroup:[Wv,Jv]},Jx=Q("h2",{class:"text-md"},"Type specimen",-1),Yx={__name:"PanelTypeSpecimen",props:{otuId:{type:[String,Number],required:!0}},setup(t){const i=t,s=Yt([]);return mn(()=>i.otuId,()=>{i.otuId&&Lr("panel:typeMaterial",()=>Zn.getOtuTypeMaterial(i.otuId)).then(({data:u})=>{s.value=u.type_materials_catalog_labels.sort((p,l)=>bd.indexOf(p.type_type)-bd.indexOf(l.type_type))})},{immediate:!0}),(u,p)=>{const l=ft("VCardHeader"),h=ft("VCardContent"),_=ft("VCard");return s.value.length?(N(),At(_,{key:0},{default:pt(()=>[ot(l,{class:"flex justify-between"},{default:pt(()=>[Jx,ot(Jo,{"panel-key":"panel:typeMaterial"})]),_:1}),ot(h,{class:"text-sm"},{default:pt(()=>[Q("p",null,ae(s.value[0].label),1)]),_:1})]),_:1})):Gt("",!0)}}},Xx={id:"panel:type-specimen",component:Yx,rankGroup:[Yv,Xv]},Qx={overview:{panels:[[["panel:gallery","panel:type","panel:type-specimen","panel:nomenclature","panel:nomenclature-references"],["panel:map","panel:descendants","panel:content","panel:statistics"]]]}};var tL={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const eL=Object.values(Object.assign({"/src/modules/otus/components/Panel/PanelContent/main.js":v4,"/src/modules/otus/components/Panel/PanelDescendants/main.js":N4,"/src/modules/otus/components/Panel/PanelGallery/main.js":$4,"/src/modules/otus/components/Panel/PanelMap/main.js":wx,"/src/modules/otus/components/Panel/PanelNomenclature/main.js":Rx,"/src/modules/otus/components/Panel/PanelNomenclatureReferences/main.js":$x,"/src/modules/otus/components/Panel/PanelStats/main.js":Ux,"/src/modules/otus/components/Panel/PanelTypeDesignation/main.js":Wx,"/src/modules/otus/components/Panel/PanelTypeSpecimen/main.js":Xx})),{taxa_page:nL}=tL,Rd=Object.assign({...Qx,...nL});function iL(t){return t.map(i=>i.map(s=>s.map(u=>{const l=typeof u=="string"?{id:u}:{...u};return{...eL.find(_=>_.id===l.id),...l}})))}const Us={};for(const t in Rd){const i=Rd[t];Us[t]={panels:iL((i==null?void 0:i.panels)||{}),rankGroup:i.rank_group||[],label:i.label}}const rL={class:"grid gap-3"},oL={__name:"PageLayout",props:{taxonId:{type:[Number,String],required:!0},taxonRank:{type:[String,null],required:!0},otuId:{type:[Number,String],required:!0},otu:{type:Object,required:!0},taxon:{type:Object,required:!0}},setup(t){var l;const i=t,s=oa(),u=Us[s.currentRoute.value.meta.tab],p={1:["md:grid-cols-1"],2:["md:grid-cols-2"],3:["md:grid-cols-3"]};return(l=u.rankGroup)!=null&&l.length&&!Ec(u.rankGroup,i.taxonRank)&&s.replace({name:"otus-id-overview"}),(h,_)=>(N(),tt("div",rL,[(N(!0),tt(Qt,null,Se(ie(u).panels,y=>(N(),tt("div",{class:kn(["grid","grid-cols-1","gap-3",p[y.length]])},[(N(!0),tt(Qt,null,Se(y,(b,w)=>(N(),tt("div",{class:"grid grid-cols-1 gap-3 auto-rows-min",key:w},[(N(!0),tt(Qt,null,Se(b,({component:k,rankGroup:T,id:I,bind:G})=>(N(),tt(Qt,{key:I},[!T||ie(Ec)(T,t.taxonRank)?(N(),At(qo(k),tf({key:0,"otu-id":t.otuId,otu:t.otu,"taxon-id":t.taxonId,taxon:t.taxon,"panel-key":I,ref_for:!0},G),null,16,["otu-id","otu","taxon-id","taxon","panel-key"])):Gt("",!0)],64))),128))]))),128))],2))),256))]))}};function sL(){return Object.keys(Us||{}).map(i=>({path:i,name:`otus-id-${i}`,component:oL,meta:{tab:i,rankGroup:Us[i].rankGroup,label:Us[i].label}}))}const aL=[{name:"otus-id",path:"/otus/:id",component:_4,redirect:{name:"otus-id-overview"},children:sL()}],lL="modulepreload",uL=function(t){return"/afbees/"+t},Id={},r_=function(i,s,u){let p=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),h=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));p=Promise.all(s.map(_=>{if(_=uL(_),_ in Id)return;Id[_]=!0;const y=_.endsWith(".css"),b=y?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${b}`))return;const w=document.createElement("link");if(w.rel=y?"stylesheet":lL,y||(w.as="script",w.crossOrigin=""),w.href=_,h&&w.setAttribute("nonce",h),document.head.appendChild(w),y)return new Promise((k,T)=>{w.addEventListener("load",k),w.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${_}`)))})}))}return p.then(()=>i()).catch(l=>{const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=l,window.dispatchEvent(h),!h.defaultPrevented)throw l})},cL=()=>r_(()=>import("./home-2l36QM05.js"),[]),hL=()=>r_(()=>import("./about-CI5N-k1s.js"),[]),dL=[{name:"home",path:"/",component:cL,props:!0,alias:"/home"},{name:"about",path:"/about",component:hL,props:!0}];var pL={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const fL=Object.assign({"/src/modules/home/router/index.js":Tv,"/src/modules/httpErrorPages/router/index.js":Kv,"/src/modules/otus/router/index.js":aL}),_L=Object.assign({}),{base_url:Fd,hash_mode:mL}=pL,gL=[].concat(...Object.values(fL),...Object.values(_L)),yL=[...dL,...gL];function vL(){return mL?fy(Fd):mf(Fd)}function bL(){return zy({history:vL(),routes:yL,scrollBehavior(t,i,s){return t.hash?{el:t.hash}:{top:0}}})}var xL={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};function LL({originUrl:t}){const{url:i,project_token:s}=xL,p=l0(i&&s?gv:Cv),l=bL(),h=Gy();return p.use(l),p.use(h),{app:p,router:l,store:h}}var CL={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const{map_tile_server:wL,map_tile_attribution:kL,map_tiles:ML}=CL;function EL(t,i){return Object.fromEntries((ML||[{label:"tile",server:wL,attribution:kL}]).map(({server:u,attribution:p,label:l})=>[l,t.tileLayer(u,{...i,attribution:p})]))}var No=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function BL(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pc={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,i){(function(s,u){u(i)})(No,function(s){var u="1.9.4";function p(e){var o,d,g,x;for(d=1,g=arguments.length;d<g;d++){x=arguments[d];for(o in x)e[o]=x[o]}return e}var l=Object.create||function(){function e(){}return function(o){return e.prototype=o,new e}}();function h(e,o){var d=Array.prototype.slice;if(e.bind)return e.bind.apply(e,d.call(arguments,1));var g=d.call(arguments,2);return function(){return e.apply(o,g.length?g.concat(d.call(arguments)):arguments)}}var _=0;function y(e){return"_leaflet_id"in e||(e._leaflet_id=++_),e._leaflet_id}function b(e,o,d){var g,x,P,U;return U=function(){g=!1,x&&(P.apply(d,x),x=!1)},P=function(){g?x=arguments:(e.apply(d,arguments),setTimeout(U,o),g=!0)},P}function w(e,o,d){var g=o[1],x=o[0],P=g-x;return e===g&&d?e:((e-x)%P+P)%P+x}function k(){return!1}function T(e,o){if(o===!1)return e;var d=Math.pow(10,o===void 0?6:o);return Math.round(e*d)/d}function I(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function G(e){return I(e).split(/\s+/)}function J(e,o){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?l(e.options):{});for(var d in o)e.options[d]=o[d];return e.options}function st(e,o,d){var g=[];for(var x in e)g.push(encodeURIComponent(d?x.toUpperCase():x)+"="+encodeURIComponent(e[x]));return(!o||o.indexOf("?")===-1?"?":"&")+g.join("&")}var xt=/\{ *([\w_ -]+) *\}/g;function yt(e,o){return e.replace(xt,function(d,g){var x=o[g];if(x===void 0)throw new Error("No value provided for variable "+d);return typeof x=="function"&&(x=x(o)),x})}var j=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function lt(e,o){for(var d=0;d<e.length;d++)if(e[d]===o)return d;return-1}var vt="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function bt(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var It=0;function Rt(e){var o=+new Date,d=Math.max(0,16-(o-It));return It=o+d,window.setTimeout(e,d)}var wt=window.requestAnimationFrame||bt("RequestAnimationFrame")||Rt,Tt=window.cancelAnimationFrame||bt("CancelAnimationFrame")||bt("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function $t(e,o,d){if(d&&wt===Rt)e.call(o);else return wt.call(window,h(e,o))}function St(e){e&&Tt.call(window,e)}var re={__proto__:null,extend:p,create:l,bind:h,get lastId(){return _},stamp:y,throttle:b,wrapNum:w,falseFn:k,formatNum:T,trim:I,splitWords:G,setOptions:J,getParamString:st,template:yt,isArray:j,indexOf:lt,emptyImageUrl:vt,requestFn:wt,cancelFn:Tt,requestAnimFrame:$t,cancelAnimFrame:St};function xe(){}xe.extend=function(e){var o=function(){J(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=o.__super__=this.prototype,g=l(d);g.constructor=o,o.prototype=g;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(o[x]=this[x]);return e.statics&&p(o,e.statics),e.includes&&(Ae(e.includes),p.apply(null,[g].concat(e.includes))),p(g,e),delete g.statics,delete g.includes,g.options&&(g.options=d.options?l(d.options):{},p(g.options,e.options)),g._initHooks=[],g.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,U=g._initHooks.length;P<U;P++)g._initHooks[P].call(this)}},o},xe.include=function(e){var o=this.prototype.options;return p(this.prototype,e),e.options&&(this.prototype.options=o,this.mergeOptions(e.options)),this},xe.mergeOptions=function(e){return p(this.prototype.options,e),this},xe.addInitHook=function(e){var o=Array.prototype.slice.call(arguments,1),d=typeof e=="function"?e:function(){this[e].apply(this,o)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function Ae(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=j(e)?e:[e];for(var o=0;o<e.length;o++)e[o]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var jt={on:function(e,o,d){if(typeof e=="object")for(var g in e)this._on(g,e[g],o);else{e=G(e);for(var x=0,P=e.length;x<P;x++)this._on(e[x],o,d)}return this},off:function(e,o,d){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var g in e)this._off(g,e[g],o);else{e=G(e);for(var x=arguments.length===1,P=0,U=e.length;P<U;P++)x?this._off(e[P]):this._off(e[P],o,d)}return this},_on:function(e,o,d,g){if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}if(this._listens(e,o,d)===!1){d===this&&(d=void 0);var x={fn:o,ctx:d};g&&(x.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(x)}},_off:function(e,o,d){var g,x,P;if(this._events&&(g=this._events[e],!!g)){if(arguments.length===1){if(this._firingCount)for(x=0,P=g.length;x<P;x++)g[x].fn=k;delete this._events[e];return}if(typeof o!="function"){console.warn("wrong listener type: "+typeof o);return}var U=this._listens(e,o,d);if(U!==!1){var rt=g[U];this._firingCount&&(rt.fn=k,this._events[e]=g=g.slice()),g.splice(U,1)}}},fire:function(e,o,d){if(!this.listens(e,d))return this;var g=p({},o,{type:e,target:this,sourceTarget:o&&o.sourceTarget||this});if(this._events){var x=this._events[e];if(x){this._firingCount=this._firingCount+1||1;for(var P=0,U=x.length;P<U;P++){var rt=x[P],dt=rt.fn;rt.once&&this.off(e,dt,rt.ctx),dt.call(rt.ctx||this,g)}this._firingCount--}}return d&&this._propagateEvent(g),this},listens:function(e,o,d,g){typeof e!="string"&&console.warn('"string" type argument expected');var x=o;typeof o!="function"&&(g=!!o,x=void 0,d=void 0);var P=this._events&&this._events[e];if(P&&P.length&&this._listens(e,x,d)!==!1)return!0;if(g){for(var U in this._eventParents)if(this._eventParents[U].listens(e,o,d,g))return!0}return!1},_listens:function(e,o,d){if(!this._events)return!1;var g=this._events[e]||[];if(!o)return!!g.length;d===this&&(d=void 0);for(var x=0,P=g.length;x<P;x++)if(g[x].fn===o&&g[x].ctx===d)return x;return!1},once:function(e,o,d){if(typeof e=="object")for(var g in e)this._on(g,e[g],o,!0);else{e=G(e);for(var x=0,P=e.length;x<P;x++)this._on(e[x],o,d,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[y(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[y(e)],this},_propagateEvent:function(e){for(var o in this._eventParents)this._eventParents[o].fire(e.type,p({layer:e.target,propagatedFrom:e.target},e),!0)}};jt.addEventListener=jt.on,jt.removeEventListener=jt.clearAllEventListeners=jt.off,jt.addOneTimeEventListener=jt.once,jt.fireEvent=jt.fire,jt.hasEventListeners=jt.listens;var Jt=xe.extend(jt);function Et(e,o,d){this.x=d?Math.round(e):e,this.y=d?Math.round(o):o}var qe=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};Et.prototype={clone:function(){return new Et(this.x,this.y)},add:function(e){return this.clone()._add(te(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(te(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new Et(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new Et(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=qe(this.x),this.y=qe(this.y),this},distanceTo:function(e){e=te(e);var o=e.x-this.x,d=e.y-this.y;return Math.sqrt(o*o+d*d)},equals:function(e){return e=te(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=te(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+T(this.x)+", "+T(this.y)+")"}};function te(e,o,d){return e instanceof Et?e:j(e)?new Et(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new Et(e.x,e.y):new Et(e,o,d)}function we(e,o){if(e)for(var d=o?[e,o]:e,g=0,x=d.length;g<x;g++)this.extend(d[g])}we.prototype={extend:function(e){var o,d;if(!e)return this;if(e instanceof Et||typeof e[0]=="number"||"x"in e)o=d=te(e);else if(e=Fe(e),o=e.min,d=e.max,!o||!d)return this;return!this.min&&!this.max?(this.min=o.clone(),this.max=d.clone()):(this.min.x=Math.min(o.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(o.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(e){return te((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return te(this.min.x,this.max.y)},getTopRight:function(){return te(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var o,d;return typeof e[0]=="number"||e instanceof Et?e=te(e):e=Fe(e),e instanceof we?(o=e.min,d=e.max):o=d=e,o.x>=this.min.x&&d.x<=this.max.x&&o.y>=this.min.y&&d.y<=this.max.y},intersects:function(e){e=Fe(e);var o=this.min,d=this.max,g=e.min,x=e.max,P=x.x>=o.x&&g.x<=d.x,U=x.y>=o.y&&g.y<=d.y;return P&&U},overlaps:function(e){e=Fe(e);var o=this.min,d=this.max,g=e.min,x=e.max,P=x.x>o.x&&g.x<d.x,U=x.y>o.y&&g.y<d.y;return P&&U},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var o=this.min,d=this.max,g=Math.abs(o.x-d.x)*e,x=Math.abs(o.y-d.y)*e;return Fe(te(o.x-g,o.y-x),te(d.x+g,d.y+x))},equals:function(e){return e?(e=Fe(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Fe(e,o){return!e||e instanceof we?e:new we(e,o)}function Qe(e,o){if(e)for(var d=o?[e,o]:e,g=0,x=d.length;g<x;g++)this.extend(d[g])}Qe.prototype={extend:function(e){var o=this._southWest,d=this._northEast,g,x;if(e instanceof Me)g=e,x=e;else if(e instanceof Qe){if(g=e._southWest,x=e._northEast,!g||!x)return this}else return e?this.extend(he(e)||ze(e)):this;return!o&&!d?(this._southWest=new Me(g.lat,g.lng),this._northEast=new Me(x.lat,x.lng)):(o.lat=Math.min(g.lat,o.lat),o.lng=Math.min(g.lng,o.lng),d.lat=Math.max(x.lat,d.lat),d.lng=Math.max(x.lng,d.lng)),this},pad:function(e){var o=this._southWest,d=this._northEast,g=Math.abs(o.lat-d.lat)*e,x=Math.abs(o.lng-d.lng)*e;return new Qe(new Me(o.lat-g,o.lng-x),new Me(d.lat+g,d.lng+x))},getCenter:function(){return new Me((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Me(this.getNorth(),this.getWest())},getSouthEast:function(){return new Me(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof Me||"lat"in e?e=he(e):e=ze(e);var o=this._southWest,d=this._northEast,g,x;return e instanceof Qe?(g=e.getSouthWest(),x=e.getNorthEast()):g=x=e,g.lat>=o.lat&&x.lat<=d.lat&&g.lng>=o.lng&&x.lng<=d.lng},intersects:function(e){e=ze(e);var o=this._southWest,d=this._northEast,g=e.getSouthWest(),x=e.getNorthEast(),P=x.lat>=o.lat&&g.lat<=d.lat,U=x.lng>=o.lng&&g.lng<=d.lng;return P&&U},overlaps:function(e){e=ze(e);var o=this._southWest,d=this._northEast,g=e.getSouthWest(),x=e.getNorthEast(),P=x.lat>o.lat&&g.lat<d.lat,U=x.lng>o.lng&&g.lng<d.lng;return P&&U},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,o){return e?(e=ze(e),this._southWest.equals(e.getSouthWest(),o)&&this._northEast.equals(e.getNorthEast(),o)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ze(e,o){return e instanceof Qe?e:new Qe(e,o)}function Me(e,o,d){if(isNaN(e)||isNaN(o))throw new Error("Invalid LatLng object: ("+e+", "+o+")");this.lat=+e,this.lng=+o,d!==void 0&&(this.alt=+d)}Me.prototype={equals:function(e,o){if(!e)return!1;e=he(e);var d=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return d<=(o===void 0?1e-9:o)},toString:function(e){return"LatLng("+T(this.lat,e)+", "+T(this.lng,e)+")"},distanceTo:function(e){return zt.distance(this,he(e))},wrap:function(){return zt.wrapLatLng(this)},toBounds:function(e){var o=180*e/40075017,d=o/Math.cos(Math.PI/180*this.lat);return ze([this.lat-o,this.lng-d],[this.lat+o,this.lng+d])},clone:function(){return new Me(this.lat,this.lng,this.alt)}};function he(e,o,d){return e instanceof Me?e:j(e)&&typeof e[0]!="object"?e.length===3?new Me(e[0],e[1],e[2]):e.length===2?new Me(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new Me(e.lat,"lng"in e?e.lng:e.lon,e.alt):o===void 0?null:new Me(e,o,d)}var mt={latLngToPoint:function(e,o){var d=this.projection.project(e),g=this.scale(o);return this.transformation._transform(d,g)},pointToLatLng:function(e,o){var d=this.scale(o),g=this.transformation.untransform(e,d);return this.projection.unproject(g)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var o=this.projection.bounds,d=this.scale(e),g=this.transformation.transform(o.min,d),x=this.transformation.transform(o.max,d);return new we(g,x)},infinite:!1,wrapLatLng:function(e){var o=this.wrapLng?w(e.lng,this.wrapLng,!0):e.lng,d=this.wrapLat?w(e.lat,this.wrapLat,!0):e.lat,g=e.alt;return new Me(d,o,g)},wrapLatLngBounds:function(e){var o=e.getCenter(),d=this.wrapLatLng(o),g=o.lat-d.lat,x=o.lng-d.lng;if(g===0&&x===0)return e;var P=e.getSouthWest(),U=e.getNorthEast(),rt=new Me(P.lat-g,P.lng-x),dt=new Me(U.lat-g,U.lng-x);return new Qe(rt,dt)}},zt=p({},mt,{wrapLng:[-180,180],R:6371e3,distance:function(e,o){var d=Math.PI/180,g=e.lat*d,x=o.lat*d,P=Math.sin((o.lat-e.lat)*d/2),U=Math.sin((o.lng-e.lng)*d/2),rt=P*P+Math.cos(g)*Math.cos(x)*U*U,dt=2*Math.atan2(Math.sqrt(rt),Math.sqrt(1-rt));return this.R*dt}}),Ft=6378137,Kt={R:Ft,MAX_LATITUDE:85.0511287798,project:function(e){var o=Math.PI/180,d=this.MAX_LATITUDE,g=Math.max(Math.min(d,e.lat),-d),x=Math.sin(g*o);return new Et(this.R*e.lng*o,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(e){var o=180/Math.PI;return new Me((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*o,e.x*o/this.R)},bounds:function(){var e=Ft*Math.PI;return new we([-e,-e],[e,e])}()};function ke(e,o,d,g){if(j(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=o,this._c=d,this._d=g}ke.prototype={transform:function(e,o){return this._transform(e.clone(),o)},_transform:function(e,o){return o=o||1,e.x=o*(this._a*e.x+this._b),e.y=o*(this._c*e.y+this._d),e},untransform:function(e,o){return o=o||1,new Et((e.x/o-this._b)/this._a,(e.y/o-this._d)/this._c)}};function Ie(e,o,d,g){return new ke(e,o,d,g)}var z=p({},zt,{code:"EPSG:3857",projection:Kt,transformation:function(){var e=.5/(Math.PI*Kt.R);return Ie(e,.5,-e,.5)}()}),H=p({},z,{code:"EPSG:900913"});function ut(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function kt(e,o){var d="",g,x,P,U,rt,dt;for(g=0,P=e.length;g<P;g++){for(rt=e[g],x=0,U=rt.length;x<U;x++)dt=rt[x],d+=(x?"L":"M")+dt.x+" "+dt.y;d+=o?ne.svg?"z":"x":""}return d||"M0 0"}var gt=document.documentElement.style,Bt="ActiveXObject"in window,Nt=Bt&&!document.addEventListener,Ot="msLaunchUri"in navigator&&!("documentMode"in document),Dt=Wn("webkit"),Pt=Wn("android"),Ut=Wn("android 2")||Wn("android 3"),ee=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Xt=Pt&&Wn("Google")&&ee<537&&!("AudioNode"in window),de=!!window.opera,ve=!Ot&&Wn("chrome"),Ne=Wn("gecko")&&!Dt&&!de&&!Bt,Ee=!ve&&Wn("safari"),Je=Wn("phantom"),Mn="OTransition"in gt,An=navigator.platform.indexOf("Win")===0,Mr=Bt&&"transition"in gt,ei="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ut,fi="MozPerspective"in gt,yn=!window.L_DISABLE_3D&&(Mr||ei||fi)&&!Mn&&!Je,un=typeof orientation<"u"||Wn("mobile"),ro=un&&Dt,Kl=un&&ei,Yo=!window.PointerEvent&&window.MSPointerEvent,ua=!!(window.PointerEvent||Yo),ca="ontouchstart"in window||!!window.TouchEvent,Wl=!window.L_NO_TOUCH&&(ca||ua),Jl=un&&de,ha=un&&Ne,da=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Yl=function(){var e=!1;try{var o=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",k,o),window.removeEventListener("testPassiveEventSupport",k,o)}catch{}return e}(),Xl=function(){return!!document.createElement("canvas").getContext}(),Xo=!!(document.createElementNS&&ut("svg").createSVGRect),pa=!!Xo&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ql=!Xo&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var o=e.firstChild;return o.style.behavior="url(#default#VML)",o&&typeof o.adj=="object"}catch{return!1}}(),tu=navigator.platform.indexOf("Mac")===0,eu=navigator.platform.indexOf("Linux")===0;function Wn(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var ne={ie:Bt,ielt9:Nt,edge:Ot,webkit:Dt,android:Pt,android23:Ut,androidStock:Xt,opera:de,chrome:ve,gecko:Ne,safari:Ee,phantom:Je,opera12:Mn,win:An,ie3d:Mr,webkit3d:ei,gecko3d:fi,any3d:yn,mobile:un,mobileWebkit:ro,mobileWebkit3d:Kl,msPointer:Yo,pointer:ua,touch:Wl,touchNative:ca,mobileOpera:Jl,mobileGecko:ha,retina:da,passiveEvents:Yl,canvas:Xl,svg:Xo,vml:Ql,inlineSvg:pa,mac:tu,linux:eu},fa=ne.msPointer?"MSPointerDown":"pointerdown",_a=ne.msPointer?"MSPointerMove":"pointermove",Qo=ne.msPointer?"MSPointerUp":"pointerup",ma=ne.msPointer?"MSPointerCancel":"pointercancel",ts={touchstart:fa,touchmove:_a,touchend:Qo,touchcancel:ma},ga={touchstart:su,touchmove:so,touchend:so,touchcancel:so},Ji={},ya=!1;function nu(e,o,d){return o==="touchstart"&&es(),ga[o]?(d=ga[o].bind(this,d),e.addEventListener(ts[o],d,!1),d):(console.warn("wrong event specified:",o),k)}function iu(e,o,d){if(!ts[o]){console.warn("wrong event specified:",o);return}e.removeEventListener(ts[o],d,!1)}function ru(e){Ji[e.pointerId]=e}function ou(e){Ji[e.pointerId]&&(Ji[e.pointerId]=e)}function oo(e){delete Ji[e.pointerId]}function es(){ya||(document.addEventListener(fa,ru,!0),document.addEventListener(_a,ou,!0),document.addEventListener(Qo,oo,!0),document.addEventListener(ma,oo,!0),ya=!0)}function so(e,o){if(o.pointerType!==(o.MSPOINTER_TYPE_MOUSE||"mouse")){o.touches=[];for(var d in Ji)o.touches.push(Ji[d]);o.changedTouches=[o],e(o)}}function su(e,o){o.MSPOINTER_TYPE_TOUCH&&o.pointerType===o.MSPOINTER_TYPE_TOUCH&&pn(o),so(e,o)}function au(e){var o={},d,g;for(g in e)d=e[g],o[g]=d&&d.bind?d.bind(e):d;return e=o,o.type="dblclick",o.detail=2,o.isTrusted=!1,o._simulated=!0,o}var lu=200;function uu(e,o){e.addEventListener("dblclick",o);var d=0,g;function x(P){if(P.detail!==1){g=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var U=Ca(P);if(!(U.some(function(dt){return dt instanceof HTMLLabelElement&&dt.attributes.for})&&!U.some(function(dt){return dt instanceof HTMLInputElement||dt instanceof HTMLSelectElement}))){var rt=Date.now();rt-d<=lu?(g++,g===2&&o(au(P))):g=1,d=rt}}}return e.addEventListener("click",x),{dblclick:o,simDblclick:x}}function cu(e,o){e.removeEventListener("dblclick",o.dblclick),e.removeEventListener("click",o.simDblclick)}var ns=lo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Er=lo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),va=Er==="webkitTransition"||Er==="OTransition"?Er+"End":"transitionend";function ba(e){return typeof e=="string"?document.getElementById(e):e}function wi(e,o){var d=e.style[o]||e.currentStyle&&e.currentStyle[o];if((!d||d==="auto")&&document.defaultView){var g=document.defaultView.getComputedStyle(e,null);d=g?g[o]:null}return d==="auto"?null:d}function Te(e,o,d){var g=document.createElement(e);return g.className=o||"",d&&d.appendChild(g),g}function Ze(e){var o=e.parentNode;o&&o.removeChild(e)}function Br(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Yi(e){var o=e.parentNode;o&&o.lastChild!==e&&o.appendChild(e)}function Di(e){var o=e.parentNode;o&&o.firstChild!==e&&o.insertBefore(e,o.firstChild)}function is(e,o){if(e.classList!==void 0)return e.classList.contains(o);var d=ao(e);return d.length>0&&new RegExp("(^|\\s)"+o+"(\\s|$)").test(d)}function me(e,o){if(e.classList!==void 0)for(var d=G(o),g=0,x=d.length;g<x;g++)e.classList.add(d[g]);else if(!is(e,o)){var P=ao(e);rs(e,(P?P+" ":"")+o)}}function tn(e,o){e.classList!==void 0?e.classList.remove(o):rs(e,I((" "+ao(e)+" ").replace(" "+o+" "," ")))}function rs(e,o){e.className.baseVal===void 0?e.className=o:e.className.baseVal=o}function ao(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function jn(e,o){"opacity"in e.style?e.style.opacity=o:"filter"in e.style&&hu(e,o)}function hu(e,o){var d=!1,g="DXImageTransform.Microsoft.Alpha";try{d=e.filters.item(g)}catch{if(o===1)return}o=Math.round(o*100),d?(d.Enabled=o!==100,d.Opacity=o):e.style.filter+=" progid:"+g+"(opacity="+o+")"}function lo(e){for(var o=document.documentElement.style,d=0;d<e.length;d++)if(e[d]in o)return e[d];return!1}function Ri(e,o,d){var g=o||new Et(0,0);e.style[ns]=(ne.ie3d?"translate("+g.x+"px,"+g.y+"px)":"translate3d("+g.x+"px,"+g.y+"px,0)")+(d?" scale("+d+")":"")}function nn(e,o){e._leaflet_pos=o,ne.any3d?Ri(e,o):(e.style.left=o.x+"px",e.style.top=o.y+"px")}function Ii(e){return e._leaflet_pos||new Et(0,0)}var Pr,Sr,os;if("onselectstart"in document)Pr=function(){_e(window,"selectstart",pn)},Sr=function(){$e(window,"selectstart",pn)};else{var Tr=lo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pr=function(){if(Tr){var e=document.documentElement.style;os=e[Tr],e[Tr]="none"}},Sr=function(){Tr&&(document.documentElement.style[Tr]=os,os=void 0)}}function ss(){_e(window,"dragstart",pn)}function as(){$e(window,"dragstart",pn)}var uo,ls;function us(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(co(),uo=e,ls=e.style.outlineStyle,e.style.outlineStyle="none",_e(window,"keydown",co))}function co(){uo&&(uo.style.outlineStyle=ls,uo=void 0,ls=void 0,$e(window,"keydown",co))}function xa(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function cs(e){var o=e.getBoundingClientRect();return{x:o.width/e.offsetWidth||1,y:o.height/e.offsetHeight||1,boundingClientRect:o}}var du={__proto__:null,TRANSFORM:ns,TRANSITION:Er,TRANSITION_END:va,get:ba,getStyle:wi,create:Te,remove:Ze,empty:Br,toFront:Yi,toBack:Di,hasClass:is,addClass:me,removeClass:tn,setClass:rs,getClass:ao,setOpacity:jn,testProp:lo,setTransform:Ri,setPosition:nn,getPosition:Ii,get disableTextSelection(){return Pr},get enableTextSelection(){return Sr},disableImageDrag:ss,enableImageDrag:as,preventOutline:us,restoreOutline:co,getSizedParentNode:xa,getScale:cs};function _e(e,o,d,g){if(o&&typeof o=="object")for(var x in o)Fi(e,x,o[x],d);else{o=G(o);for(var P=0,U=o.length;P<U;P++)Fi(e,o[P],d,g)}return this}var ni="_leaflet_events";function $e(e,o,d,g){if(arguments.length===1)La(e),delete e[ni];else if(o&&typeof o=="object")for(var x in o)ds(e,x,o[x],d);else if(o=G(o),arguments.length===2)La(e,function(rt){return lt(o,rt)!==-1});else for(var P=0,U=o.length;P<U;P++)ds(e,o[P],d,g);return this}function La(e,o){for(var d in e[ni]){var g=d.split(/\d/)[0];(!o||o(g))&&ds(e,g,null,null,d)}}var hs={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Fi(e,o,d,g){var x=o+y(d)+(g?"_"+y(g):"");if(e[ni]&&e[ni][x])return this;var P=function(rt){return d.call(g||e,rt||window.event)},U=P;!ne.touchNative&&ne.pointer&&o.indexOf("touch")===0?P=nu(e,o,P):ne.touch&&o==="dblclick"?P=uu(e,P):"addEventListener"in e?o==="touchstart"||o==="touchmove"||o==="wheel"||o==="mousewheel"?e.addEventListener(hs[o]||o,P,ne.passiveEvents?{passive:!1}:!1):o==="mouseenter"||o==="mouseleave"?(P=function(rt){rt=rt||window.event,Xi(e,rt)&&U(rt)},e.addEventListener(hs[o],P,!1)):e.addEventListener(o,U,!1):e.attachEvent("on"+o,P),e[ni]=e[ni]||{},e[ni][x]=P}function ds(e,o,d,g,x){x=x||o+y(d)+(g?"_"+y(g):"");var P=e[ni]&&e[ni][x];if(!P)return this;!ne.touchNative&&ne.pointer&&o.indexOf("touch")===0?iu(e,o,P):ne.touch&&o==="dblclick"?cu(e,P):"removeEventListener"in e?e.removeEventListener(hs[o]||o,P,!1):e.detachEvent("on"+o,P),e[ni][x]=null}function Ni(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function ps(e){return Fi(e,"wheel",Ni),this}function Ar(e){return _e(e,"mousedown touchstart dblclick contextmenu",Ni),e._leaflet_disable_click=!0,this}function pn(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function ji(e){return pn(e),Ni(e),this}function Ca(e){if(e.composedPath)return e.composedPath();for(var o=[],d=e.target;d;)o.push(d),d=d.parentNode;return o}function wa(e,o){if(!o)return new Et(e.clientX,e.clientY);var d=cs(o),g=d.boundingClientRect;return new Et((e.clientX-g.left)/d.x-o.clientLeft,(e.clientY-g.top)/d.y-o.clientTop)}var pu=ne.linux&&ne.chrome?window.devicePixelRatio:ne.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ka(e){return ne.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/pu:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function Xi(e,o){var d=o.relatedTarget;if(!d)return!0;try{for(;d&&d!==e;)d=d.parentNode}catch{return!1}return d!==e}var fu={__proto__:null,on:_e,off:$e,stopPropagation:Ni,disableScrollPropagation:ps,disableClickPropagation:Ar,preventDefault:pn,stop:ji,getPropagationPath:Ca,getMousePosition:wa,getWheelDelta:ka,isExternalTarget:Xi,addListener:_e,removeListener:$e},Ma=Jt.extend({run:function(e,o,d,g){this.stop(),this._el=e,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(g||.5,.2),this._startPos=Ii(e),this._offset=o.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$t(this._animate,this),this._step()},_step:function(e){var o=+new Date-this._startTime,d=this._duration*1e3;o<d?this._runFrame(this._easeOut(o/d),e):(this._runFrame(1),this._complete())},_runFrame:function(e,o){var d=this._startPos.add(this._offset.multiplyBy(e));o&&d._round(),nn(this._el,d),this.fire("step")},_complete:function(){St(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),Ce=Jt.extend({options:{crs:z,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,o){o=J(this,o),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=h(this._onResize,this),this._initEvents(),o.maxBounds&&this.setMaxBounds(o.maxBounds),o.zoom!==void 0&&(this._zoom=this._limitZoom(o.zoom)),o.center&&o.zoom!==void 0&&this.setView(he(o.center),o.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Er&&ne.any3d&&!ne.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),_e(this._proxy,va,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,o,d){if(o=o===void 0?this._zoom:this._limitZoom(o),e=this._limitCenter(he(e),o,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=p({animate:d.animate},d.zoom),d.pan=p({animate:d.animate,duration:d.duration},d.pan));var g=this._zoom!==o?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,o,d.zoom):this._tryAnimatedPan(e,d.pan);if(g)return clearTimeout(this._sizeTimer),this}return this._resetView(e,o,d.pan&&d.pan.noMoveStart),this},setZoom:function(e,o){return this._loaded?this.setView(this.getCenter(),e,{zoom:o}):(this._zoom=e,this)},zoomIn:function(e,o){return e=e||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,o)},zoomOut:function(e,o){return e=e||(ne.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,o)},setZoomAround:function(e,o,d){var g=this.getZoomScale(o),x=this.getSize().divideBy(2),P=e instanceof Et?e:this.latLngToContainerPoint(e),U=P.subtract(x).multiplyBy(1-1/g),rt=this.containerPointToLatLng(x.add(U));return this.setView(rt,o,{zoom:d})},_getBoundsCenterZoom:function(e,o){o=o||{},e=e.getBounds?e.getBounds():ze(e);var d=te(o.paddingTopLeft||o.padding||[0,0]),g=te(o.paddingBottomRight||o.padding||[0,0]),x=this.getBoundsZoom(e,!1,d.add(g));if(x=typeof o.maxZoom=="number"?Math.min(o.maxZoom,x):x,x===1/0)return{center:e.getCenter(),zoom:x};var P=g.subtract(d).divideBy(2),U=this.project(e.getSouthWest(),x),rt=this.project(e.getNorthEast(),x),dt=this.unproject(U.add(rt).divideBy(2).add(P),x);return{center:dt,zoom:x}},fitBounds:function(e,o){if(e=ze(e),!e.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(e,o);return this.setView(d.center,d.zoom,o)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,o){return this.setView(e,this._zoom,{pan:o})},panBy:function(e,o){if(e=te(e).round(),o=o||{},!e.x&&!e.y)return this.fire("moveend");if(o.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),o.noMoveStart||this.fire("movestart"),o.animate!==!1){me(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,d,o.duration||.25,o.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,o,d){if(d=d||{},d.animate===!1||!ne.any3d)return this.setView(e,o,d);this._stop();var g=this.project(this.getCenter()),x=this.project(e),P=this.getSize(),U=this._zoom;e=he(e),o=o===void 0?U:o;var rt=Math.max(P.x,P.y),dt=rt*this.getZoomScale(U,o),Ct=x.distanceTo(g)||1,Ht=1.42,le=Ht*Ht;function Le(en){var Po=en?-1:1,si=en?dt:rt,Ou=dt*dt-rt*rt+Po*le*le*Ct*Ct,So=2*si*le*Ct,To=Ou/So,$a=Math.sqrt(To*To+1)-To,Ga=$a<1e-9?-18:Math.log($a);return Ga}function wn(en){return(Math.exp(en)-Math.exp(-en))/2}function rn(en){return(Math.exp(en)+Math.exp(-en))/2}function on(en){return wn(en)/rn(en)}var hn=Le(0);function Pi(en){return rt*(rn(hn)/rn(hn+Ht*en))}function Eo(en){return rt*(rn(hn)*on(hn+Ht*en)-wn(hn))/le}function za(en){return 1-Math.pow(1-en,1.5)}var Bo=Date.now(),Va=(Le(1)-hn)/Ht,Au=d.duration?1e3*d.duration:1e3*Va*.8;function Ss(){var en=(Date.now()-Bo)/Au,Po=za(en)*Va;en<=1?(this._flyToFrame=$t(Ss,this),this._move(this.unproject(g.add(x.subtract(g).multiplyBy(Eo(Po)/Ct)),U),this.getScaleZoom(rt/Pi(Po),U),{flyTo:!0})):this._move(e,o)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Ss.call(this),this},flyToBounds:function(e,o){var d=this._getBoundsCenterZoom(e,o);return this.flyTo(d.center,d.zoom,o)},setMaxBounds:function(e){return e=ze(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var o=this.options.minZoom;return this.options.minZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var o=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&o!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,o){this._enforcingBounds=!0;var d=this.getCenter(),g=this._limitCenter(d,this._zoom,ze(e));return d.equals(g)||this.panTo(g,o),this._enforcingBounds=!1,this},panInside:function(e,o){o=o||{};var d=te(o.paddingTopLeft||o.padding||[0,0]),g=te(o.paddingBottomRight||o.padding||[0,0]),x=this.project(this.getCenter()),P=this.project(e),U=this.getPixelBounds(),rt=Fe([U.min.add(d),U.max.subtract(g)]),dt=rt.getSize();if(!rt.contains(P)){this._enforcingBounds=!0;var Ct=P.subtract(rt.getCenter()),Ht=rt.extend(P).getSize().subtract(dt);x.x+=Ct.x<0?-Ht.x:Ht.x,x.y+=Ct.y<0?-Ht.y:Ht.y,this.panTo(this.unproject(x),o),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=p({animate:!1,pan:!0},e===!0?{animate:!0}:e);var o=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),g=o.divideBy(2).round(),x=d.divideBy(2).round(),P=g.subtract(x);return!P.x&&!P.y?this:(e.animate&&e.pan?this.panBy(P):(e.pan&&this._rawPanBy(P),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(h(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:o,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=p({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var o=h(this._handleGeolocationResponse,this),d=h(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(o,d,e):navigator.geolocation.getCurrentPosition(o,d,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var o=e.code,d=e.message||(o===1?"permission denied":o===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:o,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var o=e.coords.latitude,d=e.coords.longitude,g=new Me(o,d),x=g.toBounds(e.coords.accuracy*2),P=this._locateOptions;if(P.setView){var U=this.getBoundsZoom(x);this.setView(g,P.maxZoom?Math.min(U,P.maxZoom):U)}var rt={latlng:g,bounds:x,timestamp:e.timestamp};for(var dt in e.coords)typeof e.coords[dt]=="number"&&(rt[dt]=e.coords[dt]);this.fire("locationfound",rt)}},addHandler:function(e,o){if(!o)return this;var d=this[e]=new o(this);return this._handlers.push(d),this.options[e]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(St(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)Ze(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,o){var d="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),g=Te("div",d,o||this._mapPane);return e&&(this._panes[e]=g),g},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),o=this.unproject(e.getBottomLeft()),d=this.unproject(e.getTopRight());return new Qe(o,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,o,d){e=ze(e),d=te(d||[0,0]);var g=this.getZoom()||0,x=this.getMinZoom(),P=this.getMaxZoom(),U=e.getNorthWest(),rt=e.getSouthEast(),dt=this.getSize().subtract(d),Ct=Fe(this.project(rt,g),this.project(U,g)).getSize(),Ht=ne.any3d?this.options.zoomSnap:1,le=dt.x/Ct.x,Le=dt.y/Ct.y,wn=o?Math.max(le,Le):Math.min(le,Le);return g=this.getScaleZoom(wn,g),Ht&&(g=Math.round(g/(Ht/100))*(Ht/100),g=o?Math.ceil(g/Ht)*Ht:Math.floor(g/Ht)*Ht),Math.max(x,Math.min(P,g))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Et(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,o){var d=this._getTopLeftPoint(e,o);return new we(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,o){var d=this.options.crs;return o=o===void 0?this._zoom:o,d.scale(e)/d.scale(o)},getScaleZoom:function(e,o){var d=this.options.crs;o=o===void 0?this._zoom:o;var g=d.zoom(e*d.scale(o));return isNaN(g)?1/0:g},project:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.latLngToPoint(he(e),o)},unproject:function(e,o){return o=o===void 0?this._zoom:o,this.options.crs.pointToLatLng(te(e),o)},layerPointToLatLng:function(e){var o=te(e).add(this.getPixelOrigin());return this.unproject(o)},latLngToLayerPoint:function(e){var o=this.project(he(e))._round();return o._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(he(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(ze(e))},distance:function(e,o){return this.options.crs.distance(he(e),he(o))},containerPointToLayerPoint:function(e){return te(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return te(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var o=this.containerPointToLayerPoint(te(e));return this.layerPointToLatLng(o)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(he(e)))},mouseEventToContainerPoint:function(e){return wa(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var o=this._container=ba(e);if(o){if(o._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");_e(o,"scroll",this._onScroll,this),this._containerId=y(o)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&ne.any3d,me(e,"leaflet-container"+(ne.touch?" leaflet-touch":"")+(ne.retina?" leaflet-retina":"")+(ne.ielt9?" leaflet-oldie":"")+(ne.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var o=wi(e,"position");o!=="absolute"&&o!=="relative"&&o!=="fixed"&&o!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),nn(this._mapPane,new Et(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(me(e.markerPane,"leaflet-zoom-hide"),me(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,o,d){nn(this._mapPane,new Et(0,0));var g=!this._loaded;this._loaded=!0,o=this._limitZoom(o),this.fire("viewprereset");var x=this._zoom!==o;this._moveStart(x,d)._move(e,o)._moveEnd(x),this.fire("viewreset"),g&&this.fire("load")},_moveStart:function(e,o){return e&&this.fire("zoomstart"),o||this.fire("movestart"),this},_move:function(e,o,d,g){o===void 0&&(o=this._zoom);var x=this._zoom!==o;return this._zoom=o,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),g?d&&d.pinch&&this.fire("zoom",d):((x||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return St(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){nn(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[y(this._container)]=this;var o=e?$e:_e;o(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&o(window,"resize",this._onResize,this),ne.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){St(this._resizeRequest),this._resizeRequest=$t(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,o){for(var d=[],g,x=o==="mouseout"||o==="mouseover",P=e.target||e.srcElement,U=!1;P;){if(g=this._targets[y(P)],g&&(o==="click"||o==="preclick")&&this._draggableMoved(g)){U=!0;break}if(g&&g.listens(o,!0)&&(x&&!Xi(P,e)||(d.push(g),x))||P===this._container)break;P=P.parentNode}return!d.length&&!U&&!x&&this.listens(o,!0)&&(d=[this]),d},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var o=e.target||e.srcElement;if(!(!this._loaded||o._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(o))){var d=e.type;d==="mousedown"&&us(o),this._fireDOMEvent(e,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,o,d){if(e.type==="click"){var g=p({},e);g.type="preclick",this._fireDOMEvent(g,g.type,d)}var x=this._findEventTargets(e,o);if(d){for(var P=[],U=0;U<d.length;U++)d[U].listens(o,!0)&&P.push(d[U]);x=P.concat(x)}if(x.length){o==="contextmenu"&&pn(e);var rt=x[0],dt={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var Ct=rt.getLatLng&&(!rt._radius||rt._radius<=10);dt.containerPoint=Ct?this.latLngToContainerPoint(rt.getLatLng()):this.mouseEventToContainerPoint(e),dt.layerPoint=this.containerPointToLayerPoint(dt.containerPoint),dt.latlng=Ct?rt.getLatLng():this.layerPointToLatLng(dt.layerPoint)}for(U=0;U<x.length;U++)if(x[U].fire(o,dt,!0),dt.originalEvent._stopped||x[U].options.bubblingMouseEvents===!1&&lt(this._mouseEvents,o)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,o=this._handlers.length;e<o;e++)this._handlers[e].disable()},whenReady:function(e,o){return this._loaded?e.call(o||this,{target:this}):this.on("load",e,o),this},_getMapPanePos:function(){return Ii(this._mapPane)||new Et(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,o){var d=e&&o!==void 0?this._getNewPixelOrigin(e,o):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,o){var d=this.getSize()._divideBy(2);return this.project(e,o)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,o,d){var g=this._getNewPixelOrigin(d,o);return this.project(e,o)._subtract(g)},_latLngBoundsToNewLayerBounds:function(e,o,d){var g=this._getNewPixelOrigin(d,o);return Fe([this.project(e.getSouthWest(),o)._subtract(g),this.project(e.getNorthWest(),o)._subtract(g),this.project(e.getSouthEast(),o)._subtract(g),this.project(e.getNorthEast(),o)._subtract(g)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,o,d){if(!d)return e;var g=this.project(e,o),x=this.getSize().divideBy(2),P=new we(g.subtract(x),g.add(x)),U=this._getBoundsOffset(P,d,o);return Math.abs(U.x)<=1&&Math.abs(U.y)<=1?e:this.unproject(g.add(U),o)},_limitOffset:function(e,o){if(!o)return e;var d=this.getPixelBounds(),g=new we(d.min.add(e),d.max.add(e));return e.add(this._getBoundsOffset(g,o))},_getBoundsOffset:function(e,o,d){var g=Fe(this.project(o.getNorthEast(),d),this.project(o.getSouthWest(),d)),x=g.min.subtract(e.min),P=g.max.subtract(e.max),U=this._rebound(x.x,-P.x),rt=this._rebound(x.y,-P.y);return new Et(U,rt)},_rebound:function(e,o){return e+o>0?Math.round(e-o)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(o))},_limitZoom:function(e){var o=this.getMinZoom(),d=this.getMaxZoom(),g=ne.any3d?this.options.zoomSnap:1;return g&&(e=Math.round(e/g)*g),Math.max(o,Math.min(d,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,o){var d=this._getCenterOffset(e)._trunc();return(o&&o.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,o),!0)},_createAnimProxy:function(){var e=this._proxy=Te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(o){var d=ns,g=this._proxy.style[d];Ri(this._proxy,this.project(o.center,o.zoom),this.getZoomScale(o.zoom,1)),g===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),o=this.getZoom();Ri(this._proxy,this.project(e,o),this.getZoomScale(o,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,o,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(o-this._zoom)>this.options.zoomAnimationThreshold)return!1;var g=this.getZoomScale(o),x=this._getCenterOffset(e)._divideBy(1-1/g);return d.animate!==!0&&!this.getSize().contains(x)?!1:($t(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(e,o,!0)},this),!0)},_animateZoom:function(e,o,d,g){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=o,me(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:o,noUpdate:g}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(h(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Be(e,o){return new Ce(e,o)}var On=xe.extend({options:{position:"topright"},initialize:function(e){J(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var o=this._map;return o&&o.removeControl(this),this.options.position=e,o&&o.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var o=this._container=this.onAdd(e),d=this.getPosition(),g=e._controlCorners[d];return me(o,"leaflet-control"),d.indexOf("bottom")!==-1?g.insertBefore(o,g.firstChild):g.appendChild(o),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),ki=function(e){return new On(e)};Ce.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},o="leaflet-",d=this._controlContainer=Te("div",o+"control-container",this._container);function g(x,P){var U=o+x+" "+o+P;e[x+P]=Te("div",U,d)}g("top","left"),g("top","right"),g("bottom","left"),g("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)Ze(this._controlCorners[e]);Ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ea=On.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,o,d,g){return d<g?-1:g<d?1:0}},initialize:function(e,o,d){J(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var g in e)this._addLayer(e[g],g);for(g in o)this._addLayer(o[g],g,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var o=0;o<this._layers.length;o++)this._layers[o].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return On.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,o){return this._addLayer(e,o),this._map?this._update():this},addOverlay:function(e,o){return this._addLayer(e,o,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var o=this._getLayer(y(e));return o&&this._layers.splice(this._layers.indexOf(o),1),this._map?this._update():this},expand:function(){me(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(me(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):tn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",o=this._container=Te("div",e),d=this.options.collapsed;o.setAttribute("aria-haspopup",!0),Ar(o),ps(o);var g=this._section=Te("section",e+"-list");d&&(this._map.on("click",this.collapse,this),_e(o,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=Te("a",e+"-toggle",o);x.href="#",x.title="Layers",x.setAttribute("role","button"),_e(x,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){pn(P),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Te("div",e+"-base",g),this._separator=Te("div",e+"-separator",g),this._overlaysList=Te("div",e+"-overlays",g),o.appendChild(g)},_getLayer:function(e){for(var o=0;o<this._layers.length;o++)if(this._layers[o]&&y(this._layers[o].layer)===e)return this._layers[o]},_addLayer:function(e,o,d){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:o,overlay:d}),this.options.sortLayers&&this._layers.sort(h(function(g,x){return this.options.sortFunction(g.layer,x.layer,g.name,x.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Br(this._baseLayersList),Br(this._overlaysList),this._layerControlInputs=[];var e,o,d,g,x=0;for(d=0;d<this._layers.length;d++)g=this._layers[d],this._addItem(g),o=o||g.overlay,e=e||!g.overlay,x+=g.overlay?0:1;return this.options.hideSingleBase&&(e=e&&x>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=o&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var o=this._getLayer(y(e.target)),d=o.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;d&&this._map.fire(d,o)},_createRadioElement:function(e,o){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(o?' checked="checked"':"")+"/>",g=document.createElement("div");return g.innerHTML=d,g.firstChild},_addItem:function(e){var o=document.createElement("label"),d=this._map.hasLayer(e.layer),g;e.overlay?(g=document.createElement("input"),g.type="checkbox",g.className="leaflet-control-layers-selector",g.defaultChecked=d):g=this._createRadioElement("leaflet-base-layers_"+y(this),d),this._layerControlInputs.push(g),g.layerId=y(e.layer),_e(g,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+e.name;var P=document.createElement("span");o.appendChild(P),P.appendChild(g),P.appendChild(x);var U=e.overlay?this._overlaysList:this._baseLayersList;return U.appendChild(o),this._checkDisabledLayers(),o},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,o,d,g=[],x=[];this._handlingClick=!0;for(var P=e.length-1;P>=0;P--)o=e[P],d=this._getLayer(o.layerId).layer,o.checked?g.push(d):o.checked||x.push(d);for(P=0;P<x.length;P++)this._map.hasLayer(x[P])&&this._map.removeLayer(x[P]);for(P=0;P<g.length;P++)this._map.hasLayer(g[P])||this._map.addLayer(g[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,o,d,g=this._map.getZoom(),x=e.length-1;x>=0;x--)o=e[x],d=this._getLayer(o.layerId).layer,o.disabled=d.options.minZoom!==void 0&&g<d.options.minZoom||d.options.maxZoom!==void 0&&g>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,_e(e,"click",pn),this.expand();var o=this;setTimeout(function(){$e(e,"click",pn),o._preventClick=!1})}}),Ba=function(e,o,d){return new Ea(e,o,d)},fs=On.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var o="leaflet-control-zoom",d=Te("div",o+" leaflet-bar"),g=this.options;return this._zoomInButton=this._createButton(g.zoomInText,g.zoomInTitle,o+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(g.zoomOutText,g.zoomOutTitle,o+"-out",d,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,o,d,g,x){var P=Te("a",d,g);return P.innerHTML=e,P.href="#",P.title=o,P.setAttribute("role","button"),P.setAttribute("aria-label",o),Ar(P),_e(P,"click",ji),_e(P,"click",x,this),_e(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var e=this._map,o="leaflet-disabled";tn(this._zoomInButton,o),tn(this._zoomOutButton,o),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(me(this._zoomOutButton,o),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(me(this._zoomInButton,o),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ce.mergeOptions({zoomControl:!0}),Ce.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new fs,this.addControl(this.zoomControl))});var _s=function(e){return new fs(e)},Or=On.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var o="leaflet-control-scale",d=Te("div",o),g=this.options;return this._addScales(g,o+"-line",d),e.on(g.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),d},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,o,d){e.metric&&(this._mScale=Te("div",o,d)),e.imperial&&(this._iScale=Te("div",o,d))},_update:function(){var e=this._map,o=e.getSize().y/2,d=e.distance(e.containerPointToLatLng([0,o]),e.containerPointToLatLng([this.options.maxWidth,o]));this._updateScales(d)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var o=this._getRoundNum(e),d=o<1e3?o+" m":o/1e3+" km";this._updateScale(this._mScale,d,o/e)},_updateImperial:function(e){var o=e*3.2808399,d,g,x;o>5280?(d=o/5280,g=this._getRoundNum(d),this._updateScale(this._iScale,g+" mi",g/d)):(x=this._getRoundNum(o),this._updateScale(this._iScale,x+" ft",x/o))},_updateScale:function(e,o,d){e.style.width=Math.round(this.options.maxWidth*d)+"px",e.innerHTML=o},_getRoundNum:function(e){var o=Math.pow(10,(Math.floor(e)+"").length-1),d=e/o;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,o*d}}),_u=function(e){return new Or(e)},Mi='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ho=On.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ne.inlineSvg?Mi+" ":"")+"Leaflet</a>"},initialize:function(e){J(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=Te("div","leaflet-control-attribution"),Ar(this._container);for(var o in e._layers)e._layers[o].getAttribution&&this.addAttribution(e._layers[o].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var o in this._attributions)this._attributions[o]&&e.push(o);var d=[];this.options.prefix&&d.push(this.options.prefix),e.length&&d.push(e.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ce.mergeOptions({attributionControl:!0}),Ce.addInitHook(function(){this.options.attributionControl&&new ho().addTo(this)});var Qi=function(e){return new ho(e)};On.Layers=Ea,On.Zoom=fs,On.Scale=Or,On.Attribution=ho,ki.layers=Ba,ki.zoom=_s,ki.scale=_u,ki.attribution=Qi;var ii=xe.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ii.addTo=function(e,o){return e.addHandler(o,this),this};var mu={Events:jt},Pa=ne.touch?"touchstart mousedown":"mousedown",Ei=Jt.extend({options:{clickTolerance:3},initialize:function(e,o,d,g){J(this,g),this._element=e,this._dragStartTarget=o||e,this._preventOutline=d},enable:function(){this._enabled||(_e(this._dragStartTarget,Pa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ei._dragging===this&&this.finishDrag(!0),$e(this._dragStartTarget,Pa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!is(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){Ei._dragging===this&&this.finishDrag();return}if(!(Ei._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(Ei._dragging=this,this._preventOutline&&us(this._element),ss(),Pr(),!this._moving)){this.fire("down");var o=e.touches?e.touches[0]:e,d=xa(this._element);this._startPoint=new Et(o.clientX,o.clientY),this._startPos=Ii(this._element),this._parentScale=cs(d);var g=e.type==="mousedown";_e(document,g?"mousemove":"touchmove",this._onMove,this),_e(document,g?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var o=e.touches&&e.touches.length===1?e.touches[0]:e,d=new Et(o.clientX,o.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,pn(e),this._moved||(this.fire("dragstart"),this._moved=!0,me(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),me(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),nn(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){tn(document.body,"leaflet-dragging"),this._lastTarget&&(tn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),$e(document,"mousemove touchmove",this._onMove,this),$e(document,"mouseup touchend touchcancel",this._onUp,this),as(),Sr();var o=this._moved&&this._moving;this._moving=!1,Ei._dragging=!1,o&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Sa(e,o,d){var g,x=[1,4,2,8],P,U,rt,dt,Ct,Ht,le,Le;for(P=0,Ht=e.length;P<Ht;P++)e[P]._code=Vi(e[P],o);for(rt=0;rt<4;rt++){for(le=x[rt],g=[],P=0,Ht=e.length,U=Ht-1;P<Ht;U=P++)dt=e[P],Ct=e[U],dt._code&le?Ct._code&le||(Le=Jn(Ct,dt,le,o,d),Le._code=Vi(Le,o),g.push(Le)):(Ct._code&le&&(Le=Jn(Ct,dt,le,o,d),Le._code=Vi(Le,o),g.push(Le)),g.push(dt));e=g}return e}function Ta(e,o){var d,g,x,P,U,rt,dt,Ct,Ht;if(!e||e.length===0)throw new Error("latlngs not passed");Ye(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var le=he([0,0]),Le=ze(e),wn=Le.getNorthWest().distanceTo(Le.getSouthWest())*Le.getNorthEast().distanceTo(Le.getNorthWest());wn<1700&&(le=ms(e));var rn=e.length,on=[];for(d=0;d<rn;d++){var hn=he(e[d]);on.push(o.project(he([hn.lat-le.lat,hn.lng-le.lng])))}for(rt=dt=Ct=0,d=0,g=rn-1;d<rn;g=d++)x=on[d],P=on[g],U=x.y*P.x-P.y*x.x,dt+=(x.x+P.x)*U,Ct+=(x.y+P.y)*U,rt+=U*3;rt===0?Ht=on[0]:Ht=[dt/rt,Ct/rt];var Pi=o.unproject(te(Ht));return he([Pi.lat+le.lat,Pi.lng+le.lng])}function ms(e){for(var o=0,d=0,g=0,x=0;x<e.length;x++){var P=he(e[x]);o+=P.lat,d+=P.lng,g++}return he([o/g,d/g])}var gu={__proto__:null,clipPolygon:Sa,polygonCenter:Ta,centroid:ms};function gs(e,o){if(!o||!e.length)return e.slice();var d=o*o;return e=tr(e,d),e=En(e,d),e}function Aa(e,o,d){return Math.sqrt($i(e,o,d,!0))}function fn(e,o,d){return $i(e,o,d)}function En(e,o){var d=e.length,g=typeof Uint8Array<"u"?Uint8Array:Array,x=new g(d);x[0]=x[d-1]=1,po(e,x,o,0,d-1);var P,U=[];for(P=0;P<d;P++)x[P]&&U.push(e[P]);return U}function po(e,o,d,g,x){var P=0,U,rt,dt;for(rt=g+1;rt<=x-1;rt++)dt=$i(e[rt],e[g],e[x],!0),dt>P&&(U=rt,P=dt);P>d&&(o[U]=1,po(e,o,d,g,U),po(e,o,d,U,x))}function tr(e,o){for(var d=[e[0]],g=1,x=0,P=e.length;g<P;g++)yu(e[g],e[x])>o&&(d.push(e[g]),x=g);return x<P-1&&d.push(e[P-1]),d}var zi;function er(e,o,d,g,x){var P=g?zi:Vi(e,d),U=Vi(o,d),rt,dt,Ct;for(zi=U;;){if(!(P|U))return[e,o];if(P&U)return!1;rt=P||U,dt=Jn(e,o,rt,d,x),Ct=Vi(dt,d),rt===P?(e=dt,P=Ct):(o=dt,U=Ct)}}function Jn(e,o,d,g,x){var P=o.x-e.x,U=o.y-e.y,rt=g.min,dt=g.max,Ct,Ht;return d&8?(Ct=e.x+P*(dt.y-e.y)/U,Ht=dt.y):d&4?(Ct=e.x+P*(rt.y-e.y)/U,Ht=rt.y):d&2?(Ct=dt.x,Ht=e.y+U*(dt.x-e.x)/P):d&1&&(Ct=rt.x,Ht=e.y+U*(rt.x-e.x)/P),new Et(Ct,Ht,x)}function Vi(e,o){var d=0;return e.x<o.min.x?d|=1:e.x>o.max.x&&(d|=2),e.y<o.min.y?d|=4:e.y>o.max.y&&(d|=8),d}function yu(e,o){var d=o.x-e.x,g=o.y-e.y;return d*d+g*g}function $i(e,o,d,g){var x=o.x,P=o.y,U=d.x-x,rt=d.y-P,dt=U*U+rt*rt,Ct;return dt>0&&(Ct=((e.x-x)*U+(e.y-P)*rt)/dt,Ct>1?(x=d.x,P=d.y):Ct>0&&(x+=U*Ct,P+=rt*Ct)),U=e.x-x,rt=e.y-P,g?U*U+rt*rt:new Et(x,P)}function Ye(e){return!j(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function ys(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ye(e)}function Dr(e,o){var d,g,x,P,U,rt,dt,Ct;if(!e||e.length===0)throw new Error("latlngs not passed");Ye(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var Ht=he([0,0]),le=ze(e),Le=le.getNorthWest().distanceTo(le.getSouthWest())*le.getNorthEast().distanceTo(le.getNorthWest());Le<1700&&(Ht=ms(e));var wn=e.length,rn=[];for(d=0;d<wn;d++){var on=he(e[d]);rn.push(o.project(he([on.lat-Ht.lat,on.lng-Ht.lng])))}for(d=0,g=0;d<wn-1;d++)g+=rn[d].distanceTo(rn[d+1])/2;if(g===0)Ct=rn[0];else for(d=0,P=0;d<wn-1;d++)if(U=rn[d],rt=rn[d+1],x=U.distanceTo(rt),P+=x,P>g){dt=(P-g)/x,Ct=[rt.x-dt*(rt.x-U.x),rt.y-dt*(rt.y-U.y)];break}var hn=o.unproject(te(Ct));return he([hn.lat+Ht.lat,hn.lng+Ht.lng])}var vu={__proto__:null,simplify:gs,pointToSegmentDistance:Aa,closestPointOnSegment:fn,clipSegment:er,_getEdgeIntersection:Jn,_getBitCode:Vi,_sqClosestPointOnSegment:$i,isFlat:Ye,_flat:ys,polylineCenter:Dr},zn={project:function(e){return new Et(e.lng,e.lat)},unproject:function(e){return new Me(e.y,e.x)},bounds:new we([-180,-90],[180,90])},Vn={R:6378137,R_MINOR:6356752314245179e-9,bounds:new we([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var o=Math.PI/180,d=this.R,g=e.lat*o,x=this.R_MINOR/d,P=Math.sqrt(1-x*x),U=P*Math.sin(g),rt=Math.tan(Math.PI/4-g/2)/Math.pow((1-U)/(1+U),P/2);return g=-d*Math.log(Math.max(rt,1e-10)),new Et(e.lng*o*d,g)},unproject:function(e){for(var o=180/Math.PI,d=this.R,g=this.R_MINOR/d,x=Math.sqrt(1-g*g),P=Math.exp(-e.y/d),U=Math.PI/2-2*Math.atan(P),rt=0,dt=.1,Ct;rt<15&&Math.abs(dt)>1e-7;rt++)Ct=x*Math.sin(U),Ct=Math.pow((1-Ct)/(1+Ct),x/2),dt=Math.PI/2-2*Math.atan(P*Ct)-U,U+=dt;return new Me(U*o,e.x*o/d)}},fo={__proto__:null,LonLat:zn,Mercator:Vn,SphericalMercator:Kt},Oa=p({},zt,{code:"EPSG:3395",projection:Vn,transformation:function(){var e=.5/(Math.PI*Vn.R);return Ie(e,.5,-e,.5)}()}),_o=p({},zt,{code:"EPSG:4326",projection:zn,transformation:Ie(1/180,1,-1/180,.5)}),Rr=p({},mt,{projection:zn,transformation:Ie(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,o){var d=o.lng-e.lng,g=o.lat-e.lat;return Math.sqrt(d*d+g*g)},infinite:!0});mt.Earth=zt,mt.EPSG3395=Oa,mt.EPSG3857=z,mt.EPSG900913=H,mt.EPSG4326=_o,mt.Simple=Rr;var Yn=Jt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[y(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[y(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var o=e.target;if(o.hasLayer(this)){if(this._map=o,this._zoomAnimated=o._zoomAnimated,this.getEvents){var d=this.getEvents();o.on(d,this),this.once("remove",function(){o.off(d,this)},this)}this.onAdd(o),this.fire("add"),o.fire("layeradd",{layer:this})}}});Ce.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var o=y(e);return this._layers[o]?this:(this._layers[o]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var o=y(e);return this._layers[o]?(this._loaded&&e.onRemove(this),delete this._layers[o],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return y(e)in this._layers},eachLayer:function(e,o){for(var d in this._layers)e.call(o,this._layers[d]);return this},_addLayers:function(e){e=e?j(e)?e:[e]:[];for(var o=0,d=e.length;o<d;o++)this.addLayer(e[o])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[y(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var o=y(e);this._zoomBoundLayers[o]&&(delete this._zoomBoundLayers[o],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,o=-1/0,d=this._getZoomSpan();for(var g in this._zoomBoundLayers){var x=this._zoomBoundLayers[g].options;e=x.minZoom===void 0?e:Math.min(e,x.minZoom),o=x.maxZoom===void 0?o:Math.max(o,x.maxZoom)}this._layersMaxZoom=o===-1/0?void 0:o,this._layersMinZoom=e===1/0?void 0:e,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var nr=Yn.extend({initialize:function(e,o){J(this,o),this._layers={};var d,g;if(e)for(d=0,g=e.length;d<g;d++)this.addLayer(e[d])},addLayer:function(e){var o=this.getLayerId(e);return this._layers[o]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var o=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[o]&&this._map.removeLayer(this._layers[o]),delete this._layers[o],this},hasLayer:function(e){var o=typeof e=="number"?e:this.getLayerId(e);return o in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var o=Array.prototype.slice.call(arguments,1),d,g;for(d in this._layers)g=this._layers[d],g[e]&&g[e].apply(g,o);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,o){for(var d in this._layers)e.call(o,this._layers[d]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return y(e)}}),vs=function(e,o){return new nr(e,o)},_i=nr.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),nr.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),nr.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Qe;for(var o in this._layers){var d=this._layers[o];e.extend(d.getBounds?d.getBounds():d.getLatLng())}return e}}),bu=function(e,o){return new _i(e,o)},ir=xe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){J(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,o){var d=this._getIconUrl(e);if(!d){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var g=this._createImg(d,o&&o.tagName==="IMG"?o:null);return this._setIconStyles(g,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(g.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),g},_setIconStyles:function(e,o){var d=this.options,g=d[o+"Size"];typeof g=="number"&&(g=[g,g]);var x=te(g),P=te(o==="shadow"&&d.shadowAnchor||d.iconAnchor||x&&x.divideBy(2,!0));e.className="leaflet-marker-"+o+" "+(d.className||""),P&&(e.style.marginLeft=-P.x+"px",e.style.marginTop=-P.y+"px"),x&&(e.style.width=x.x+"px",e.style.height=x.y+"px")},_createImg:function(e,o){return o=o||document.createElement("img"),o.src=e,o},_getIconUrl:function(e){return ne.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function xu(e){return new ir(e)}var Gi=ir.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Gi.imagePath!="string"&&(Gi.imagePath=this._detectIconPath()),(this.options.imagePath||Gi.imagePath)+ir.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var o=function(d,g,x){var P=g.exec(d);return P&&P[x]};return e=o(e,/^url\((['"])?(.+)\1\)$/,2),e&&o(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=Te("div","leaflet-default-icon-path",document.body),o=wi(e,"background-image")||wi(e,"backgroundImage");if(document.body.removeChild(e),o=this._stripUrl(o),o)return o;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),Da=ii.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new Ei(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),me(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var o=this._marker,d=o._map,g=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,P=Ii(o._icon),U=d.getPixelBounds(),rt=d.getPixelOrigin(),dt=Fe(U.min._subtract(rt).add(x),U.max._subtract(rt).subtract(x));if(!dt.contains(P)){var Ct=te((Math.max(dt.max.x,P.x)-dt.max.x)/(U.max.x-dt.max.x)-(Math.min(dt.min.x,P.x)-dt.min.x)/(U.min.x-dt.min.x),(Math.max(dt.max.y,P.y)-dt.max.y)/(U.max.y-dt.max.y)-(Math.min(dt.min.y,P.y)-dt.min.y)/(U.min.y-dt.min.y)).multiplyBy(g);d.panBy(Ct,{animate:!1}),this._draggable._newPos._add(Ct),this._draggable._startPos._add(Ct),nn(o._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=$t(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(St(this._panRequest),this._panRequest=$t(this._adjustPan.bind(this,e)))},_onDrag:function(e){var o=this._marker,d=o._shadow,g=Ii(o._icon),x=o._map.layerPointToLatLng(g);d&&nn(d,g),o._latlng=x,e.latlng=x,e.oldLatLng=this._oldLatLng,o.fire("move",e).fire("drag",e)},_onDragEnd:function(e){St(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),mo=Yn.extend({options:{icon:new Gi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,o){J(this,o),this._latlng=he(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var o=this._latlng;return this._latlng=he(e),this.update(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,o="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=e.icon.createIcon(this._icon),g=!1;d!==this._icon&&(this._icon&&this._removeIcon(),g=!0,e.title&&(d.title=e.title),d.tagName==="IMG"&&(d.alt=e.alt||"")),me(d,o),e.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&_e(d,"focus",this._panOnFocus,this);var x=e.icon.createShadow(this._shadow),P=!1;x!==this._shadow&&(this._removeShadow(),P=!0),x&&(me(x,o),x.alt=""),this._shadow=x,e.opacity<1&&this._updateOpacity(),g&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&P&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$e(this._icon,"focus",this._panOnFocus,this),Ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ze(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&nn(this._icon,e),this._shadow&&nn(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(o)},_initInteraction:function(){if(this.options.interactive&&(me(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Da)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Da(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&jn(this._icon,e),this._shadow&&jn(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var o=this.options.icon.options,d=o.iconSize?te(o.iconSize):te(0,0),g=o.iconAnchor?te(o.iconAnchor):te(0,0);e.panInside(this._latlng,{paddingTopLeft:g,paddingBottomRight:d.subtract(g)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ra(e,o){return new mo(e,o)}var Bn=Yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return J(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ir=Bn.extend({options:{fill:!0,radius:10},initialize:function(e,o){J(this,o),this._latlng=he(e),this._radius=this.options.radius},setLatLng:function(e){var o=this._latlng;return this._latlng=he(e),this.redraw(),this.fire("move",{oldLatLng:o,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var o=e&&e.radius||this._radius;return Bn.prototype.setStyle.call(this,e),this.setRadius(o),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,o=this._radiusY||e,d=this._clickTolerance(),g=[e+d,o+d];this._pxBounds=new we(this._point.subtract(g),this._point.add(g))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Lu(e,o){return new Ir(e,o)}var mi=Ir.extend({initialize:function(e,o,d){if(typeof o=="number"&&(o=p({},d,{radius:o})),J(this,o),this._latlng=he(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Qe(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:Bn.prototype.setStyle,_project:function(){var e=this._latlng.lng,o=this._latlng.lat,d=this._map,g=d.options.crs;if(g.distance===zt.distance){var x=Math.PI/180,P=this._mRadius/zt.R/x,U=d.project([o+P,e]),rt=d.project([o-P,e]),dt=U.add(rt).divideBy(2),Ct=d.unproject(dt).lat,Ht=Math.acos((Math.cos(P*x)-Math.sin(o*x)*Math.sin(Ct*x))/(Math.cos(o*x)*Math.cos(Ct*x)))/x;(isNaN(Ht)||Ht===0)&&(Ht=P/Math.cos(Math.PI/180*o)),this._point=dt.subtract(d.getPixelOrigin()),this._radius=isNaN(Ht)?0:dt.x-d.project([Ct,e-Ht]).x,this._radiusY=dt.y-U.y}else{var le=g.unproject(g.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(le).x}this._updateBounds()}});function Cu(e,o,d){return new mi(e,o,d)}var gi=Bn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,o){J(this,o),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var o=1/0,d=null,g=$i,x,P,U=0,rt=this._parts.length;U<rt;U++)for(var dt=this._parts[U],Ct=1,Ht=dt.length;Ct<Ht;Ct++){x=dt[Ct-1],P=dt[Ct];var le=g(e,x,P,!0);le<o&&(o=le,d=g(e,x,P))}return d&&(d.distance=Math.sqrt(o)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dr(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,o){return o=o||this._defaultShape(),e=he(e),o.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Qe,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Ye(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var o=[],d=Ye(e),g=0,x=e.length;g<x;g++)d?(o[g]=he(e[g]),this._bounds.extend(o[g])):o[g]=this._convertLatLngs(e[g]);return o},_project:function(){var e=new we;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),o=new Et(e,e);this._rawPxBounds&&(this._pxBounds=new we([this._rawPxBounds.min.subtract(o),this._rawPxBounds.max.add(o)]))},_projectLatlngs:function(e,o,d){var g=e[0]instanceof Me,x=e.length,P,U;if(g){for(U=[],P=0;P<x;P++)U[P]=this._map.latLngToLayerPoint(e[P]),d.extend(U[P]);o.push(U)}else for(P=0;P<x;P++)this._projectLatlngs(e[P],o,d)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var o=this._parts,d,g,x,P,U,rt,dt;for(d=0,x=0,P=this._rings.length;d<P;d++)for(dt=this._rings[d],g=0,U=dt.length;g<U-1;g++)rt=er(dt[g],dt[g+1],e,g,!0),rt&&(o[x]=o[x]||[],o[x].push(rt[0]),(rt[1]!==dt[g+1]||g===U-2)&&(o[x].push(rt[1]),x++))}},_simplifyPoints:function(){for(var e=this._parts,o=this.options.smoothFactor,d=0,g=e.length;d<g;d++)e[d]=gs(e[d],o)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,o){var d,g,x,P,U,rt,dt=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(d=0,P=this._parts.length;d<P;d++)for(rt=this._parts[d],g=0,U=rt.length,x=U-1;g<U;x=g++)if(!(!o&&g===0)&&Aa(e,rt[x],rt[g])<=dt)return!0;return!1}});function bs(e,o){return new gi(e,o)}gi._flat=ys;var ri=gi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ta(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var o=gi.prototype._convertLatLngs.call(this,e),d=o.length;return d>=2&&o[0]instanceof Me&&o[0].equals(o[d-1])&&o.pop(),o},_setLatLngs:function(e){gi.prototype._setLatLngs.call(this,e),Ye(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ye(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,o=this.options.weight,d=new Et(o,o);if(e=new we(e.min.subtract(d),e.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var g=0,x=this._rings.length,P;g<x;g++)P=Sa(this._rings[g],e,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var o=!1,d,g,x,P,U,rt,dt,Ct;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(P=0,dt=this._parts.length;P<dt;P++)for(d=this._parts[P],U=0,Ct=d.length,rt=Ct-1;U<Ct;rt=U++)g=d[U],x=d[rt],g.y>e.y!=x.y>e.y&&e.x<(x.x-g.x)*(e.y-g.y)/(x.y-g.y)+g.x&&(o=!o);return o||gi.prototype._containsPoint.call(this,e,!0)}});function wu(e,o){return new ri(e,o)}var yi=_i.extend({initialize:function(e,o){J(this,o),this._layers={},e&&this.addData(e)},addData:function(e){var o=j(e)?e:e.features,d,g,x;if(o){for(d=0,g=o.length;d<g;d++)x=o[d],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var P=this.options;if(P.filter&&!P.filter(e))return this;var U=go(e,P);return U?(U.feature=Nr(e),U.defaultOptions=U.options,this.resetStyle(U),P.onEachFeature&&P.onEachFeature(e,U),this.addLayer(U)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=p({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(o){this._setLayerStyle(o,e)},this)},_setLayerStyle:function(e,o){e.setStyle&&(typeof o=="function"&&(o=o(e.feature)),e.setStyle(o))}});function go(e,o){var d=e.type==="Feature"?e.geometry:e,g=d?d.coordinates:null,x=[],P=o&&o.pointToLayer,U=o&&o.coordsToLatLng||Ls,rt,dt,Ct,Ht;if(!g&&!d)return null;switch(d.type){case"Point":return rt=U(g),xs(P,e,rt,o);case"MultiPoint":for(Ct=0,Ht=g.length;Ct<Ht;Ct++)rt=U(g[Ct]),x.push(xs(P,e,rt,o));return new _i(x);case"LineString":case"MultiLineString":return dt=Fr(g,d.type==="LineString"?0:1,U),new gi(dt,o);case"Polygon":case"MultiPolygon":return dt=Fr(g,d.type==="Polygon"?1:2,U),new ri(dt,o);case"GeometryCollection":for(Ct=0,Ht=d.geometries.length;Ct<Ht;Ct++){var le=go({geometry:d.geometries[Ct],type:"Feature",properties:e.properties},o);le&&x.push(le)}return new _i(x);case"FeatureCollection":for(Ct=0,Ht=d.features.length;Ct<Ht;Ct++){var Le=go(d.features[Ct],o);Le&&x.push(Le)}return new _i(x);default:throw new Error("Invalid GeoJSON object.")}}function xs(e,o,d,g){return e?e(o,d):new mo(d,g&&g.markersInheritOptions&&g)}function Ls(e){return new Me(e[1],e[0],e[2])}function Fr(e,o,d){for(var g=[],x=0,P=e.length,U;x<P;x++)U=o?Fr(e[x],o-1,d):(d||Ls)(e[x]),g.push(U);return g}function Cs(e,o){return e=he(e),e.alt!==void 0?[T(e.lng,o),T(e.lat,o),T(e.alt,o)]:[T(e.lng,o),T(e.lat,o)]}function yo(e,o,d,g){for(var x=[],P=0,U=e.length;P<U;P++)x.push(o?yo(e[P],Ye(e[P])?0:o-1,d,g):Cs(e[P],g));return!o&&d&&x.length>0&&x.push(x[0].slice()),x}function rr(e,o){return e.feature?p({},e.feature,{geometry:o}):Nr(o)}function Nr(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var jr={toGeoJSON:function(e){return rr(this,{type:"Point",coordinates:Cs(this.getLatLng(),e)})}};mo.include(jr),mi.include(jr),Ir.include(jr),gi.include({toGeoJSON:function(e){var o=!Ye(this._latlngs),d=yo(this._latlngs,o?1:0,!1,e);return rr(this,{type:(o?"Multi":"")+"LineString",coordinates:d})}}),ri.include({toGeoJSON:function(e){var o=!Ye(this._latlngs),d=o&&!Ye(this._latlngs[0]),g=yo(this._latlngs,d?2:o?1:0,!0,e);return o||(g=[g]),rr(this,{type:(d?"Multi":"")+"Polygon",coordinates:g})}}),nr.include({toMultiPoint:function(e){var o=[];return this.eachLayer(function(d){o.push(d.toGeoJSON(e).geometry.coordinates)}),rr(this,{type:"MultiPoint",coordinates:o})},toGeoJSON:function(e){var o=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(o==="MultiPoint")return this.toMultiPoint(e);var d=o==="GeometryCollection",g=[];return this.eachLayer(function(x){if(x.toGeoJSON){var P=x.toGeoJSON(e);if(d)g.push(P.geometry);else{var U=Nr(P);U.type==="FeatureCollection"?g.push.apply(g,U.features):g.push(U)}}}),d?rr(this,{geometries:g,type:"GeometryCollection"}):{type:"FeatureCollection",features:g}}});function ws(e,o){return new yi(e,o)}var ks=ws,vo=Yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,o,d){this._url=e,this._bounds=ze(o),J(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(me(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Yi(this._image),this},bringToBack:function(){return this._map&&Di(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=ze(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",o=this._image=e?this._url:Te("img");if(me(o,"leaflet-image-layer"),this._zoomAnimated&&me(o,"leaflet-zoom-animated"),this.options.className&&me(o,this.options.className),o.onselectstart=k,o.onmousemove=k,o.onload=h(this.fire,this,"load"),o.onerror=h(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=o.src;return}o.src=this._url,o.alt=this.options.alt},_animateZoom:function(e){var o=this._map.getZoomScale(e.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Ri(this._image,d,o)},_reset:function(){var e=this._image,o=new we(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=o.getSize();nn(e,o.min),e.style.width=d.x+"px",e.style.height=d.y+"px"},_updateOpacity:function(){jn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),bo=function(e,o,d){return new vo(e,o,d)},Ms=vo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",o=this._image=e?this._url:Te("video");if(me(o,"leaflet-image-layer"),this._zoomAnimated&&me(o,"leaflet-zoom-animated"),this.options.className&&me(o,this.options.className),o.onselectstart=k,o.onmousemove=k,o.onloadeddata=h(this.fire,this,"load"),e){for(var d=o.getElementsByTagName("source"),g=[],x=0;x<d.length;x++)g.push(d[x].src);this._url=d.length>0?g:[o.src];return}j(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(o.style,"objectFit")&&(o.style.objectFit="fill"),o.autoplay=!!this.options.autoplay,o.loop=!!this.options.loop,o.muted=!!this.options.muted,o.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var U=Te("source");U.src=this._url[P],o.appendChild(U)}}});function ku(e,o,d){return new Ms(e,o,d)}var Ia=vo.extend({_initImage:function(){var e=this._image=this._url;me(e,"leaflet-image-layer"),this._zoomAnimated&&me(e,"leaflet-zoom-animated"),this.options.className&&me(e,this.options.className),e.onselectstart=k,e.onmousemove=k}});function Mu(e,o,d){return new Ia(e,o,d)}var Pn=Yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,o){e&&(e instanceof Me||j(e))?(this._latlng=he(e),J(this,o)):(J(this,e),this._source=o),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&jn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&jn(this._container,1),this.bringToFront(),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(jn(this._container,0),this._removeTimeout=setTimeout(h(Ze,void 0,this._container),200)):Ze(this._container),this.options.interactive&&(tn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=he(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Yi(this._container),this},bringToBack:function(){return this._map&&Di(this._container),this},_prepareOpen:function(e){var o=this._source;if(!o._map)return!1;if(o instanceof _i){o=null;var d=this._source._layers;for(var g in d)if(d[g]._map){o=d[g];break}if(!o)return!1;this._source=o}if(!e)if(o.getCenter)e=o.getCenter();else if(o.getLatLng)e=o.getLatLng();else if(o.getBounds)e=o.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,o=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof o=="string")e.innerHTML=o;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(o)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),o=te(this.options.offset),d=this._getAnchor();this._zoomAnimated?nn(this._container,e.add(d)):o=o.add(e).add(d);var g=this._containerBottom=-o.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+o.x;this._container.style.bottom=g+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});Ce.include({_initOverlay:function(e,o,d,g){var x=o;return x instanceof e||(x=new e(g).setContent(o)),d&&x.setLatLng(d),x}}),Yn.include({_initOverlay:function(e,o,d,g){var x=d;return x instanceof e?(J(x,g),x._source=this):(x=o&&!g?o:new e(g,this),x.setContent(d)),x}});var xo=Pn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Pn.prototype.openOn.call(this,e)},onAdd:function(e){Pn.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Bn||this._source.on("preclick",Ni))},onRemove:function(e){Pn.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Bn||this._source.off("preclick",Ni))},getEvents:function(){var e=Pn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",o=this._container=Te("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Te("div",e+"-content-wrapper",o);if(this._contentNode=Te("div",e+"-content",d),Ar(o),ps(this._contentNode),_e(o,"contextmenu",Ni),this._tipContainer=Te("div",e+"-tip-container",o),this._tip=Te("div",e+"-tip",this._tipContainer),this.options.closeButton){var g=this._closeButton=Te("a",e+"-close-button",o);g.setAttribute("role","button"),g.setAttribute("aria-label","Close popup"),g.href="#close",g.innerHTML='<span aria-hidden="true">&#215;</span>',_e(g,"click",function(x){pn(x),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,o=e.style;o.width="",o.whiteSpace="nowrap";var d=e.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),o.width=d+1+"px",o.whiteSpace="",o.height="";var g=e.offsetHeight,x=this.options.maxHeight,P="leaflet-popup-scrolled";x&&g>x?(o.height=x+"px",me(e,P)):tn(e,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),d=this._getAnchor();nn(this._container,o.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,o=parseInt(wi(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+o,g=this._containerWidth,x=new Et(this._containerLeft,-d-this._containerBottom);x._add(Ii(this._container));var P=e.layerPointToContainerPoint(x),U=te(this.options.autoPanPadding),rt=te(this.options.autoPanPaddingTopLeft||U),dt=te(this.options.autoPanPaddingBottomRight||U),Ct=e.getSize(),Ht=0,le=0;P.x+g+dt.x>Ct.x&&(Ht=P.x+g-Ct.x+dt.x),P.x-Ht-rt.x<0&&(Ht=P.x-rt.x),P.y+d+dt.y>Ct.y&&(le=P.y+d-Ct.y+dt.y),P.y-le-rt.y<0&&(le=P.y-rt.y),(Ht||le)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([Ht,le]))}},_getAnchor:function(){return te(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Eu=function(e,o){return new xo(e,o)};Ce.mergeOptions({closePopupOnClick:!0}),Ce.include({openPopup:function(e,o,d){return this._initOverlay(xo,e,o,d).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Yn.include({bindPopup:function(e,o){return this._popup=this._initOverlay(xo,this._popup,e,o),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof _i||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){ji(e);var o=e.layer||e.target;if(this._popup._source===o&&!(o instanceof Bn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=o,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Lo=Pn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Pn.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Pn.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Pn.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",o=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Te("div",o),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+y(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var o,d,g=this._map,x=this._container,P=g.latLngToContainerPoint(g.getCenter()),U=g.layerPointToContainerPoint(e),rt=this.options.direction,dt=x.offsetWidth,Ct=x.offsetHeight,Ht=te(this.options.offset),le=this._getAnchor();rt==="top"?(o=dt/2,d=Ct):rt==="bottom"?(o=dt/2,d=0):rt==="center"?(o=dt/2,d=Ct/2):rt==="right"?(o=0,d=Ct/2):rt==="left"?(o=dt,d=Ct/2):U.x<P.x?(rt="right",o=0,d=Ct/2):(rt="left",o=dt+(Ht.x+le.x)*2,d=Ct/2),e=e.subtract(te(o,d,!0)).add(Ht).add(le),tn(x,"leaflet-tooltip-right"),tn(x,"leaflet-tooltip-left"),tn(x,"leaflet-tooltip-top"),tn(x,"leaflet-tooltip-bottom"),me(x,"leaflet-tooltip-"+rt),nn(x,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&jn(this._container,e)},_animateZoom:function(e){var o=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(o)},_getAnchor:function(){return te(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Bu=function(e,o){return new Lo(e,o)};Ce.include({openTooltip:function(e,o,d){return this._initOverlay(Lo,e,o,d).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Yn.include({bindTooltip:function(e,o){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Lo,this._tooltip,e,o),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var o=e?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[o](d),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof _i||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var o=typeof e.getElement=="function"&&e.getElement();o&&(_e(o,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),_e(o,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var o=typeof e.getElement=="function"&&e.getElement();o&&o.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var o=this;this._map.once("moveend",function(){o._openOnceFlag=!1,o._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var o=e.latlng,d,g;this._tooltip.options.sticky&&e.originalEvent&&(d=this._map.mouseEventToContainerPoint(e.originalEvent),g=this._map.containerPointToLayerPoint(d),o=this._map.layerPointToLatLng(g)),this._tooltip.setLatLng(o)}});var Fa=ir.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var o=e&&e.tagName==="DIV"?e:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Br(o),o.appendChild(d.html)):o.innerHTML=d.html!==!1?d.html:"",d.bgPos){var g=te(d.bgPos);o.style.backgroundPosition=-g.x+"px "+-g.y+"px"}return this._setIconStyles(o,"icon"),o},createShadow:function(){return null}});function Pu(e){return new Fa(e)}ir.Default=Gi;var zr=Yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ne.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){J(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),Ze(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Yi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Di(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=b(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof Et?e:new Et(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var o=this.getPane().children,d=-e(-1/0,1/0),g=0,x=o.length,P;g<x;g++)P=o[g].style.zIndex,o[g]!==this._container&&P&&(d=e(d,+P));isFinite(d)&&(this.options.zIndex=d+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ne.ielt9){jn(this._container,this.options.opacity);var e=+new Date,o=!1,d=!1;for(var g in this._tiles){var x=this._tiles[g];if(!(!x.current||!x.loaded)){var P=Math.min(1,(e-x.loaded)/200);jn(x.el,P),P<1?o=!0:(x.active?d=!0:this._onOpaqueTile(x),x.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),o&&(St(this._fadeFrame),this._fadeFrame=$t(this._updateOpacity,this))}},_onOpaqueTile:k,_initContainer:function(){this._container||(this._container=Te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,o=this.options.maxZoom;if(e!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===e?(this._levels[d].el.style.zIndex=o-Math.abs(e-d),this._onUpdateLevel(d)):(Ze(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var g=this._levels[e],x=this._map;return g||(g=this._levels[e]={},g.el=Te("div","leaflet-tile-container leaflet-zoom-animated",this._container),g.el.style.zIndex=o,g.origin=x.project(x.unproject(x.getPixelOrigin()),e).round(),g.zoom=e,this._setZoomTransform(g,x.getCenter(),x.getZoom()),k(g.el.offsetWidth),this._onCreateLevel(g)),this._level=g,g}},_onUpdateLevel:k,_onRemoveLevel:k,_onCreateLevel:k,_pruneTiles:function(){if(this._map){var e,o,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)o=this._tiles[e],o.retain=o.current;for(e in this._tiles)if(o=this._tiles[e],o.current&&!o.active){var g=o.coords;this._retainParent(g.x,g.y,g.z,g.z-5)||this._retainChildren(g.x,g.y,g.z,g.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var o in this._tiles)this._tiles[o].coords.z===e&&this._removeTile(o)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)Ze(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,o,d,g){var x=Math.floor(e/2),P=Math.floor(o/2),U=d-1,rt=new Et(+x,+P);rt.z=+U;var dt=this._tileCoordsToKey(rt),Ct=this._tiles[dt];return Ct&&Ct.active?(Ct.retain=!0,!0):(Ct&&Ct.loaded&&(Ct.retain=!0),U>g?this._retainParent(x,P,U,g):!1)},_retainChildren:function(e,o,d,g){for(var x=2*e;x<2*e+2;x++)for(var P=2*o;P<2*o+2;P++){var U=new Et(x,P);U.z=d+1;var rt=this._tileCoordsToKey(U),dt=this._tiles[rt];if(dt&&dt.active){dt.retain=!0;continue}else dt&&dt.loaded&&(dt.retain=!0);d+1<g&&this._retainChildren(x,P,d+1,g)}},_resetView:function(e){var o=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),o,o)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var o=this.options;return o.minNativeZoom!==void 0&&e<o.minNativeZoom?o.minNativeZoom:o.maxNativeZoom!==void 0&&o.maxNativeZoom<e?o.maxNativeZoom:e},_setView:function(e,o,d,g){var x=Math.round(o);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var P=this.options.updateWhenZooming&&x!==this._tileZoom;(!g||P)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(e),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(e,o)},_setZoomTransforms:function(e,o){for(var d in this._levels)this._setZoomTransform(this._levels[d],e,o)},_setZoomTransform:function(e,o,d){var g=this._map.getZoomScale(d,e.zoom),x=e.origin.multiplyBy(g).subtract(this._map._getNewPixelOrigin(o,d)).round();ne.any3d?Ri(e.el,x,g):nn(e.el,x)},_resetGrid:function(){var e=this._map,o=e.options.crs,d=this._tileSize=this.getTileSize(),g=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=o.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,o.wrapLng[0]],g).x/d.x),Math.ceil(e.project([0,o.wrapLng[1]],g).x/d.y)],this._wrapY=o.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([o.wrapLat[0],0],g).y/d.x),Math.ceil(e.project([o.wrapLat[1],0],g).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var o=this._map,d=o._animatingZoom?Math.max(o._animateToZoom,o.getZoom()):o.getZoom(),g=o.getZoomScale(d,this._tileZoom),x=o.project(e,this._tileZoom).floor(),P=o.getSize().divideBy(g*2);return new we(x.subtract(P),x.add(P))},_update:function(e){var o=this._map;if(o){var d=this._clampZoom(o.getZoom());if(e===void 0&&(e=o.getCenter()),this._tileZoom!==void 0){var g=this._getTiledPixelBounds(e),x=this._pxBoundsToTileRange(g),P=x.getCenter(),U=[],rt=this.options.keepBuffer,dt=new we(x.getBottomLeft().subtract([rt,-rt]),x.getTopRight().add([rt,-rt]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Ct in this._tiles){var Ht=this._tiles[Ct].coords;(Ht.z!==this._tileZoom||!dt.contains(new Et(Ht.x,Ht.y)))&&(this._tiles[Ct].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(e,d);return}for(var le=x.min.y;le<=x.max.y;le++)for(var Le=x.min.x;Le<=x.max.x;Le++){var wn=new Et(Le,le);if(wn.z=this._tileZoom,!!this._isValidTile(wn)){var rn=this._tiles[this._tileCoordsToKey(wn)];rn?rn.current=!0:U.push(wn)}}if(U.sort(function(hn,Pi){return hn.distanceTo(P)-Pi.distanceTo(P)}),U.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var on=document.createDocumentFragment();for(Le=0;Le<U.length;Le++)this._addTile(U[Le],on);this._level.el.appendChild(on)}}}},_isValidTile:function(e){var o=this._map.options.crs;if(!o.infinite){var d=this._globalTileRange;if(!o.wrapLng&&(e.x<d.min.x||e.x>d.max.x)||!o.wrapLat&&(e.y<d.min.y||e.y>d.max.y))return!1}if(!this.options.bounds)return!0;var g=this._tileCoordsToBounds(e);return ze(this.options.bounds).overlaps(g)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var o=this._map,d=this.getTileSize(),g=e.scaleBy(d),x=g.add(d),P=o.unproject(g,e.z),U=o.unproject(x,e.z);return[P,U]},_tileCoordsToBounds:function(e){var o=this._tileCoordsToNwSe(e),d=new Qe(o[0],o[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var o=e.split(":"),d=new Et(+o[0],+o[1]);return d.z=+o[2],d},_removeTile:function(e){var o=this._tiles[e];o&&(Ze(o.el),delete this._tiles[e],this.fire("tileunload",{tile:o.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){me(e,"leaflet-tile");var o=this.getTileSize();e.style.width=o.x+"px",e.style.height=o.y+"px",e.onselectstart=k,e.onmousemove=k,ne.ielt9&&this.options.opacity<1&&jn(e,this.options.opacity)},_addTile:function(e,o){var d=this._getTilePos(e),g=this._tileCoordsToKey(e),x=this.createTile(this._wrapCoords(e),h(this._tileReady,this,e));this._initTile(x),this.createTile.length<2&&$t(h(this._tileReady,this,e,null,x)),nn(x,d),this._tiles[g]={el:x,coords:e,current:!0},o.appendChild(x),this.fire("tileloadstart",{tile:x,coords:e})},_tileReady:function(e,o,d){o&&this.fire("tileerror",{error:o,tile:d,coords:e});var g=this._tileCoordsToKey(e);d=this._tiles[g],d&&(d.loaded=+new Date,this._map._fadeAnimated?(jn(d.el,0),St(this._fadeFrame),this._fadeFrame=$t(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),o||(me(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ne.ielt9||!this._map._fadeAnimated?$t(this._pruneTiles,this):setTimeout(h(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var o=new Et(this._wrapX?w(e.x,this._wrapX):e.x,this._wrapY?w(e.y,this._wrapY):e.y);return o.z=e.z,o},_pxBoundsToTileRange:function(e){var o=this.getTileSize();return new we(e.min.unscaleBy(o).floor(),e.max.unscaleBy(o).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Su(e){return new zr(e)}var Hi=zr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,o){this._url=e,o=J(this,o),o.detectRetina&&ne.retina&&o.maxZoom>0?(o.tileSize=Math.floor(o.tileSize/2),o.zoomReverse?(o.zoomOffset--,o.minZoom=Math.min(o.maxZoom,o.minZoom+1)):(o.zoomOffset++,o.maxZoom=Math.max(o.minZoom,o.maxZoom-1)),o.minZoom=Math.max(0,o.minZoom)):o.zoomReverse?o.minZoom=Math.min(o.maxZoom,o.minZoom):o.maxZoom=Math.max(o.minZoom,o.maxZoom),typeof o.subdomains=="string"&&(o.subdomains=o.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,o){return this._url===e&&o===void 0&&(o=!0),this._url=e,o||this.redraw(),this},createTile:function(e,o){var d=document.createElement("img");return _e(d,"load",h(this._tileOnLoad,this,o,d)),_e(d,"error",h(this._tileOnError,this,o,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(e),d},getTileUrl:function(e){var o={r:ne.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-e.y;this.options.tms&&(o.y=d),o["-y"]=d}return yt(this._url,p(o,this.options))},_tileOnLoad:function(e,o){ne.ielt9?setTimeout(h(e,this,null,o),0):e(null,o)},_tileOnError:function(e,o,d){var g=this.options.errorTileUrl;g&&o.getAttribute("src")!==g&&(o.src=g),e(d,o)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,o=this.options.maxZoom,d=this.options.zoomReverse,g=this.options.zoomOffset;return d&&(e=o-e),e+g},_getSubdomain:function(e){var o=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[o]},_abortLoading:function(){var e,o;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(o=this._tiles[e].el,o.onload=k,o.onerror=k,!o.complete)){o.src=vt;var d=this._tiles[e].coords;Ze(o),delete this._tiles[e],this.fire("tileabort",{tile:o,coords:d})}},_removeTile:function(e){var o=this._tiles[e];if(o)return o.el.setAttribute("src",vt),zr.prototype._removeTile.call(this,e)},_tileReady:function(e,o,d){if(!(!this._map||d&&d.getAttribute("src")===vt))return zr.prototype._tileReady.call(this,e,o,d)}});function Co(e,o){return new Hi(e,o)}var Na=Hi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,o){this._url=e;var d=p({},this.defaultWmsParams);for(var g in o)g in this.options||(d[g]=o[g]);o=J(this,o);var x=o.detectRetina&&ne.retina?2:1,P=this.getTileSize();d.width=P.x*x,d.height=P.y*x,this.wmsParams=d},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var o=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[o]=this._crs.code,Hi.prototype.onAdd.call(this,e)},getTileUrl:function(e){var o=this._tileCoordsToNwSe(e),d=this._crs,g=Fe(d.project(o[0]),d.project(o[1])),x=g.min,P=g.max,U=(this._wmsVersion>=1.3&&this._crs===_o?[x.y,x.x,P.y,P.x]:[x.x,x.y,P.x,P.y]).join(","),rt=Hi.prototype.getTileUrl.call(this,e);return rt+st(this.wmsParams,rt,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+U},setParams:function(e,o){return p(this.wmsParams,e),o||this.redraw(),this}});function Tu(e,o){return new Na(e,o)}Hi.WMS=Na,Co.wms=Tu;var oi=Yn.extend({options:{padding:.1},initialize:function(e){J(this,e),y(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),me(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,o){var d=this._map.getZoomScale(o,this._zoom),g=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,o),P=g.multiplyBy(-d).add(x).subtract(this._map._getNewPixelOrigin(e,o));ne.any3d?Ri(this._container,P,d):nn(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,o=this._map.getSize(),d=this._map.containerPointToLayerPoint(o.multiplyBy(-e)).round();this._bounds=new we(d,d.add(o.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),wo=oi.extend({options:{tolerance:0},getEvents:function(){var e=oi.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){oi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");_e(e,"mousemove",this._onMouseMove,this),_e(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),_e(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){St(this._redrawRequest),delete this._ctx,Ze(this._container),$e(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var o in this._layers)e=this._layers[o],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oi.prototype._update.call(this);var e=this._bounds,o=this._container,d=e.getSize(),g=ne.retina?2:1;nn(o,e.min),o.width=g*d.x,o.height=g*d.y,o.style.width=d.x+"px",o.style.height=d.y+"px",ne.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){oi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[y(e)]=e;var o=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=o),this._drawLast=o,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var o=e._order,d=o.next,g=o.prev;d?d.prev=g:this._drawLast=g,g?g.next=d:this._drawFirst=d,delete e._order,delete this._layers[y(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var o=e.options.dashArray.split(/[, ]+/),d=[],g,x;for(x=0;x<o.length;x++){if(g=Number(o[x]),isNaN(g))return;d.push(g)}e.options._dashArray=d}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||$t(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var o=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new we,this._redrawBounds.extend(e._pxBounds.min.subtract([o,o])),this._redrawBounds.extend(e._pxBounds.max.add([o,o]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var o=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,o.x,o.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,o=this._redrawBounds;if(this._ctx.save(),o){var d=o.getSize();this._ctx.beginPath(),this._ctx.rect(o.min.x,o.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var g=this._drawFirst;g;g=g.next)e=g.layer,(!o||e._pxBounds&&e._pxBounds.intersects(o))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,o){if(this._drawing){var d,g,x,P,U=e._parts,rt=U.length,dt=this._ctx;if(rt){for(dt.beginPath(),d=0;d<rt;d++){for(g=0,x=U[d].length;g<x;g++)P=U[d][g],dt[g?"lineTo":"moveTo"](P.x,P.y);o&&dt.closePath()}this._fillStroke(dt,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var o=e._point,d=this._ctx,g=Math.max(Math.round(e._radius),1),x=(Math.max(Math.round(e._radiusY),1)||g)/g;x!==1&&(d.save(),d.scale(1,x)),d.beginPath(),d.arc(o.x,o.y/x,g,0,Math.PI*2,!1),x!==1&&d.restore(),this._fillStroke(d,e)}},_fillStroke:function(e,o){var d=o.options;d.fill&&(e.globalAlpha=d.fillOpacity,e.fillStyle=d.fillColor||d.color,e.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(e.setLineDash&&e.setLineDash(o.options&&o.options._dashArray||[]),e.globalAlpha=d.opacity,e.lineWidth=d.weight,e.strokeStyle=d.color,e.lineCap=d.lineCap,e.lineJoin=d.lineJoin,e.stroke())},_onClick:function(e){for(var o=this._map.mouseEventToLayerPoint(e),d,g,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(o)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(d))&&(g=d);this._fireEvent(g?[g]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var o=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,o)}},_handleMouseOut:function(e){var o=this._hoveredLayer;o&&(tn(this._container,"leaflet-interactive"),this._fireEvent([o],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,o){if(!this._mouseHoverThrottled){for(var d,g,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(o)&&(g=d);g!==this._hoveredLayer&&(this._handleMouseOut(e),g&&(me(this._container,"leaflet-interactive"),this._fireEvent([g],e,"mouseover"),this._hoveredLayer=g)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(h(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,o,d){this._map._fireDOMEvent(o,d||o.type,e)},_bringToFront:function(e){var o=e._order;if(o){var d=o.next,g=o.prev;if(d)d.prev=g;else return;g?g.next=d:d&&(this._drawFirst=d),o.prev=this._drawLast,this._drawLast.next=o,o.next=null,this._drawLast=o,this._requestRedraw(e)}},_bringToBack:function(e){var o=e._order;if(o){var d=o.next,g=o.prev;if(g)g.next=d;else return;d?d.prev=g:g&&(this._drawLast=g),o.prev=null,o.next=this._drawFirst,this._drawFirst.prev=o,this._drawFirst=o,this._requestRedraw(e)}}});function ja(e){return ne.canvas?new wo(e):null}var Vr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Es={_initContainer:function(){this._container=Te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(oi.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var o=e._container=Vr("shape");me(o,"leaflet-vml-shape "+(this.options.className||"")),o.coordsize="1 1",e._path=Vr("path"),o.appendChild(e._path),this._updateStyle(e),this._layers[y(e)]=e},_addPath:function(e){var o=e._container;this._container.appendChild(o),e.options.interactive&&e.addInteractiveTarget(o)},_removePath:function(e){var o=e._container;Ze(o),e.removeInteractiveTarget(o),delete this._layers[y(e)]},_updateStyle:function(e){var o=e._stroke,d=e._fill,g=e.options,x=e._container;x.stroked=!!g.stroke,x.filled=!!g.fill,g.stroke?(o||(o=e._stroke=Vr("stroke")),x.appendChild(o),o.weight=g.weight+"px",o.color=g.color,o.opacity=g.opacity,g.dashArray?o.dashStyle=j(g.dashArray)?g.dashArray.join(" "):g.dashArray.replace(/( *, *)/g," "):o.dashStyle="",o.endcap=g.lineCap.replace("butt","flat"),o.joinstyle=g.lineJoin):o&&(x.removeChild(o),e._stroke=null),g.fill?(d||(d=e._fill=Vr("fill")),x.appendChild(d),d.color=g.fillColor||g.color,d.opacity=g.fillOpacity):d&&(x.removeChild(d),e._fill=null)},_updateCircle:function(e){var o=e._point.round(),d=Math.round(e._radius),g=Math.round(e._radiusY||d);this._setPath(e,e._empty()?"M0 0":"AL "+o.x+","+o.y+" "+d+","+g+" 0,"+65535*360)},_setPath:function(e,o){e._path.v=o},_bringToFront:function(e){Yi(e._container)},_bringToBack:function(e){Di(e._container)}},Cn=ne.vml?Vr:ut,cn=oi.extend({_initContainer:function(){this._container=Cn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Cn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ze(this._container),$e(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){oi.prototype._update.call(this);var e=this._bounds,o=e.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(o))&&(this._svgSize=o,d.setAttribute("width",o.x),d.setAttribute("height",o.y)),nn(d,e.min),d.setAttribute("viewBox",[e.min.x,e.min.y,o.x,o.y].join(" ")),this.fire("update")}},_initPath:function(e){var o=e._path=Cn("path");e.options.className&&me(o,e.options.className),e.options.interactive&&me(o,"leaflet-interactive"),this._updateStyle(e),this._layers[y(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){Ze(e._path),e.removeInteractiveTarget(e._path),delete this._layers[y(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var o=e._path,d=e.options;o&&(d.stroke?(o.setAttribute("stroke",d.color),o.setAttribute("stroke-opacity",d.opacity),o.setAttribute("stroke-width",d.weight),o.setAttribute("stroke-linecap",d.lineCap),o.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?o.setAttribute("stroke-dasharray",d.dashArray):o.removeAttribute("stroke-dasharray"),d.dashOffset?o.setAttribute("stroke-dashoffset",d.dashOffset):o.removeAttribute("stroke-dashoffset")):o.setAttribute("stroke","none"),d.fill?(o.setAttribute("fill",d.fillColor||d.color),o.setAttribute("fill-opacity",d.fillOpacity),o.setAttribute("fill-rule",d.fillRule||"evenodd")):o.setAttribute("fill","none"))},_updatePoly:function(e,o){this._setPath(e,kt(e._parts,o))},_updateCircle:function(e){var o=e._point,d=Math.max(Math.round(e._radius),1),g=Math.max(Math.round(e._radiusY),1)||d,x="a"+d+","+g+" 0 1,0 ",P=e._empty()?"M0 0":"M"+(o.x-d)+","+o.y+x+d*2+",0 "+x+-d*2+",0 ";this._setPath(e,P)},_setPath:function(e,o){e._path.setAttribute("d",o)},_bringToFront:function(e){Yi(e._path)},_bringToBack:function(e){Di(e._path)}});ne.vml&&cn.include(Es);function Bs(e){return ne.svg||ne.vml?new cn(e):null}Ce.include({getRenderer:function(e){var o=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return o||(o=this._renderer=this._createRenderer()),this.hasLayer(o)||this.addLayer(o),o},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var o=this._paneRenderers[e];return o===void 0&&(o=this._createRenderer({pane:e}),this._paneRenderers[e]=o),o},_createRenderer:function(e){return this.options.preferCanvas&&ja(e)||Bs(e)}});var $n=ri.extend({initialize:function(e,o){ri.prototype.initialize.call(this,this._boundsToLatLngs(e),o)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=ze(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function fe(e,o){return new $n(e,o)}cn.create=Cn,cn.pointsToPath=kt,yi.geometryToLayer=go,yi.coordsToLatLng=Ls,yi.coordsToLatLngs=Fr,yi.latLngToCoords=Cs,yi.latLngsToCoords=yo,yi.getFeature=rr,yi.asFeature=Nr,Ce.mergeOptions({boxZoom:!0});var ko=ii.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){_e(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){$e(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Pr(),ss(),this._startPoint=this._map.mouseEventToContainerPoint(e),_e(document,{contextmenu:ji,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=Te("div","leaflet-zoom-box",this._container),me(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var o=new we(this._point,this._startPoint),d=o.getSize();nn(this._box,o.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Ze(this._box),tn(this._container,"leaflet-crosshair")),Sr(),as(),$e(document,{contextmenu:ji,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(h(this._resetState,this),0);var o=new Qe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(o).fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ce.addInitHook("addHandler","boxZoom",ko),Ce.mergeOptions({doubleClickZoom:!0});var Mo=ii.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var o=this._map,d=o.getZoom(),g=o.options.zoomDelta,x=e.originalEvent.shiftKey?d-g:d+g;o.options.doubleClickZoom==="center"?o.setZoom(x):o.setZoomAround(e.containerPoint,x)}});Ce.addInitHook("addHandler","doubleClickZoom",Mo),Ce.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var vi=ii.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new Ei(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}me(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tn(this._map._container,"leaflet-grab"),tn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var o=ze(this._map.options.maxBounds);this._offsetLimit=Fe(this._map.latLngToContainerPoint(o.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(o.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var o=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(o),this._prunePositions(o)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),o=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=o.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,o){return e-(e-o)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),o=this._offsetLimit;e.x<o.min.x&&(e.x=this._viscousLimit(e.x,o.min.x)),e.y<o.min.y&&(e.y=this._viscousLimit(e.y,o.min.y)),e.x>o.max.x&&(e.x=this._viscousLimit(e.x,o.max.x)),e.y>o.max.y&&(e.y=this._viscousLimit(e.y,o.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,o=Math.round(e/2),d=this._initialWorldOffset,g=this._draggable._newPos.x,x=(g-o+d)%e+o-d,P=(g+o+d)%e-o-d,U=Math.abs(x+d)<Math.abs(P+d)?x:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=U},_onDragEnd:function(e){var o=this._map,d=o.options,g=!d.inertia||e.noInertia||this._times.length<2;if(o.fire("dragend",e),g)o.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,U=d.easeLinearity,rt=x.multiplyBy(U/P),dt=rt.distanceTo([0,0]),Ct=Math.min(d.inertiaMaxSpeed,dt),Ht=rt.multiplyBy(Ct/dt),le=Ct/(d.inertiaDeceleration*U),Le=Ht.multiplyBy(-le/2).round();!Le.x&&!Le.y?o.fire("moveend"):(Le=o._limitOffset(Le,o.options.maxBounds),$t(function(){o.panBy(Le,{duration:le,easeLinearity:U,noMoveStart:!0,animate:!0})}))}}});Ce.addInitHook("addHandler","dragging",vi),Ce.mergeOptions({keyboard:!0,keyboardPanDelta:80});var an=ii.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),_e(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),$e(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,o=document.documentElement,d=e.scrollTop||o.scrollTop,g=e.scrollLeft||o.scrollLeft;this._map._container.focus(),window.scrollTo(g,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var o=this._panKeys={},d=this.keyCodes,g,x;for(g=0,x=d.left.length;g<x;g++)o[d.left[g]]=[-1*e,0];for(g=0,x=d.right.length;g<x;g++)o[d.right[g]]=[e,0];for(g=0,x=d.down.length;g<x;g++)o[d.down[g]]=[0,e];for(g=0,x=d.up.length;g<x;g++)o[d.up[g]]=[0,-1*e]},_setZoomDelta:function(e){var o=this._zoomKeys={},d=this.keyCodes,g,x;for(g=0,x=d.zoomIn.length;g<x;g++)o[d.zoomIn[g]]=e;for(g=0,x=d.zoomOut.length;g<x;g++)o[d.zoomOut[g]]=-e},_addHooks:function(){_e(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){$e(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var o=e.keyCode,d=this._map,g;if(o in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(g=this._panKeys[o],e.shiftKey&&(g=te(g).multiplyBy(3)),d.options.maxBounds&&(g=d._limitOffset(te(g),d.options.maxBounds)),d.options.worldCopyJump){var x=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(g)));d.panTo(x)}else d.panBy(g)}else if(o in this._zoomKeys)d.setZoom(d.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[o]);else if(o===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;ji(e)}}});Ce.addInitHook("addHandler","keyboard",an),Ce.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ps=ii.extend({addHooks:function(){_e(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){$e(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var o=ka(e),d=this._map.options.wheelDebounceTime;this._delta+=o,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var g=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(h(this._performZoom,this),g),ji(e)},_performZoom:function(){var e=this._map,o=e.getZoom(),d=this._map.options.zoomSnap||0;e._stop();var g=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(g))))/Math.LN2,P=d?Math.ceil(x/d)*d:x,U=e._limitZoom(o+(this._delta>0?P:-P))-o;this._delta=0,this._startTime=null,U&&(e.options.scrollWheelZoom==="center"?e.setZoom(o+U):e.setZoomAround(this._lastMousePos,o+U))}});Ce.addInitHook("addHandler","scrollWheelZoom",Ps);var Gn=600;Ce.mergeOptions({tapHold:ne.touchNative&&ne.safari&&ne.mobile,tapTolerance:15});var Dn=ii.extend({addHooks:function(){_e(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){$e(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var o=e.touches[0];this._startPos=this._newPos=new Et(o.clientX,o.clientY),this._holdTimeout=setTimeout(h(function(){this._cancel(),this._isTapValid()&&(_e(document,"touchend",pn),_e(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",o))},this),Gn),_e(document,"touchend touchcancel contextmenu",this._cancel,this),_e(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){$e(document,"touchend",pn),$e(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),$e(document,"touchend touchcancel contextmenu",this._cancel,this),$e(document,"touchmove",this._onMove,this)},_onMove:function(e){var o=e.touches[0];this._newPos=new Et(o.clientX,o.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,o){var d=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:o.screenX,screenY:o.screenY,clientX:o.clientX,clientY:o.clientY});d._simulated=!0,o.target.dispatchEvent(d)}});Ce.addInitHook("addHandler","tapHold",Dn),Ce.mergeOptions({touchZoom:ne.touch,bounceAtZoomLimits:!0});var Bi=ii.extend({addHooks:function(){me(this._map._container,"leaflet-touch-zoom"),_e(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tn(this._map._container,"leaflet-touch-zoom"),$e(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var o=this._map;if(!(!e.touches||e.touches.length!==2||o._animatingZoom||this._zooming)){var d=o.mouseEventToContainerPoint(e.touches[0]),g=o.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=o.getSize()._divideBy(2),this._startLatLng=o.containerPointToLatLng(this._centerPoint),o.options.touchZoom!=="center"&&(this._pinchStartLatLng=o.containerPointToLatLng(d.add(g)._divideBy(2))),this._startDist=d.distanceTo(g),this._startZoom=o.getZoom(),this._moved=!1,this._zooming=!0,o._stop(),_e(document,"touchmove",this._onTouchMove,this),_e(document,"touchend touchcancel",this._onTouchEnd,this),pn(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var o=this._map,d=o.mouseEventToContainerPoint(e.touches[0]),g=o.mouseEventToContainerPoint(e.touches[1]),x=d.distanceTo(g)/this._startDist;if(this._zoom=o.getScaleZoom(x,this._startZoom),!o.options.bounceAtZoomLimits&&(this._zoom<o.getMinZoom()&&x<1||this._zoom>o.getMaxZoom()&&x>1)&&(this._zoom=o._limitZoom(this._zoom)),o.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var P=d._add(g)._divideBy(2)._subtract(this._centerPoint);if(x===1&&P.x===0&&P.y===0)return;this._center=o.unproject(o.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(o._moveStart(!0,!1),this._moved=!0),St(this._animRequest);var U=h(o._move,o,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$t(U,this,!0),pn(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,St(this._animRequest),$e(document,"touchmove",this._onTouchMove,this),$e(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ce.addInitHook("addHandler","touchZoom",Bi),Ce.BoxZoom=ko,Ce.DoubleClickZoom=Mo,Ce.Drag=vi,Ce.Keyboard=an,Ce.ScrollWheelZoom=Ps,Ce.TapHold=Dn,Ce.TouchZoom=Bi,s.Bounds=we,s.Browser=ne,s.CRS=mt,s.Canvas=wo,s.Circle=mi,s.CircleMarker=Ir,s.Class=xe,s.Control=On,s.DivIcon=Fa,s.DivOverlay=Pn,s.DomEvent=fu,s.DomUtil=du,s.Draggable=Ei,s.Evented=Jt,s.FeatureGroup=_i,s.GeoJSON=yi,s.GridLayer=zr,s.Handler=ii,s.Icon=ir,s.ImageOverlay=vo,s.LatLng=Me,s.LatLngBounds=Qe,s.Layer=Yn,s.LayerGroup=nr,s.LineUtil=vu,s.Map=Ce,s.Marker=mo,s.Mixin=mu,s.Path=Bn,s.Point=Et,s.PolyUtil=gu,s.Polygon=ri,s.Polyline=gi,s.Popup=xo,s.PosAnimation=Ma,s.Projection=fo,s.Rectangle=$n,s.Renderer=oi,s.SVG=cn,s.SVGOverlay=Ia,s.TileLayer=Hi,s.Tooltip=Lo,s.Transformation=ke,s.Util=re,s.VideoOverlay=Ms,s.bind=h,s.bounds=Fe,s.canvas=ja,s.circle=Cu,s.circleMarker=Lu,s.control=ki,s.divIcon=Pu,s.extend=p,s.featureGroup=bu,s.geoJSON=ws,s.geoJson=ks,s.gridLayer=Su,s.icon=xu,s.imageOverlay=bo,s.latLng=he,s.latLngBounds=ze,s.layerGroup=vs,s.map=Be,s.marker=Ra,s.point=te,s.polygon=wu,s.polyline=bs,s.popup=Eu,s.rectangle=fe,s.setOptions=J,s.stamp=y,s.svg=Bs,s.svgOverlay=Mu,s.tileLayer=Co,s.tooltip=Bu,s.transformation=Ie,s.version=u,s.videoOverlay=ku;var Ke=window.L;s.noConflict=function(){return window.L=Ke,this},window.L=s})})(Pc,Pc.exports);var PL=Pc.exports;const Hn=BL(PL),SL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",TL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",AL="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",OL={className:"bg-map-asserted rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},DL={className:"bg-map-collection-object rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},o_={className:"bg-map-georeference rounded-full map-point-marker",iconSize:[8,8],iconAnchor:[4,4]},RL={className:"bg-map-type-material map-point-marker rounded-full",iconSize:[8,8],iconAnchor:[4,4]},IL=Object.freeze(Object.defineProperty({__proto__:null,AssertedDistribution:OL,CollectionObject:DL,Georeference:o_,TypeMaterial:RL},Symbol.toStringTag,{value:"Module"})),FL={color:"rgb(var(--color-map-aggregate))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},NL={color:"rgb(var(--color-map-asserted))",weight:1,dashArray:"3",dashOffset:"3",fillOpacity:"var(--color-map-shape-opacity)"},jL={color:"rgb(var(--color-map-collection-object))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},zL={color:"rgb(var(--color-map-type-material))",weight:1,fillOpacity:"var(--color-map-shape-opacity)"},Nd=Object.freeze(Object.defineProperty({__proto__:null,Aggregate:FL,AssertedDistribution:NL,CollectionObject:jL,TypeMaterial:zL},Symbol.toStringTag,{value:"Module"})),jd=[K4,Qf,W4,J4,Y4];function zd(t){const i=t.map(s=>s.type);return i.sort((s,u)=>jd.indexOf(s)-jd.indexOf(u)),i[0]}const VL=({L:t})=>({onEachFeature:(i,s)=>{s.pm.setOptions(Bc),s.pm.disable()},pointToLayer:(i,s)=>{const u=zd(i.properties.base),p=IL[u]||o_,l=t.marker(s,{icon:t.divIcon(p)});return l.pm.setOptions(Bc),l},style:i=>{var u;const s=zd((u=i.properties)==null?void 0:u.base);if(Nd[s])return Nd[s]}});(()=>{var fh,_h;var t=Object.create,i=Object.defineProperty,s=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,p=Object.getPrototypeOf,l=Object.prototype.hasOwnProperty,h=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),_=(n,r,a,c)=>{if(r&&typeof r=="object"||typeof r=="function")for(let f of u(r))!l.call(n,f)&&f!==a&&i(n,f,{get:()=>r[f],enumerable:!(c=s(r,f))||c.enumerable});return n},y=(n,r,a)=>(a=n!=null?t(p(n)):{},_(r||!n||!n.__esModule?i(a,"default",{value:n,enumerable:!0}):a,n)),b=h((n,r)=>{function a(){this.__data__=[],this.size=0}r.exports=a}),w=h((n,r)=>{function a(c,f){return c===f||c!==c&&f!==f}r.exports=a}),k=h((n,r)=>{var a=w();function c(f,m){for(var v=f.length;v--;)if(a(f[v][0],m))return v;return-1}r.exports=c}),T=h((n,r)=>{var a=k(),c=Array.prototype,f=c.splice;function m(v){var C=this.__data__,M=a(C,v);if(M<0)return!1;var B=C.length-1;return M==B?C.pop():f.call(C,M,1),--this.size,!0}r.exports=m}),I=h((n,r)=>{var a=k();function c(f){var m=this.__data__,v=a(m,f);return v<0?void 0:m[v][1]}r.exports=c}),G=h((n,r)=>{var a=k();function c(f){return a(this.__data__,f)>-1}r.exports=c}),J=h((n,r)=>{var a=k();function c(f,m){var v=this.__data__,C=a(v,f);return C<0?(++this.size,v.push([f,m])):v[C][1]=m,this}r.exports=c}),st=h((n,r)=>{var a=b(),c=T(),f=I(),m=G(),v=J();function C(M){var B=-1,$=M==null?0:M.length;for(this.clear();++B<$;){var F=M[B];this.set(F[0],F[1])}}C.prototype.clear=a,C.prototype.delete=c,C.prototype.get=f,C.prototype.has=m,C.prototype.set=v,r.exports=C}),xt=h((n,r)=>{var a=st();function c(){this.__data__=new a,this.size=0}r.exports=c}),yt=h((n,r)=>{function a(c){var f=this.__data__,m=f.delete(c);return this.size=f.size,m}r.exports=a}),j=h((n,r)=>{function a(c){return this.__data__.get(c)}r.exports=a}),lt=h((n,r)=>{function a(c){return this.__data__.has(c)}r.exports=a}),vt=h((n,r)=>{var a=typeof No=="object"&&No&&No.Object===Object&&No;r.exports=a}),bt=h((n,r)=>{var a=vt(),c=typeof self=="object"&&self&&self.Object===Object&&self,f=a||c||Function("return this")();r.exports=f}),It=h((n,r)=>{var a=bt(),c=a.Symbol;r.exports=c}),Rt=h((n,r)=>{var a=It(),c=Object.prototype,f=c.hasOwnProperty,m=c.toString,v=a?a.toStringTag:void 0;function C(M){var B=f.call(M,v),$=M[v];try{M[v]=void 0;var F=!0}catch{}var it=m.call(M);return F&&(B?M[v]=$:delete M[v]),it}r.exports=C}),wt=h((n,r)=>{var a=Object.prototype,c=a.toString;function f(m){return c.call(m)}r.exports=f}),Tt=h((n,r)=>{var a=It(),c=Rt(),f=wt(),m="[object Null]",v="[object Undefined]",C=a?a.toStringTag:void 0;function M(B){return B==null?B===void 0?v:m:C&&C in Object(B)?c(B):f(B)}r.exports=M}),$t=h((n,r)=>{function a(c){var f=typeof c;return c!=null&&(f=="object"||f=="function")}r.exports=a}),St=h((n,r)=>{var a=Tt(),c=$t(),f="[object AsyncFunction]",m="[object Function]",v="[object GeneratorFunction]",C="[object Proxy]";function M(B){if(!c(B))return!1;var $=a(B);return $==m||$==v||$==f||$==C}r.exports=M}),re=h((n,r)=>{var a=bt(),c=a["__core-js_shared__"];r.exports=c}),xe=h((n,r)=>{var a=re(),c=function(){var m=/[^.]+$/.exec(a&&a.keys&&a.keys.IE_PROTO||"");return m?"Symbol(src)_1."+m:""}();function f(m){return!!c&&c in m}r.exports=f}),Ae=h((n,r)=>{var a=Function.prototype,c=a.toString;function f(m){if(m!=null){try{return c.call(m)}catch{}try{return m+""}catch{}}return""}r.exports=f}),jt=h((n,r)=>{var a=St(),c=xe(),f=$t(),m=Ae(),v=/[\\^$.*+?()[\]{}|]/g,C=/^\[object .+?Constructor\]$/,M=Function.prototype,B=Object.prototype,$=M.toString,F=B.hasOwnProperty,it=RegExp("^"+$.call(F).replace(v,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function ht(Mt){if(!f(Mt)||c(Mt))return!1;var Vt=a(Mt)?it:C;return Vt.test(m(Mt))}r.exports=ht}),Jt=h((n,r)=>{function a(c,f){return c==null?void 0:c[f]}r.exports=a}),Et=h((n,r)=>{var a=jt(),c=Jt();function f(m,v){var C=c(m,v);return a(C)?C:void 0}r.exports=f}),qe=h((n,r)=>{var a=Et(),c=bt(),f=a(c,"Map");r.exports=f}),te=h((n,r)=>{var a=Et(),c=a(Object,"create");r.exports=c}),we=h((n,r)=>{var a=te();function c(){this.__data__=a?a(null):{},this.size=0}r.exports=c}),Fe=h((n,r)=>{function a(c){var f=this.has(c)&&delete this.__data__[c];return this.size-=f?1:0,f}r.exports=a}),Qe=h((n,r)=>{var a=te(),c="__lodash_hash_undefined__",f=Object.prototype,m=f.hasOwnProperty;function v(C){var M=this.__data__;if(a){var B=M[C];return B===c?void 0:B}return m.call(M,C)?M[C]:void 0}r.exports=v}),ze=h((n,r)=>{var a=te(),c=Object.prototype,f=c.hasOwnProperty;function m(v){var C=this.__data__;return a?C[v]!==void 0:f.call(C,v)}r.exports=m}),Me=h((n,r)=>{var a=te(),c="__lodash_hash_undefined__";function f(m,v){var C=this.__data__;return this.size+=this.has(m)?0:1,C[m]=a&&v===void 0?c:v,this}r.exports=f}),he=h((n,r)=>{var a=we(),c=Fe(),f=Qe(),m=ze(),v=Me();function C(M){var B=-1,$=M==null?0:M.length;for(this.clear();++B<$;){var F=M[B];this.set(F[0],F[1])}}C.prototype.clear=a,C.prototype.delete=c,C.prototype.get=f,C.prototype.has=m,C.prototype.set=v,r.exports=C}),mt=h((n,r)=>{var a=he(),c=st(),f=qe();function m(){this.size=0,this.__data__={hash:new a,map:new(f||c),string:new a}}r.exports=m}),zt=h((n,r)=>{function a(c){var f=typeof c;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?c!=="__proto__":c===null}r.exports=a}),Ft=h((n,r)=>{var a=zt();function c(f,m){var v=f.__data__;return a(m)?v[typeof m=="string"?"string":"hash"]:v.map}r.exports=c}),Kt=h((n,r)=>{var a=Ft();function c(f){var m=a(this,f).delete(f);return this.size-=m?1:0,m}r.exports=c}),ke=h((n,r)=>{var a=Ft();function c(f){return a(this,f).get(f)}r.exports=c}),Ie=h((n,r)=>{var a=Ft();function c(f){return a(this,f).has(f)}r.exports=c}),z=h((n,r)=>{var a=Ft();function c(f,m){var v=a(this,f),C=v.size;return v.set(f,m),this.size+=v.size==C?0:1,this}r.exports=c}),H=h((n,r)=>{var a=mt(),c=Kt(),f=ke(),m=Ie(),v=z();function C(M){var B=-1,$=M==null?0:M.length;for(this.clear();++B<$;){var F=M[B];this.set(F[0],F[1])}}C.prototype.clear=a,C.prototype.delete=c,C.prototype.get=f,C.prototype.has=m,C.prototype.set=v,r.exports=C}),ut=h((n,r)=>{var a=st(),c=qe(),f=H(),m=200;function v(C,M){var B=this.__data__;if(B instanceof a){var $=B.__data__;if(!c||$.length<m-1)return $.push([C,M]),this.size=++B.size,this;B=this.__data__=new f($)}return B.set(C,M),this.size=B.size,this}r.exports=v}),kt=h((n,r)=>{var a=st(),c=xt(),f=yt(),m=j(),v=lt(),C=ut();function M(B){var $=this.__data__=new a(B);this.size=$.size}M.prototype.clear=c,M.prototype.delete=f,M.prototype.get=m,M.prototype.has=v,M.prototype.set=C,r.exports=M}),gt=h((n,r)=>{var a=Et(),c=function(){try{var f=a(Object,"defineProperty");return f({},"",{}),f}catch{}}();r.exports=c}),Bt=h((n,r)=>{var a=gt();function c(f,m,v){m=="__proto__"&&a?a(f,m,{configurable:!0,enumerable:!0,value:v,writable:!0}):f[m]=v}r.exports=c}),Nt=h((n,r)=>{var a=Bt(),c=w();function f(m,v,C){(C!==void 0&&!c(m[v],C)||C===void 0&&!(v in m))&&a(m,v,C)}r.exports=f}),Ot=h((n,r)=>{function a(c){return function(f,m,v){for(var C=-1,M=Object(f),B=v(f),$=B.length;$--;){var F=B[c?$:++C];if(m(M[F],F,M)===!1)break}return f}}r.exports=a}),Dt=h((n,r)=>{var a=Ot(),c=a();r.exports=c}),Pt=h((n,r)=>{var a=bt(),c=typeof n=="object"&&n&&!n.nodeType&&n,f=c&&typeof r=="object"&&r&&!r.nodeType&&r,m=f&&f.exports===c,v=m?a.Buffer:void 0,C=v?v.allocUnsafe:void 0;function M(B,$){if($)return B.slice();var F=B.length,it=C?C(F):new B.constructor(F);return B.copy(it),it}r.exports=M}),Ut=h((n,r)=>{var a=bt(),c=a.Uint8Array;r.exports=c}),ee=h((n,r)=>{var a=Ut();function c(f){var m=new f.constructor(f.byteLength);return new a(m).set(new a(f)),m}r.exports=c}),Xt=h((n,r)=>{var a=ee();function c(f,m){var v=m?a(f.buffer):f.buffer;return new f.constructor(v,f.byteOffset,f.length)}r.exports=c}),de=h((n,r)=>{function a(c,f){var m=-1,v=c.length;for(f||(f=Array(v));++m<v;)f[m]=c[m];return f}r.exports=a}),ve=h((n,r)=>{var a=$t(),c=Object.create,f=function(){function m(){}return function(v){if(!a(v))return{};if(c)return c(v);m.prototype=v;var C=new m;return m.prototype=void 0,C}}();r.exports=f}),Ne=h((n,r)=>{function a(c,f){return function(m){return c(f(m))}}r.exports=a}),Ee=h((n,r)=>{var a=Ne(),c=a(Object.getPrototypeOf,Object);r.exports=c}),Je=h((n,r)=>{var a=Object.prototype;function c(f){var m=f&&f.constructor,v=typeof m=="function"&&m.prototype||a;return f===v}r.exports=c}),Mn=h((n,r)=>{var a=ve(),c=Ee(),f=Je();function m(v){return typeof v.constructor=="function"&&!f(v)?a(c(v)):{}}r.exports=m}),An=h((n,r)=>{function a(c){return c!=null&&typeof c=="object"}r.exports=a}),Mr=h((n,r)=>{var a=Tt(),c=An(),f="[object Arguments]";function m(v){return c(v)&&a(v)==f}r.exports=m}),ei=h((n,r)=>{var a=Mr(),c=An(),f=Object.prototype,m=f.hasOwnProperty,v=f.propertyIsEnumerable,C=a(function(){return arguments}())?a:function(M){return c(M)&&m.call(M,"callee")&&!v.call(M,"callee")};r.exports=C}),fi=h((n,r)=>{var a=Array.isArray;r.exports=a}),yn=h((n,r)=>{var a=9007199254740991;function c(f){return typeof f=="number"&&f>-1&&f%1==0&&f<=a}r.exports=c}),un=h((n,r)=>{var a=St(),c=yn();function f(m){return m!=null&&c(m.length)&&!a(m)}r.exports=f}),ro=h((n,r)=>{var a=un(),c=An();function f(m){return c(m)&&a(m)}r.exports=f}),Kl=h((n,r)=>{function a(){return!1}r.exports=a}),Yo=h((n,r)=>{var a=bt(),c=Kl(),f=typeof n=="object"&&n&&!n.nodeType&&n,m=f&&typeof r=="object"&&r&&!r.nodeType&&r,v=m&&m.exports===f,C=v?a.Buffer:void 0,M=C?C.isBuffer:void 0,B=M||c;r.exports=B}),ua=h((n,r)=>{var a=Tt(),c=Ee(),f=An(),m="[object Object]",v=Function.prototype,C=Object.prototype,M=v.toString,B=C.hasOwnProperty,$=M.call(Object);function F(it){if(!f(it)||a(it)!=m)return!1;var ht=c(it);if(ht===null)return!0;var Mt=B.call(ht,"constructor")&&ht.constructor;return typeof Mt=="function"&&Mt instanceof Mt&&M.call(Mt)==$}r.exports=F}),ca=h((n,r)=>{var a=Tt(),c=yn(),f=An(),m="[object Arguments]",v="[object Array]",C="[object Boolean]",M="[object Date]",B="[object Error]",$="[object Function]",F="[object Map]",it="[object Number]",ht="[object Object]",Mt="[object RegExp]",Vt="[object Set]",qt="[object String]",Pe="[object WeakMap]",V="[object ArrayBuffer]",Z="[object DataView]",Y="[object Float32Array]",ct="[object Float64Array]",X="[object Int8Array]",at="[object Int16Array]",E="[object Int32Array]",S="[object Uint8Array]",O="[object Uint8ClampedArray]",A="[object Uint16Array]",D="[object Uint32Array]",R={};R[Y]=R[ct]=R[X]=R[at]=R[E]=R[S]=R[O]=R[A]=R[D]=!0,R[m]=R[v]=R[V]=R[C]=R[Z]=R[M]=R[B]=R[$]=R[F]=R[it]=R[ht]=R[Mt]=R[Vt]=R[qt]=R[Pe]=!1;function K(q){return f(q)&&c(q.length)&&!!R[a(q)]}r.exports=K}),Wl=h((n,r)=>{function a(c){return function(f){return c(f)}}r.exports=a}),Jl=h((n,r)=>{var a=vt(),c=typeof n=="object"&&n&&!n.nodeType&&n,f=c&&typeof r=="object"&&r&&!r.nodeType&&r,m=f&&f.exports===c,v=m&&a.process,C=function(){try{var M=f&&f.require&&f.require("util").types;return M||v&&v.binding&&v.binding("util")}catch{}}();r.exports=C}),ha=h((n,r)=>{var a=ca(),c=Wl(),f=Jl(),m=f&&f.isTypedArray,v=m?c(m):a;r.exports=v}),da=h((n,r)=>{function a(c,f){if(!(f==="constructor"&&typeof c[f]=="function")&&f!="__proto__")return c[f]}r.exports=a}),Yl=h((n,r)=>{var a=Bt(),c=w(),f=Object.prototype,m=f.hasOwnProperty;function v(C,M,B){var $=C[M];(!(m.call(C,M)&&c($,B))||B===void 0&&!(M in C))&&a(C,M,B)}r.exports=v}),Xl=h((n,r)=>{var a=Yl(),c=Bt();function f(m,v,C,M){var B=!C;C||(C={});for(var $=-1,F=v.length;++$<F;){var it=v[$],ht=M?M(C[it],m[it],it,C,m):void 0;ht===void 0&&(ht=m[it]),B?c(C,it,ht):a(C,it,ht)}return C}r.exports=f}),Xo=h((n,r)=>{function a(c,f){for(var m=-1,v=Array(c);++m<c;)v[m]=f(m);return v}r.exports=a}),pa=h((n,r)=>{var a=9007199254740991,c=/^(?:0|[1-9]\d*)$/;function f(m,v){var C=typeof m;return v=v??a,!!v&&(C=="number"||C!="symbol"&&c.test(m))&&m>-1&&m%1==0&&m<v}r.exports=f}),Ql=h((n,r)=>{var a=Xo(),c=ei(),f=fi(),m=Yo(),v=pa(),C=ha(),M=Object.prototype,B=M.hasOwnProperty;function $(F,it){var ht=f(F),Mt=!ht&&c(F),Vt=!ht&&!Mt&&m(F),qt=!ht&&!Mt&&!Vt&&C(F),Pe=ht||Mt||Vt||qt,V=Pe?a(F.length,String):[],Z=V.length;for(var Y in F)(it||B.call(F,Y))&&!(Pe&&(Y=="length"||Vt&&(Y=="offset"||Y=="parent")||qt&&(Y=="buffer"||Y=="byteLength"||Y=="byteOffset")||v(Y,Z)))&&V.push(Y);return V}r.exports=$}),tu=h((n,r)=>{function a(c){var f=[];if(c!=null)for(var m in Object(c))f.push(m);return f}r.exports=a}),eu=h((n,r)=>{var a=$t(),c=Je(),f=tu(),m=Object.prototype,v=m.hasOwnProperty;function C(M){if(!a(M))return f(M);var B=c(M),$=[];for(var F in M)F=="constructor"&&(B||!v.call(M,F))||$.push(F);return $}r.exports=C}),Wn=h((n,r)=>{var a=Ql(),c=eu(),f=un();function m(v){return f(v)?a(v,!0):c(v)}r.exports=m}),ne=h((n,r)=>{var a=Xl(),c=Wn();function f(m){return a(m,c(m))}r.exports=f}),fa=h((n,r)=>{var a=Nt(),c=Pt(),f=Xt(),m=de(),v=Mn(),C=ei(),M=fi(),B=ro(),$=Yo(),F=St(),it=$t(),ht=ua(),Mt=ha(),Vt=da(),qt=ne();function Pe(V,Z,Y,ct,X,at,E){var S=Vt(V,Y),O=Vt(Z,Y),A=E.get(O);if(A){a(V,Y,A);return}var D=at?at(S,O,Y+"",V,Z,E):void 0,R=D===void 0;if(R){var K=M(O),q=!K&&$(O),W=!K&&!q&&Mt(O);D=O,K||q||W?M(S)?D=S:B(S)?D=m(S):q?(R=!1,D=c(O,!0)):W?(R=!1,D=f(O,!0)):D=[]:ht(O)||C(O)?(D=S,C(S)?D=qt(S):(!it(S)||F(S))&&(D=v(O))):R=!1}R&&(E.set(O,D),X(D,O,ct,at,E),E.delete(O)),a(V,Y,D)}r.exports=Pe}),_a=h((n,r)=>{var a=kt(),c=Nt(),f=Dt(),m=fa(),v=$t(),C=Wn(),M=da();function B($,F,it,ht,Mt){$!==F&&f(F,function(Vt,qt){if(Mt||(Mt=new a),v(Vt))m($,F,qt,it,B,ht,Mt);else{var Pe=ht?ht(M($,qt),Vt,qt+"",$,F,Mt):void 0;Pe===void 0&&(Pe=Vt),c($,qt,Pe)}},C)}r.exports=B}),Qo=h((n,r)=>{function a(c){return c}r.exports=a}),ma=h((n,r)=>{function a(c,f,m){switch(m.length){case 0:return c.call(f);case 1:return c.call(f,m[0]);case 2:return c.call(f,m[0],m[1]);case 3:return c.call(f,m[0],m[1],m[2])}return c.apply(f,m)}r.exports=a}),ts=h((n,r)=>{var a=ma(),c=Math.max;function f(m,v,C){return v=c(v===void 0?m.length-1:v,0),function(){for(var M=arguments,B=-1,$=c(M.length-v,0),F=Array($);++B<$;)F[B]=M[v+B];B=-1;for(var it=Array(v+1);++B<v;)it[B]=M[B];return it[v]=C(F),a(m,this,it)}}r.exports=f}),ga=h((n,r)=>{function a(c){return function(){return c}}r.exports=a}),Ji=h((n,r)=>{var a=ga(),c=gt(),f=Qo(),m=c?function(v,C){return c(v,"toString",{configurable:!0,enumerable:!1,value:a(C),writable:!0})}:f;r.exports=m}),ya=h((n,r)=>{var a=800,c=16,f=Date.now;function m(v){var C=0,M=0;return function(){var B=f(),$=c-(B-M);if(M=B,$>0){if(++C>=a)return arguments[0]}else C=0;return v.apply(void 0,arguments)}}r.exports=m}),nu=h((n,r)=>{var a=Ji(),c=ya(),f=c(a);r.exports=f}),iu=h((n,r)=>{var a=Qo(),c=ts(),f=nu();function m(v,C){return f(c(v,C,a),v+"")}r.exports=m}),ru=h((n,r)=>{var a=w(),c=un(),f=pa(),m=$t();function v(C,M,B){if(!m(B))return!1;var $=typeof M;return($=="number"?c(B)&&f(M,B.length):$=="string"&&M in B)?a(B[M],C):!1}r.exports=v}),ou=h((n,r)=>{var a=iu(),c=ru();function f(m){return a(function(v,C){var M=-1,B=C.length,$=B>1?C[B-1]:void 0,F=B>2?C[2]:void 0;for($=m.length>3&&typeof $=="function"?(B--,$):void 0,F&&c(C[0],C[1],F)&&($=B<3?void 0:$,B=1),v=Object(v);++M<B;){var it=C[M];it&&m(v,it,M,$)}return v})}r.exports=f}),oo=h((n,r)=>{var a=_a(),c=ou(),f=c(function(m,v,C){a(m,v,C)});r.exports=f}),es=h((n,r)=>{var a=Tt(),c=An(),f="[object Symbol]";function m(v){return typeof v=="symbol"||c(v)&&a(v)==f}r.exports=m}),so=h((n,r)=>{var a=fi(),c=es(),f=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,m=/^\w*$/;function v(C,M){if(a(C))return!1;var B=typeof C;return B=="number"||B=="symbol"||B=="boolean"||C==null||c(C)?!0:m.test(C)||!f.test(C)||M!=null&&C in Object(M)}r.exports=v}),su=h((n,r)=>{var a=H(),c="Expected a function";function f(m,v){if(typeof m!="function"||v!=null&&typeof v!="function")throw new TypeError(c);var C=function(){var M=arguments,B=v?v.apply(this,M):M[0],$=C.cache;if($.has(B))return $.get(B);var F=m.apply(this,M);return C.cache=$.set(B,F)||$,F};return C.cache=new(f.Cache||a),C}f.Cache=a,r.exports=f}),au=h((n,r)=>{var a=su(),c=500;function f(m){var v=a(m,function(M){return C.size===c&&C.clear(),M}),C=v.cache;return v}r.exports=f}),lu=h((n,r)=>{var a=au(),c=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,f=/\\(\\)?/g,m=a(function(v){var C=[];return v.charCodeAt(0)===46&&C.push(""),v.replace(c,function(M,B,$,F){C.push($?F.replace(f,"$1"):B||M)}),C});r.exports=m}),uu=h((n,r)=>{function a(c,f){for(var m=-1,v=c==null?0:c.length,C=Array(v);++m<v;)C[m]=f(c[m],m,c);return C}r.exports=a}),cu=h((n,r)=>{var a=It(),c=uu(),f=fi(),m=es(),v=1/0,C=a?a.prototype:void 0,M=C?C.toString:void 0;function B($){if(typeof $=="string")return $;if(f($))return c($,B)+"";if(m($))return M?M.call($):"";var F=$+"";return F=="0"&&1/$==-v?"-0":F}r.exports=B}),ns=h((n,r)=>{var a=cu();function c(f){return f==null?"":a(f)}r.exports=c}),Er=h((n,r)=>{var a=fi(),c=so(),f=lu(),m=ns();function v(C,M){return a(C)?C:c(C,M)?[C]:f(m(C))}r.exports=v}),va=h((n,r)=>{var a=es(),c=1/0;function f(m){if(typeof m=="string"||a(m))return m;var v=m+"";return v=="0"&&1/m==-c?"-0":v}r.exports=f}),ba=h((n,r)=>{var a=Er(),c=va();function f(m,v){v=a(v,m);for(var C=0,M=v.length;m!=null&&C<M;)m=m[c(v[C++])];return C&&C==M?m:void 0}r.exports=f}),wi=h((n,r)=>{var a=ba();function c(f,m,v){var C=f==null?void 0:a(f,m);return C===void 0?v:C}r.exports=c}),Te=h((n,r)=>{(function(a,c){typeof n=="object"&&typeof r<"u"?r.exports=c():(a=a||self).RBush=c()})(n,function(){function a(V,Z,Y,ct,X){(function at(E,S,O,A,D){for(;A>O;){if(A-O>600){var R=A-O+1,K=S-O+1,q=Math.log(R),W=.5*Math.exp(2*q/3),nt=.5*Math.sqrt(q*W*(R-W)/R)*(K-R/2<0?-1:1),et=Math.max(O,Math.floor(S-K*W/R+nt)),Lt=Math.min(A,Math.floor(S+(R-K)*W/R+nt));at(E,S,et,Lt,D)}var Zt=E[S],Wt=O,se=A;for(c(E,O,S),D(E[A],Zt)>0&&c(E,O,A);Wt<se;){for(c(E,Wt,se),Wt++,se--;D(E[Wt],Zt)<0;)Wt++;for(;D(E[se],Zt)>0;)se--}D(E[O],Zt)===0?c(E,O,se):c(E,++se,A),se<=S&&(O=se+1),S<=se&&(A=se-1)}})(V,Z,Y||0,ct||V.length-1,X||f)}function c(V,Z,Y){var ct=V[Z];V[Z]=V[Y],V[Y]=ct}function f(V,Z){return V<Z?-1:V>Z?1:0}var m=function(V){V===void 0&&(V=9),this._maxEntries=Math.max(4,V),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function v(V,Z,Y){if(!Y)return Z.indexOf(V);for(var ct=0;ct<Z.length;ct++)if(Y(V,Z[ct]))return ct;return-1}function C(V,Z){M(V,0,V.children.length,Z,V)}function M(V,Z,Y,ct,X){X||(X=qt(null)),X.minX=1/0,X.minY=1/0,X.maxX=-1/0,X.maxY=-1/0;for(var at=Z;at<Y;at++){var E=V.children[at];B(X,V.leaf?ct(E):E)}return X}function B(V,Z){return V.minX=Math.min(V.minX,Z.minX),V.minY=Math.min(V.minY,Z.minY),V.maxX=Math.max(V.maxX,Z.maxX),V.maxY=Math.max(V.maxY,Z.maxY),V}function $(V,Z){return V.minX-Z.minX}function F(V,Z){return V.minY-Z.minY}function it(V){return(V.maxX-V.minX)*(V.maxY-V.minY)}function ht(V){return V.maxX-V.minX+(V.maxY-V.minY)}function Mt(V,Z){return V.minX<=Z.minX&&V.minY<=Z.minY&&Z.maxX<=V.maxX&&Z.maxY<=V.maxY}function Vt(V,Z){return Z.minX<=V.maxX&&Z.minY<=V.maxY&&Z.maxX>=V.minX&&Z.maxY>=V.minY}function qt(V){return{children:V,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Pe(V,Z,Y,ct,X){for(var at=[Z,Y];at.length;)if(!((Y=at.pop())-(Z=at.pop())<=ct)){var E=Z+Math.ceil((Y-Z)/ct/2)*ct;a(V,E,Z,Y,X),at.push(Z,E,E,Y)}}return m.prototype.all=function(){return this._all(this.data,[])},m.prototype.search=function(V){var Z=this.data,Y=[];if(!Vt(V,Z))return Y;for(var ct=this.toBBox,X=[];Z;){for(var at=0;at<Z.children.length;at++){var E=Z.children[at],S=Z.leaf?ct(E):E;Vt(V,S)&&(Z.leaf?Y.push(E):Mt(V,S)?this._all(E,Y):X.push(E))}Z=X.pop()}return Y},m.prototype.collides=function(V){var Z=this.data;if(!Vt(V,Z))return!1;for(var Y=[];Z;){for(var ct=0;ct<Z.children.length;ct++){var X=Z.children[ct],at=Z.leaf?this.toBBox(X):X;if(Vt(V,at)){if(Z.leaf||Mt(V,at))return!0;Y.push(X)}}Z=Y.pop()}return!1},m.prototype.load=function(V){if(!V||!V.length)return this;if(V.length<this._minEntries){for(var Z=0;Z<V.length;Z++)this.insert(V[Z]);return this}var Y=this._build(V.slice(),0,V.length-1,0);if(this.data.children.length)if(this.data.height===Y.height)this._splitRoot(this.data,Y);else{if(this.data.height<Y.height){var ct=this.data;this.data=Y,Y=ct}this._insert(Y,this.data.height-Y.height-1,!0)}else this.data=Y;return this},m.prototype.insert=function(V){return V&&this._insert(V,this.data.height-1),this},m.prototype.clear=function(){return this.data=qt([]),this},m.prototype.remove=function(V,Z){if(!V)return this;for(var Y,ct,X,at=this.data,E=this.toBBox(V),S=[],O=[];at||S.length;){if(at||(at=S.pop(),ct=S[S.length-1],Y=O.pop(),X=!0),at.leaf){var A=v(V,at.children,Z);if(A!==-1)return at.children.splice(A,1),S.push(at),this._condense(S),this}X||at.leaf||!Mt(at,E)?ct?(Y++,at=ct.children[Y],X=!1):at=null:(S.push(at),O.push(Y),Y=0,ct=at,at=at.children[0])}return this},m.prototype.toBBox=function(V){return V},m.prototype.compareMinX=function(V,Z){return V.minX-Z.minX},m.prototype.compareMinY=function(V,Z){return V.minY-Z.minY},m.prototype.toJSON=function(){return this.data},m.prototype.fromJSON=function(V){return this.data=V,this},m.prototype._all=function(V,Z){for(var Y=[];V;)V.leaf?Z.push.apply(Z,V.children):Y.push.apply(Y,V.children),V=Y.pop();return Z},m.prototype._build=function(V,Z,Y,ct){var X,at=Y-Z+1,E=this._maxEntries;if(at<=E)return C(X=qt(V.slice(Z,Y+1)),this.toBBox),X;ct||(ct=Math.ceil(Math.log(at)/Math.log(E)),E=Math.ceil(at/Math.pow(E,ct-1))),(X=qt([])).leaf=!1,X.height=ct;var S=Math.ceil(at/E),O=S*Math.ceil(Math.sqrt(E));Pe(V,Z,Y,O,this.compareMinX);for(var A=Z;A<=Y;A+=O){var D=Math.min(A+O-1,Y);Pe(V,A,D,S,this.compareMinY);for(var R=A;R<=D;R+=S){var K=Math.min(R+S-1,D);X.children.push(this._build(V,R,K,ct-1))}}return C(X,this.toBBox),X},m.prototype._chooseSubtree=function(V,Z,Y,ct){for(;ct.push(Z),!Z.leaf&&ct.length-1!==Y;){for(var X=1/0,at=1/0,E=void 0,S=0;S<Z.children.length;S++){var O=Z.children[S],A=it(O),D=(R=V,K=O,(Math.max(K.maxX,R.maxX)-Math.min(K.minX,R.minX))*(Math.max(K.maxY,R.maxY)-Math.min(K.minY,R.minY))-A);D<at?(at=D,X=A<X?A:X,E=O):D===at&&A<X&&(X=A,E=O)}Z=E||Z.children[0]}var R,K;return Z},m.prototype._insert=function(V,Z,Y){var ct=Y?V:this.toBBox(V),X=[],at=this._chooseSubtree(ct,this.data,Z,X);for(at.children.push(V),B(at,ct);Z>=0&&X[Z].children.length>this._maxEntries;)this._split(X,Z),Z--;this._adjustParentBBoxes(ct,X,Z)},m.prototype._split=function(V,Z){var Y=V[Z],ct=Y.children.length,X=this._minEntries;this._chooseSplitAxis(Y,X,ct);var at=this._chooseSplitIndex(Y,X,ct),E=qt(Y.children.splice(at,Y.children.length-at));E.height=Y.height,E.leaf=Y.leaf,C(Y,this.toBBox),C(E,this.toBBox),Z?V[Z-1].children.push(E):this._splitRoot(Y,E)},m.prototype._splitRoot=function(V,Z){this.data=qt([V,Z]),this.data.height=V.height+1,this.data.leaf=!1,C(this.data,this.toBBox)},m.prototype._chooseSplitIndex=function(V,Z,Y){for(var ct,X,at,E,S,O,A,D=1/0,R=1/0,K=Z;K<=Y-Z;K++){var q=M(V,0,K,this.toBBox),W=M(V,K,Y,this.toBBox),nt=(X=q,at=W,E=void 0,S=void 0,O=void 0,A=void 0,E=Math.max(X.minX,at.minX),S=Math.max(X.minY,at.minY),O=Math.min(X.maxX,at.maxX),A=Math.min(X.maxY,at.maxY),Math.max(0,O-E)*Math.max(0,A-S)),et=it(q)+it(W);nt<D?(D=nt,ct=K,R=et<R?et:R):nt===D&&et<R&&(R=et,ct=K)}return ct||Y-Z},m.prototype._chooseSplitAxis=function(V,Z,Y){var ct=V.leaf?this.compareMinX:$,X=V.leaf?this.compareMinY:F;this._allDistMargin(V,Z,Y,ct)<this._allDistMargin(V,Z,Y,X)&&V.children.sort(ct)},m.prototype._allDistMargin=function(V,Z,Y,ct){V.children.sort(ct);for(var X=this.toBBox,at=M(V,0,Z,X),E=M(V,Y-Z,Y,X),S=ht(at)+ht(E),O=Z;O<Y-Z;O++){var A=V.children[O];B(at,V.leaf?X(A):A),S+=ht(at)}for(var D=Y-Z-1;D>=Z;D--){var R=V.children[D];B(E,V.leaf?X(R):R),S+=ht(E)}return S},m.prototype._adjustParentBBoxes=function(V,Z,Y){for(var ct=Y;ct>=0;ct--)B(Z[ct],V)},m.prototype._condense=function(V){for(var Z=V.length-1,Y=void 0;Z>=0;Z--)V[Z].children.length===0?Z>0?(Y=V[Z-1].children).splice(Y.indexOf(V[Z]),1):this.clear():C(V[Z],this.toBBox)},m})}),Ze=h(n=>{Object.defineProperty(n,"__esModule",{value:!0}),n.earthRadius=63710088e-1,n.factors={centimeters:n.earthRadius*100,centimetres:n.earthRadius*100,degrees:n.earthRadius/111325,feet:n.earthRadius*3.28084,inches:n.earthRadius*39.37,kilometers:n.earthRadius/1e3,kilometres:n.earthRadius/1e3,meters:n.earthRadius,metres:n.earthRadius,miles:n.earthRadius/1609.344,millimeters:n.earthRadius*1e3,millimetres:n.earthRadius*1e3,nauticalmiles:n.earthRadius/1852,radians:1,yards:n.earthRadius*1.0936},n.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/n.earthRadius,yards:1.0936133},n.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function r(A,D,R){R===void 0&&(R={});var K={type:"Feature"};return(R.id===0||R.id)&&(K.id=R.id),R.bbox&&(K.bbox=R.bbox),K.properties=D||{},K.geometry=A,K}n.feature=r;function a(A,D,R){switch(A){case"Point":return c(D).geometry;case"LineString":return C(D).geometry;case"Polygon":return m(D).geometry;case"MultiPoint":return F(D).geometry;case"MultiLineString":return $(D).geometry;case"MultiPolygon":return it(D).geometry;default:throw new Error(A+" is invalid")}}n.geometry=a;function c(A,D,R){if(R===void 0&&(R={}),!A)throw new Error("coordinates is required");if(!Array.isArray(A))throw new Error("coordinates must be an Array");if(A.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!at(A[0])||!at(A[1]))throw new Error("coordinates must contain numbers");var K={type:"Point",coordinates:A};return r(K,D,R)}n.point=c;function f(A,D,R){return R===void 0&&(R={}),B(A.map(function(K){return c(K,D)}),R)}n.points=f;function m(A,D,R){R===void 0&&(R={});for(var K=0,q=A;K<q.length;K++){var W=q[K];if(W.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var nt=0;nt<W[W.length-1].length;nt++)if(W[W.length-1][nt]!==W[0][nt])throw new Error("First and last Position are not equivalent.")}var et={type:"Polygon",coordinates:A};return r(et,D,R)}n.polygon=m;function v(A,D,R){return R===void 0&&(R={}),B(A.map(function(K){return m(K,D)}),R)}n.polygons=v;function C(A,D,R){if(R===void 0&&(R={}),A.length<2)throw new Error("coordinates must be an array of two or more positions");var K={type:"LineString",coordinates:A};return r(K,D,R)}n.lineString=C;function M(A,D,R){return R===void 0&&(R={}),B(A.map(function(K){return C(K,D)}),R)}n.lineStrings=M;function B(A,D){D===void 0&&(D={});var R={type:"FeatureCollection"};return D.id&&(R.id=D.id),D.bbox&&(R.bbox=D.bbox),R.features=A,R}n.featureCollection=B;function $(A,D,R){R===void 0&&(R={});var K={type:"MultiLineString",coordinates:A};return r(K,D,R)}n.multiLineString=$;function F(A,D,R){R===void 0&&(R={});var K={type:"MultiPoint",coordinates:A};return r(K,D,R)}n.multiPoint=F;function it(A,D,R){R===void 0&&(R={});var K={type:"MultiPolygon",coordinates:A};return r(K,D,R)}n.multiPolygon=it;function ht(A,D,R){R===void 0&&(R={});var K={type:"GeometryCollection",geometries:A};return r(K,D,R)}n.geometryCollection=ht;function Mt(A,D){if(D===void 0&&(D=0),D&&!(D>=0))throw new Error("precision must be a positive number");var R=Math.pow(10,D||0);return Math.round(A*R)/R}n.round=Mt;function Vt(A,D){D===void 0&&(D="kilometers");var R=n.factors[D];if(!R)throw new Error(D+" units is invalid");return A*R}n.radiansToLength=Vt;function qt(A,D){D===void 0&&(D="kilometers");var R=n.factors[D];if(!R)throw new Error(D+" units is invalid");return A/R}n.lengthToRadians=qt;function Pe(A,D){return Z(qt(A,D))}n.lengthToDegrees=Pe;function V(A){var D=A%360;return D<0&&(D+=360),D}n.bearingToAzimuth=V;function Z(A){var D=A%(2*Math.PI);return D*180/Math.PI}n.radiansToDegrees=Z;function Y(A){var D=A%360;return D*Math.PI/180}n.degreesToRadians=Y;function ct(A,D,R){if(D===void 0&&(D="kilometers"),R===void 0&&(R="kilometers"),!(A>=0))throw new Error("length must be a positive number");return Vt(qt(A,D),R)}n.convertLength=ct;function X(A,D,R){if(D===void 0&&(D="meters"),R===void 0&&(R="kilometers"),!(A>=0))throw new Error("area must be a positive number");var K=n.areaFactors[D];if(!K)throw new Error("invalid original units");var q=n.areaFactors[R];if(!q)throw new Error("invalid final units");return A/K*q}n.convertArea=X;function at(A){return!isNaN(A)&&A!==null&&!Array.isArray(A)}n.isNumber=at;function E(A){return!!A&&A.constructor===Object}n.isObject=E;function S(A){if(!A)throw new Error("bbox is required");if(!Array.isArray(A))throw new Error("bbox must be an Array");if(A.length!==4&&A.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");A.forEach(function(D){if(!at(D))throw new Error("bbox must only contain numbers")})}n.validateBBox=S;function O(A){if(!A)throw new Error("id is required");if(["string","number"].indexOf(typeof A)===-1)throw new Error("id must be a number or a string")}n.validateId=O}),Br=h(n=>{Object.defineProperty(n,"__esModule",{value:!0});var r=Ze();function a(Z,Y,ct){if(Z!==null)for(var X,at,E,S,O,A,D,R=0,K=0,q,W=Z.type,nt=W==="FeatureCollection",et=W==="Feature",Lt=nt?Z.features.length:1,Zt=0;Zt<Lt;Zt++){D=nt?Z.features[Zt].geometry:et?Z.geometry:Z,q=D?D.type==="GeometryCollection":!1,O=q?D.geometries.length:1;for(var Wt=0;Wt<O;Wt++){var se=0,je=0;if(S=q?D.geometries[Wt]:D,S!==null){A=S.coordinates;var Ge=S.type;switch(R=ct&&(Ge==="Polygon"||Ge==="MultiPolygon")?1:0,Ge){case null:break;case"Point":if(Y(A,K,Zt,se,je)===!1)return!1;K++,se++;break;case"LineString":case"MultiPoint":for(X=0;X<A.length;X++){if(Y(A[X],K,Zt,se,je)===!1)return!1;K++,Ge==="MultiPoint"&&se++}Ge==="LineString"&&se++;break;case"Polygon":case"MultiLineString":for(X=0;X<A.length;X++){for(at=0;at<A[X].length-R;at++){if(Y(A[X][at],K,Zt,se,je)===!1)return!1;K++}Ge==="MultiLineString"&&se++,Ge==="Polygon"&&je++}Ge==="Polygon"&&se++;break;case"MultiPolygon":for(X=0;X<A.length;X++){for(je=0,at=0;at<A[X].length;at++){for(E=0;E<A[X][at].length-R;E++){if(Y(A[X][at][E],K,Zt,se,je)===!1)return!1;K++}je++}se++}break;case"GeometryCollection":for(X=0;X<S.geometries.length;X++)if(a(S.geometries[X],Y,ct)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function c(Z,Y,ct,X){var at=ct;return a(Z,function(E,S,O,A,D){S===0&&ct===void 0?at=E:at=Y(at,E,S,O,A,D)},X),at}function f(Z,Y){var ct;switch(Z.type){case"FeatureCollection":for(ct=0;ct<Z.features.length&&Y(Z.features[ct].properties,ct)!==!1;ct++);break;case"Feature":Y(Z.properties,0);break}}function m(Z,Y,ct){var X=ct;return f(Z,function(at,E){E===0&&ct===void 0?X=at:X=Y(X,at,E)}),X}function v(Z,Y){if(Z.type==="Feature")Y(Z,0);else if(Z.type==="FeatureCollection")for(var ct=0;ct<Z.features.length&&Y(Z.features[ct],ct)!==!1;ct++);}function C(Z,Y,ct){var X=ct;return v(Z,function(at,E){E===0&&ct===void 0?X=at:X=Y(X,at,E)}),X}function M(Z){var Y=[];return a(Z,function(ct){Y.push(ct)}),Y}function B(Z,Y){var ct,X,at,E,S,O,A,D,R,K,q=0,W=Z.type==="FeatureCollection",nt=Z.type==="Feature",et=W?Z.features.length:1;for(ct=0;ct<et;ct++){for(O=W?Z.features[ct].geometry:nt?Z.geometry:Z,D=W?Z.features[ct].properties:nt?Z.properties:{},R=W?Z.features[ct].bbox:nt?Z.bbox:void 0,K=W?Z.features[ct].id:nt?Z.id:void 0,A=O?O.type==="GeometryCollection":!1,S=A?O.geometries.length:1,at=0;at<S;at++){if(E=A?O.geometries[at]:O,E===null){if(Y(null,q,D,R,K)===!1)return!1;continue}switch(E.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(Y(E,q,D,R,K)===!1)return!1;break}case"GeometryCollection":{for(X=0;X<E.geometries.length;X++)if(Y(E.geometries[X],q,D,R,K)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}q++}}function $(Z,Y,ct){var X=ct;return B(Z,function(at,E,S,O,A){E===0&&ct===void 0?X=at:X=Y(X,at,E,S,O,A)}),X}function F(Z,Y){B(Z,function(ct,X,at,E,S){var O=ct===null?null:ct.type;switch(O){case null:case"Point":case"LineString":case"Polygon":return Y(r.feature(ct,at,{bbox:E,id:S}),X,0)===!1?!1:void 0}var A;switch(O){case"MultiPoint":A="Point";break;case"MultiLineString":A="LineString";break;case"MultiPolygon":A="Polygon";break}for(var D=0;D<ct.coordinates.length;D++){var R=ct.coordinates[D],K={type:A,coordinates:R};if(Y(r.feature(K,at),X,D)===!1)return!1}})}function it(Z,Y,ct){var X=ct;return F(Z,function(at,E,S){E===0&&S===0&&ct===void 0?X=at:X=Y(X,at,E,S)}),X}function ht(Z,Y){F(Z,function(ct,X,at){var E=0;if(ct.geometry){var S=ct.geometry.type;if(!(S==="Point"||S==="MultiPoint")){var O,A=0,D=0,R=0;if(a(ct,function(K,q,W,nt,et){if(O===void 0||X>A||nt>D||et>R){O=K,A=X,D=nt,R=et,E=0;return}var Lt=r.lineString([O,K],ct.properties);if(Y(Lt,X,at,et,E)===!1)return!1;E++,O=K})===!1)return!1}}})}function Mt(Z,Y,ct){var X=ct,at=!1;return ht(Z,function(E,S,O,A,D){at===!1&&ct===void 0?X=E:X=Y(X,E,S,O,A,D),at=!0}),X}function Vt(Z,Y){if(!Z)throw new Error("geojson is required");F(Z,function(ct,X,at){if(ct.geometry!==null){var E=ct.geometry.type,S=ct.geometry.coordinates;switch(E){case"LineString":if(Y(ct,X,at,0,0)===!1)return!1;break;case"Polygon":for(var O=0;O<S.length;O++)if(Y(r.lineString(S[O],ct.properties),X,at,O)===!1)return!1;break}}})}function qt(Z,Y,ct){var X=ct;return Vt(Z,function(at,E,S,O){E===0&&ct===void 0?X=at:X=Y(X,at,E,S,O)}),X}function Pe(Z,Y){if(Y=Y||{},!r.isObject(Y))throw new Error("options is invalid");var ct=Y.featureIndex||0,X=Y.multiFeatureIndex||0,at=Y.geometryIndex||0,E=Y.segmentIndex||0,S=Y.properties,O;switch(Z.type){case"FeatureCollection":ct<0&&(ct=Z.features.length+ct),S=S||Z.features[ct].properties,O=Z.features[ct].geometry;break;case"Feature":S=S||Z.properties,O=Z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":O=Z;break;default:throw new Error("geojson is invalid")}if(O===null)return null;var A=O.coordinates;switch(O.type){case"Point":case"MultiPoint":return null;case"LineString":return E<0&&(E=A.length+E-1),r.lineString([A[E],A[E+1]],S,Y);case"Polygon":return at<0&&(at=A.length+at),E<0&&(E=A[at].length+E-1),r.lineString([A[at][E],A[at][E+1]],S,Y);case"MultiLineString":return X<0&&(X=A.length+X),E<0&&(E=A[X].length+E-1),r.lineString([A[X][E],A[X][E+1]],S,Y);case"MultiPolygon":return X<0&&(X=A.length+X),at<0&&(at=A[X].length+at),E<0&&(E=A[X][at].length-E-1),r.lineString([A[X][at][E],A[X][at][E+1]],S,Y)}throw new Error("geojson is invalid")}function V(Z,Y){if(Y=Y||{},!r.isObject(Y))throw new Error("options is invalid");var ct=Y.featureIndex||0,X=Y.multiFeatureIndex||0,at=Y.geometryIndex||0,E=Y.coordIndex||0,S=Y.properties,O;switch(Z.type){case"FeatureCollection":ct<0&&(ct=Z.features.length+ct),S=S||Z.features[ct].properties,O=Z.features[ct].geometry;break;case"Feature":S=S||Z.properties,O=Z.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":O=Z;break;default:throw new Error("geojson is invalid")}if(O===null)return null;var A=O.coordinates;switch(O.type){case"Point":return r.point(A,S,Y);case"MultiPoint":return X<0&&(X=A.length+X),r.point(A[X],S,Y);case"LineString":return E<0&&(E=A.length+E),r.point(A[E],S,Y);case"Polygon":return at<0&&(at=A.length+at),E<0&&(E=A[at].length+E),r.point(A[at][E],S,Y);case"MultiLineString":return X<0&&(X=A.length+X),E<0&&(E=A[X].length+E),r.point(A[X][E],S,Y);case"MultiPolygon":return X<0&&(X=A.length+X),at<0&&(at=A[X].length+at),E<0&&(E=A[X][at].length-E),r.point(A[X][at][E],S,Y)}throw new Error("geojson is invalid")}n.coordAll=M,n.coordEach=a,n.coordReduce=c,n.featureEach=v,n.featureReduce=C,n.findPoint=V,n.findSegment=Pe,n.flattenEach=F,n.flattenReduce=it,n.geomEach=B,n.geomReduce=$,n.lineEach=Vt,n.lineReduce=qt,n.propEach=f,n.propReduce=m,n.segmentEach=ht,n.segmentReduce=Mt}),Yi=h(n=>{Object.defineProperty(n,"__esModule",{value:!0});var r=Br();function a(c){var f=[1/0,1/0,-1/0,-1/0];return r.coordEach(c,function(m){f[0]>m[0]&&(f[0]=m[0]),f[1]>m[1]&&(f[1]=m[1]),f[2]<m[0]&&(f[2]=m[0]),f[3]<m[1]&&(f[3]=m[1])}),f}a.default=a,n.default=a}),Di=h((n,r)=>{var a=Te(),c=Ze(),f=Br(),m=Yi().default,v=f.featureEach;f.coordEach,c.polygon;var C=c.featureCollection;function M(B){var $=new a(B);return $.insert=function(F){if(F.type!=="Feature")throw new Error("invalid feature");return F.bbox=F.bbox?F.bbox:m(F),a.prototype.insert.call(this,F)},$.load=function(F){var it=[];return Array.isArray(F)?F.forEach(function(ht){if(ht.type!=="Feature")throw new Error("invalid features");ht.bbox=ht.bbox?ht.bbox:m(ht),it.push(ht)}):v(F,function(ht){if(ht.type!=="Feature")throw new Error("invalid features");ht.bbox=ht.bbox?ht.bbox:m(ht),it.push(ht)}),a.prototype.load.call(this,it)},$.remove=function(F,it){if(F.type!=="Feature")throw new Error("invalid feature");return F.bbox=F.bbox?F.bbox:m(F),a.prototype.remove.call(this,F,it)},$.clear=function(){return a.prototype.clear.call(this)},$.search=function(F){var it=a.prototype.search.call(this,this.toBBox(F));return C(it)},$.collides=function(F){return a.prototype.collides.call(this,this.toBBox(F))},$.all=function(){var F=a.prototype.all.call(this);return C(F)},$.toJSON=function(){return a.prototype.toJSON.call(this)},$.fromJSON=function(F){return a.prototype.fromJSON.call(this,F)},$.toBBox=function(F){var it;if(F.bbox)it=F.bbox;else if(Array.isArray(F)&&F.length===4)it=F;else if(Array.isArray(F)&&F.length===6)it=[F[0],F[1],F[3],F[4]];else if(F.type==="Feature")it=m(F);else if(F.type==="FeatureCollection")it=m(F);else throw new Error("invalid geojson");return{minX:it[0],minY:it[1],maxX:it[2],maxY:it[3]}},$}r.exports=M,r.exports.default=M});Array.prototype.findIndex=Array.prototype.findIndex||function(n){if(this===null)throw new TypeError("Array.prototype.findIndex called on null or undefined");if(typeof n!="function")throw new TypeError("callback must be a function");for(var r=Object(this),a=r.length>>>0,c=arguments[1],f=0;f<a;f++)if(n.call(c,r[f],f,r))return f;return-1},Array.prototype.find=Array.prototype.find||function(n){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof n!="function")throw new TypeError("callback must be a function");for(var r=Object(this),a=r.length>>>0,c=arguments[1],f=0;f<a;f++){var m=r[f];if(n.call(c,m,f,r))return m}},typeof Object.assign!="function"&&(Object.assign=function(n){if(n==null)throw new TypeError("Cannot convert undefined or null to object");n=Object(n);for(var r=1;r<arguments.length;r++){var a=arguments[r];if(a!=null)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(n[c]=a[c])}return n}),function(n){n.forEach(function(r){r.hasOwnProperty("remove")||Object.defineProperty(r,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype]),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(n,r){if(this==null)throw new TypeError('"this" is null or not defined');var a=Object(this),c=a.length>>>0;if(c===0)return!1;var f=r|0,m=Math.max(f>=0?f:c-Math.abs(f),0);function v(C,M){return C===M||typeof C=="number"&&typeof M=="number"&&isNaN(C)&&isNaN(M)}for(;m<c;){if(v(a[m],n))return!0;m++}return!1}});var is={name:"@geoman-io/leaflet-geoman-free",version:"2.17.0",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","geoman","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet-geoman.js",types:"dist/leaflet-geoman.d.ts",dependencies:{"@turf/boolean-contains":"^6.5.0","@turf/kinks":"^6.5.0","@turf/line-intersect":"^6.5.0","@turf/line-split":"^6.5.0",lodash:"4.17.21","polyclip-ts":"^0.16.5"},devDependencies:{"@types/leaflet":"^1.7.9","cross-env":"^7.0.3",cypress:"6.9.1","cypress-wait-until":"1.7.1",esbuild:"^0.20.0",eslint:"8.56.0","eslint-config-airbnb-base":"15.0.0","eslint-config-prettier":"9.1.0","eslint-plugin-cypress":"2.15.1","eslint-plugin-import":"2.29.1",husky:"^9.0.7",leaflet:"1.9.3","lint-staged":"^15.2.1",prettier:"3.2.4","prosthetic-hand":"1.3.1","ts-node":"^10.9.2"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"pnpm run dev",dev:"cross-env DEV=true ts-node bundle.mjs",build:"ts-node bundle.mjs",test:"cypress run",cypress:"cypress open",prepare:"pnpm run build && husky","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:'eslint "{src,cypress,demo}/**/*.js" --fix ',prettier:'prettier --write "{src,cypress,demo}/**/*.{js,css}" --log-level=warn',lint:"pnpm run eslint && pnpm run prettier"},repository:{type:"git",url:"git://github.com/geoman-io/leaflet-geoman.git"},author:{name:"Geoman.io",email:"sales@geoman.io",url:"http://geoman.io"},license:"MIT",bugs:{url:"https://github.com/geoman-io/leaflet-geoman/issues"},homepage:"https://geoman.io",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0},"lint-staged":{"*.js":'eslint "{src,cypress,demo}/**/*.js" --fix',"*.{js,css,md}":'prettier --write "{src,cypress,demo}/**/*.{js,css}"'}},me=y(oo()),tn={tooltips:{placeMarker:"Click to place marker",firstVertex:"Click to place first vertex",continueLine:"Click to continue drawing",finishLine:"Click any existing marker to finish",finishPoly:"Click first marker to finish",finishRect:"Click to finish",startCircle:"Click to place circle center",finishCircle:"Click to finish circle",placeCircleMarker:"Click to place circle marker",placeText:"Click to place text",selectFirstLayerFor:"Select first layer for {action}",selectSecondLayerFor:"Select second layer for {action}"},actions:{finish:"Finish",cancel:"Cancel",removeLastVertex:"Remove Last Vertex"},buttonTitles:{drawMarkerButton:"Draw Marker",drawPolyButton:"Draw Polygons",drawLineButton:"Draw Polyline",drawCircleButton:"Draw Circle",drawRectButton:"Draw Rectangle",editButton:"Edit Layers",dragButton:"Drag Layers",cutButton:"Cut Layers",deleteButton:"Remove Layers",drawCircleMarkerButton:"Draw Circle Marker",snappingButton:"Snap dragged marker to other layers and vertices",pinningButton:"Pin shared vertices together",rotateButton:"Rotate Layers",drawTextButton:"Draw Text",scaleButton:"Scale Layers",autoTracingButton:"Auto trace Line",snapGuidesButton:"Show SnapGuides",unionButton:"Union layers",differenceButton:"Subtract layers"},measurements:{totalLength:"Length",segmentLength:"Segment length",area:"Area",radius:"Radius",perimeter:"Perimeter",height:"Height",width:"Width",coordinates:"Position",coordinatesMarker:"Position Marker"}},rs={tooltips:{placeMarker:"Platziere den Marker mit Klick",firstVertex:"Platziere den ersten Marker mit Klick",continueLine:"Klicke, um weiter zu zeichnen",finishLine:"Beende mit Klick auf existierenden Marker",finishPoly:"Beende mit Klick auf ersten Marker",finishRect:"Beende mit Klick",startCircle:"Platziere das Kreiszentrum mit Klick",finishCircle:"Beende den Kreis mit Klick",placeCircleMarker:"Platziere den Kreismarker mit Klick",placeText:"Platziere den Text mit Klick"},actions:{finish:"Beenden",cancel:"Abbrechen",removeLastVertex:"Letzten Vertex löschen"},buttonTitles:{drawMarkerButton:"Marker zeichnen",drawPolyButton:"Polygon zeichnen",drawLineButton:"Polyline zeichnen",drawCircleButton:"Kreis zeichnen",drawRectButton:"Rechteck zeichnen",editButton:"Layer editieren",dragButton:"Layer bewegen",cutButton:"Layer schneiden",deleteButton:"Layer löschen",drawCircleMarkerButton:"Kreismarker zeichnen",snappingButton:"Bewegter Layer an andere Layer oder Vertexe einhacken",pinningButton:"Vertexe an der gleichen Position verknüpfen",rotateButton:"Layer drehen",drawTextButton:"Text zeichnen",scaleButton:"Layer skalieren",autoTracingButton:"Linie automatisch nachzeichen"},measurements:{totalLength:"Länge",segmentLength:"Segment Länge",area:"Fläche",radius:"Radius",perimeter:"Umfang",height:"Höhe",width:"Breite",coordinates:"Position",coordinatesMarker:"Position Marker"}},ao={tooltips:{placeMarker:"Clicca per posizionare un Marker",firstVertex:"Clicca per posizionare il primo vertice",continueLine:"Clicca per continuare a disegnare",finishLine:"Clicca qualsiasi marker esistente per terminare",finishPoly:"Clicca il primo marker per terminare",finishRect:"Clicca per terminare",startCircle:"Clicca per posizionare il punto centrale del cerchio",finishCircle:"Clicca per terminare il cerchio",placeCircleMarker:"Clicca per posizionare un Marker del cherchio"},actions:{finish:"Termina",cancel:"Annulla",removeLastVertex:"Rimuovi l'ultimo vertice"},buttonTitles:{drawMarkerButton:"Disegna Marker",drawPolyButton:"Disegna Poligoni",drawLineButton:"Disegna Polilinea",drawCircleButton:"Disegna Cerchio",drawRectButton:"Disegna Rettangolo",editButton:"Modifica Livelli",dragButton:"Sposta Livelli",cutButton:"Ritaglia Livelli",deleteButton:"Elimina Livelli",drawCircleMarkerButton:"Disegna Marker del Cerchio",snappingButton:"Snap ha trascinato il pennarello su altri strati e vertici",pinningButton:"Pin condiviso vertici insieme",rotateButton:"Ruota livello"}},jn={tooltips:{placeMarker:"Klik untuk menempatkan marker",firstVertex:"Klik untuk menempatkan vertex pertama",continueLine:"Klik untuk meneruskan digitasi",finishLine:"Klik pada sembarang marker yang ada untuk mengakhiri",finishPoly:"Klik marker pertama untuk mengakhiri",finishRect:"Klik untuk mengakhiri",startCircle:"Klik untuk menempatkan titik pusat lingkaran",finishCircle:"Klik untuk mengakhiri lingkaran",placeCircleMarker:"Klik untuk menempatkan penanda lingkarann"},actions:{finish:"Selesai",cancel:"Batal",removeLastVertex:"Hilangkan Vertex Terakhir"},buttonTitles:{drawMarkerButton:"Digitasi Marker",drawPolyButton:"Digitasi Polygon",drawLineButton:"Digitasi Polyline",drawCircleButton:"Digitasi Lingkaran",drawRectButton:"Digitasi Segi Empat",editButton:"Edit Layer",dragButton:"Geser Layer",cutButton:"Potong Layer",deleteButton:"Hilangkan Layer",drawCircleMarkerButton:"Digitasi Penanda Lingkaran",snappingButton:"Jepretkan penanda yang ditarik ke lapisan dan simpul lain",pinningButton:"Sematkan simpul bersama bersama",rotateButton:"Putar lapisan"}},hu={tooltips:{placeMarker:"Adaugă un punct",firstVertex:"Apasă aici pentru a adăuga primul Vertex",continueLine:"Apasă aici pentru a continua desenul",finishLine:"Apasă pe orice obiect pentru a finisa desenul",finishPoly:"Apasă pe primul obiect pentru a finisa",finishRect:"Apasă pentru a finisa",startCircle:"Apasă pentru a desena un cerc",finishCircle:"Apasă pentru a finisa un cerc",placeCircleMarker:"Adaugă un punct"},actions:{finish:"Termină",cancel:"Anulează",removeLastVertex:"Șterge ultimul Vertex"},buttonTitles:{drawMarkerButton:"Adaugă o bulină",drawPolyButton:"Desenează un poligon",drawLineButton:"Desenează o linie",drawCircleButton:"Desenează un cerc",drawRectButton:"Desenează un dreptunghi",editButton:"Editează straturile",dragButton:"Mută straturile",cutButton:"Taie straturile",deleteButton:"Șterge straturile",drawCircleMarkerButton:"Desenează marcatorul cercului",snappingButton:"Fixați marcatorul glisat pe alte straturi și vârfuri",pinningButton:"Fixați vârfurile partajate împreună",rotateButton:"Rotiți stratul"}},lo={tooltips:{placeMarker:"Нажмите, чтобы нанести маркер",firstVertex:"Нажмите, чтобы нанести первый объект",continueLine:"Нажмите, чтобы продолжить рисование",finishLine:"Нажмите любой существующий маркер для завершения",finishPoly:"Выберите первую точку, чтобы закончить",finishRect:"Нажмите, чтобы закончить",startCircle:"Нажмите, чтобы добавить центр круга",finishCircle:"Нажмите, чтобы задать радиус",placeCircleMarker:"Нажмите, чтобы нанести круговой маркер"},actions:{finish:"Завершить",cancel:"Отменить",removeLastVertex:"Отменить последнее действие"},buttonTitles:{drawMarkerButton:"Добавить маркер",drawPolyButton:"Рисовать полигон",drawLineButton:"Рисовать кривую",drawCircleButton:"Рисовать круг",drawRectButton:"Рисовать прямоугольник",editButton:"Редактировать слой",dragButton:"Перенести слой",cutButton:"Вырезать слой",deleteButton:"Удалить слой",drawCircleMarkerButton:"Добавить круговой маркер",snappingButton:"Привязать перетаскиваемый маркер к другим слоям и вершинам",pinningButton:"Связать общие точки вместе",rotateButton:"Поворот слоя"}},Ri={tooltips:{placeMarker:"Presiona para colocar un marcador",firstVertex:"Presiona para colocar el primer vértice",continueLine:"Presiona para continuar dibujando",finishLine:"Presiona cualquier marcador existente para finalizar",finishPoly:"Presiona el primer marcador para finalizar",finishRect:"Presiona para finalizar",startCircle:"Presiona para colocar el centro del círculo",finishCircle:"Presiona para finalizar el círculo",placeCircleMarker:"Presiona para colocar un marcador de círculo"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Eliminar último vértice"},buttonTitles:{drawMarkerButton:"Dibujar Marcador",drawPolyButton:"Dibujar Polígono",drawLineButton:"Dibujar Línea",drawCircleButton:"Dibujar Círculo",drawRectButton:"Dibujar Rectángulo",editButton:"Editar Capas",dragButton:"Arrastrar Capas",cutButton:"Cortar Capas",deleteButton:"Eliminar Capas",drawCircleMarkerButton:"Dibujar Marcador de Círculo",snappingButton:"El marcador de Snap arrastrado a otras capas y vértices",pinningButton:"Fijar juntos los vértices compartidos",rotateButton:"Rotar capa"}},nn={tooltips:{placeMarker:"Klik om een marker te plaatsen",firstVertex:"Klik om het eerste punt te plaatsen",continueLine:"Klik om te blijven tekenen",finishLine:"Klik op een bestaand punt om te beëindigen",finishPoly:"Klik op het eerst punt om te beëindigen",finishRect:"Klik om te beëindigen",startCircle:"Klik om het middelpunt te plaatsen",finishCircle:"Klik om de cirkel te beëindigen",placeCircleMarker:"Klik om een marker te plaatsen"},actions:{finish:"Bewaar",cancel:"Annuleer",removeLastVertex:"Verwijder laatste punt"},buttonTitles:{drawMarkerButton:"Plaats Marker",drawPolyButton:"Teken een vlak",drawLineButton:"Teken een lijn",drawCircleButton:"Teken een cirkel",drawRectButton:"Teken een vierkant",editButton:"Bewerk",dragButton:"Verplaats",cutButton:"Knip",deleteButton:"Verwijder",drawCircleMarkerButton:"Plaats Marker",snappingButton:"Snap gesleepte marker naar andere lagen en hoekpunten",pinningButton:"Speld gedeelde hoekpunten samen",rotateButton:"Laag roteren"}},Ii={tooltips:{placeMarker:"Cliquez pour placer un marqueur",firstVertex:"Cliquez pour placer le premier sommet",continueLine:"Cliquez pour continuer à dessiner",finishLine:"Cliquez sur n'importe quel marqueur pour terminer",finishPoly:"Cliquez sur le premier marqueur pour terminer",finishRect:"Cliquez pour terminer",startCircle:"Cliquez pour placer le centre du cercle",finishCircle:"Cliquez pour finir le cercle",placeCircleMarker:"Cliquez pour placer le marqueur circulaire"},actions:{finish:"Terminer",cancel:"Annuler",removeLastVertex:"Retirer le dernier sommet"},buttonTitles:{drawMarkerButton:"Placer des marqueurs",drawPolyButton:"Dessiner des polygones",drawLineButton:"Dessiner des polylignes",drawCircleButton:"Dessiner un cercle",drawRectButton:"Dessiner un rectangle",editButton:"Éditer des calques",dragButton:"Déplacer des calques",cutButton:"Couper des calques",deleteButton:"Supprimer des calques",drawCircleMarkerButton:"Dessiner un marqueur circulaire",snappingButton:"Glisser le marqueur vers d'autres couches et sommets",pinningButton:"Épingler ensemble les sommets partagés",rotateButton:"Tourner des calques"}},Pr={tooltips:{placeMarker:"单击放置标记",firstVertex:"单击放置首个顶点",continueLine:"单击继续绘制",finishLine:"单击任何存在的标记以完成",finishPoly:"单击第一个标记以完成",finishRect:"单击完成",startCircle:"单击放置圆心",finishCircle:"单击完成圆形",placeCircleMarker:"点击放置圆形标记"},actions:{finish:"完成",cancel:"取消",removeLastVertex:"移除最后的顶点"},buttonTitles:{drawMarkerButton:"绘制标记",drawPolyButton:"绘制多边形",drawLineButton:"绘制线段",drawCircleButton:"绘制圆形",drawRectButton:"绘制长方形",editButton:"编辑图层",dragButton:"拖拽图层",cutButton:"剪切图层",deleteButton:"删除图层",drawCircleMarkerButton:"画圆圈标记",snappingButton:"将拖动的标记捕捉到其他图层和顶点",pinningButton:"将共享顶点固定在一起",rotateButton:"旋转图层"}},Sr={tooltips:{placeMarker:"單擊放置標記",firstVertex:"單擊放置第一個頂點",continueLine:"單擊繼續繪製",finishLine:"單擊任何存在的標記以完成",finishPoly:"單擊第一個標記以完成",finishRect:"單擊完成",startCircle:"單擊放置圓心",finishCircle:"單擊完成圓形",placeCircleMarker:"點擊放置圓形標記"},actions:{finish:"完成",cancel:"取消",removeLastVertex:"移除最後一個頂點"},buttonTitles:{drawMarkerButton:"放置標記",drawPolyButton:"繪製多邊形",drawLineButton:"繪製線段",drawCircleButton:"繪製圓形",drawRectButton:"繪製方形",editButton:"編輯圖形",dragButton:"移動圖形",cutButton:"裁切圖形",deleteButton:"刪除圖形",drawCircleMarkerButton:"畫圓圈標記",snappingButton:"將拖動的標記對齊到其他圖層和頂點",pinningButton:"將共享頂點固定在一起",rotateButton:"旋轉圖形"}},os={tooltips:{placeMarker:"Clique para posicionar o marcador",firstVertex:"Clique para posicionar o primeiro vértice",continueLine:"Clique para continuar desenhando",finishLine:"Clique em qualquer marcador existente para finalizar",finishPoly:"Clique no primeiro marcador para finalizar",finishRect:"Clique para finalizar",startCircle:"Clique para posicionar o centro do círculo",finishCircle:"Clique para finalizar o círculo",placeCircleMarker:"Clique para posicionar o marcador circular",placeText:"Clique para inserir texto"},actions:{finish:"Finalizar",cancel:"Cancelar",removeLastVertex:"Remover último vértice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polígonos",drawLineButton:"Desenhar Linha Poligonal",drawCircleButton:"Desenhar Círculo",drawRectButton:"Desenhar Retângulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Recortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Círculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vértices",pinningButton:"Unir vértices compartilhados",rotateButton:"Rotacionar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Redimensionar Camadas",autoTracingButton:"Traçado Automático de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"Área",radius:"Raio",perimeter:"Perímetro",height:"Altura",width:"Largura",coordinates:"Posição",coordinatesMarker:"Marcador de Posição"}},Tr={tooltips:{placeMarker:"Clique para colocar marcador",firstVertex:"Clique para colocar primeiro vértice",continueLine:"Clique para continuar a desenhar",finishLine:"Clique num marcador existente para terminar",finishPoly:"Clique no primeiro marcador para terminar",finishRect:"Clique para terminar",startCircle:"Clique para colocar o centro do círculo",finishCircle:"Clique para terminar o círculo",placeCircleMarker:"Clique para colocar marcador de círculo",placeText:"Clique para colocar texto"},actions:{finish:"Terminar",cancel:"Cancelar",removeLastVertex:"Remover Último Vértice"},buttonTitles:{drawMarkerButton:"Desenhar Marcador",drawPolyButton:"Desenhar Polígonos",drawLineButton:"Desenhar Polilinha",drawCircleButton:"Desenhar Círculo",drawRectButton:"Desenhar Retângulo",editButton:"Editar Camadas",dragButton:"Arrastar Camadas",cutButton:"Cortar Camadas",deleteButton:"Remover Camadas",drawCircleMarkerButton:"Desenhar Marcador de Círculo",snappingButton:"Ajustar marcador arrastado a outras camadas e vértices",pinningButton:"Unir vértices partilhados",rotateButton:"Rodar Camadas",drawTextButton:"Desenhar Texto",scaleButton:"Escalar Camadas",autoTracingButton:"Traçado Automático de Linha"},measurements:{totalLength:"Comprimento",segmentLength:"Comprimento do Segmento",area:"Área",radius:"Raio",perimeter:"Perímetro",height:"Altura",width:"Largura",coordinates:"Posição",coordinatesMarker:"Marcador de Posição"}},ss={tooltips:{placeMarker:"Kliknij, aby umieścić znacznik",firstVertex:"Kliknij, aby umieścić pierwszy wierzchołek",continueLine:"Kliknij, aby kontynuować rysowanie",finishLine:"Kliknij dowolny istniejący znacznik, aby zakończyć",finishPoly:"Kliknij pierwszy znacznik, aby zakończyć",finishRect:"Kliknij, aby zakończyć",startCircle:"Kliknij, aby umieścić środek okręgu",finishCircle:"Kliknij, aby zakończyć okrąg",placeCircleMarker:"Kliknij, aby umieścić znacznik okręgu",placeText:"Kliknij, aby umieścić tekst"},actions:{finish:"Zakończ",cancel:"Anuluj",removeLastVertex:"Usuń ostatni wierzchołek"},buttonTitles:{drawMarkerButton:"Rysuj znacznik",drawPolyButton:"Rysuj wielokąt",drawLineButton:"Rysuj linię",drawCircleButton:"Rysuj okrąg",drawRectButton:"Rysuj prostokąt",editButton:"Edytuj warstwy",dragButton:"Przeciągnij warstwy",cutButton:"Wytnij warstwy",deleteButton:"Usuń warstwy",drawCircleMarkerButton:"Rysuj znacznik okrągły",snappingButton:"Przyciągnij przenoszony znacznik do innych warstw i wierzchołków",pinningButton:"Przypnij wspólne wierzchołki razem",rotateButton:"Obróć warstwy",drawTextButton:"Rysuj tekst",scaleButton:"Skaluj warstwy",autoTracingButton:"Automatyczne śledzenie linii"},measurements:{totalLength:"Długość",segmentLength:"Długość odcinka",area:"Obszar",radius:"Promień",perimeter:"Obwód",height:"Wysokość",width:"Szerokość",coordinates:"Pozycja",coordinatesMarker:"Znacznik pozycji"}},as={tooltips:{placeMarker:"Klicka för att placera markör",firstVertex:"Klicka för att placera första hörnet",continueLine:"Klicka för att fortsätta rita",finishLine:"Klicka på en existerande punkt för att slutföra",finishPoly:"Klicka på den första punkten för att slutföra",finishRect:"Klicka för att slutföra",startCircle:"Klicka för att placera cirkelns centrum",finishCircle:"Klicka för att slutföra cirkeln",placeCircleMarker:"Klicka för att placera cirkelmarkör"},actions:{finish:"Slutför",cancel:"Avbryt",removeLastVertex:"Ta bort sista hörnet"},buttonTitles:{drawMarkerButton:"Rita Markör",drawPolyButton:"Rita Polygoner",drawLineButton:"Rita Linje",drawCircleButton:"Rita Cirkel",drawRectButton:"Rita Rektangel",editButton:"Redigera Lager",dragButton:"Dra Lager",cutButton:"Klipp i Lager",deleteButton:"Ta bort Lager",drawCircleMarkerButton:"Rita Cirkelmarkör",snappingButton:"Snäpp dra markören till andra lager och hörn",pinningButton:"Fäst delade hörn tillsammans",rotateButton:"Rotera lagret"}},uo={tooltips:{placeMarker:"Κάντε κλικ για να τοποθετήσετε Δείκτη",firstVertex:"Κάντε κλικ για να τοποθετήσετε το πρώτο σημείο",continueLine:"Κάντε κλικ για να συνεχίσετε να σχεδιάζετε",finishLine:"Κάντε κλικ σε οποιονδήποτε υπάρχον σημείο για να ολοκληρωθεί",finishPoly:"Κάντε κλικ στο πρώτο σημείο για να τελειώσετε",finishRect:"Κάντε κλικ για να τελειώσετε",startCircle:"Κάντε κλικ για να τοποθετήσετε κέντρο Κύκλου",finishCircle:"Κάντε κλικ για να ολοκληρώσετε τον Κύκλο",placeCircleMarker:"Κάντε κλικ για να τοποθετήσετε Κυκλικό Δείκτη"},actions:{finish:"Τέλος",cancel:"Ακύρωση",removeLastVertex:"Κατάργηση τελευταίου σημείου"},buttonTitles:{drawMarkerButton:"Σχεδίαση Δείκτη",drawPolyButton:"Σχεδίαση Πολυγώνου",drawLineButton:"Σχεδίαση Γραμμής",drawCircleButton:"Σχεδίαση Κύκλου",drawRectButton:"Σχεδίαση Ορθογωνίου",editButton:"Επεξεργασία Επιπέδων",dragButton:"Μεταφορά Επιπέδων",cutButton:"Αποκοπή Επιπέδων",deleteButton:"Κατάργηση Επιπέδων",drawCircleMarkerButton:"Σχεδίαση Κυκλικού Δείκτη",snappingButton:"Προσκόλληση του Δείκτη μεταφοράς σε άλλα Επίπεδα και Κορυφές",pinningButton:"Περικοπή κοινών κορυφών μαζί",rotateButton:"Περιστρέψτε το στρώμα"}},ls={tooltips:{placeMarker:"Kattintson a jelölő elhelyezéséhez",firstVertex:"Kattintson az első pont elhelyezéséhez",continueLine:"Kattintson a következő pont elhelyezéséhez",finishLine:"A befejezéshez kattintson egy meglévő pontra",finishPoly:"A befejezéshez kattintson az első pontra",finishRect:"Kattintson a befejezéshez",startCircle:"Kattintson a kör középpontjának elhelyezéséhez",finishCircle:"Kattintson a kör befejezéséhez",placeCircleMarker:"Kattintson a körjelölő elhelyezéséhez"},actions:{finish:"Befejezés",cancel:"Mégse",removeLastVertex:"Utolsó pont eltávolítása"},buttonTitles:{drawMarkerButton:"Jelölő rajzolása",drawPolyButton:"Poligon rajzolása",drawLineButton:"Vonal rajzolása",drawCircleButton:"Kör rajzolása",drawRectButton:"Négyzet rajzolása",editButton:"Elemek szerkesztése",dragButton:"Elemek mozgatása",cutButton:"Elemek vágása",deleteButton:"Elemek törlése",drawCircleMarkerButton:"Kör jelölő rajzolása",snappingButton:"Kapcsolja a jelöltőt másik elemhez vagy ponthoz",pinningButton:"Közös pontok összekötése",rotateButton:"Fólia elforgatása"}},us={tooltips:{placeMarker:"Tryk for at placere en markør",firstVertex:"Tryk for at placere det første punkt",continueLine:"Tryk for at fortsætte linjen",finishLine:"Tryk på et eksisterende punkt for at afslutte",finishPoly:"Tryk på det første punkt for at afslutte",finishRect:"Tryk for at afslutte",startCircle:"Tryk for at placere cirklens center",finishCircle:"Tryk for at afslutte cirklen",placeCircleMarker:"Tryk for at placere en cirkelmarkør"},actions:{finish:"Afslut",cancel:"Afbryd",removeLastVertex:"Fjern sidste punkt"},buttonTitles:{drawMarkerButton:"Placer markør",drawPolyButton:"Tegn polygon",drawLineButton:"Tegn linje",drawCircleButton:"Tegn cirkel",drawRectButton:"Tegn firkant",editButton:"Rediger",dragButton:"Træk",cutButton:"Klip",deleteButton:"Fjern",drawCircleMarkerButton:"Tegn cirkelmarkør",snappingButton:"Fastgør trukket markør til andre elementer",pinningButton:"Sammenlæg delte elementer",rotateButton:"Roter laget"}},co={tooltips:{placeMarker:"Klikk for å plassere punkt",firstVertex:"Klikk for å plassere første punkt",continueLine:"Klikk for å tegne videre",finishLine:"Klikk på et eksisterende punkt for å fullføre",finishPoly:"Klikk første punkt for å fullføre",finishRect:"Klikk for å fullføre",startCircle:"Klikk for å sette sirkel midtpunkt",finishCircle:"Klikk for å fullføre sirkel",placeCircleMarker:"Klikk for å plassere sirkel",placeText:"Klikk for å plassere tekst"},actions:{finish:"Fullfør",cancel:"Kanseller",removeLastVertex:"Fjern forrige punkt"},buttonTitles:{drawMarkerButton:"Tegn punkt",drawPolyButton:"Tegn flate",drawLineButton:"Tegn linje",drawCircleButton:"Tegn sirkel",drawRectButton:"Tegn rektangel",editButton:"Rediger objekter",dragButton:"Dra objekter",cutButton:"Kutt objekter",deleteButton:"Fjern objekter",drawCircleMarkerButton:"Tegn sirkel-punkt",snappingButton:"Fest dratt punkt til andre objekter og punkt",pinningButton:"Pin delte punkter sammen",rotateButton:"Rotér objekter",drawTextButton:"Tegn tekst",scaleButton:"Skalér objekter",autoTracingButton:"Automatisk sporing av linje"},measurements:{totalLength:"Lengde",segmentLength:"Segmentlengde",area:"Område",radius:"Radius",perimeter:"Omriss",height:"Høyde",width:"Bredde",coordinates:"Posisjon",coordinatesMarker:"Posisjonsmarkør"}},xa={tooltips:{placeMarker:"کلیک برای جانمایی نشان",firstVertex:"کلیک برای رسم اولین رأس",continueLine:"کلیک برای ادامه رسم",finishLine:"کلیک روی هر نشان موجود برای پایان",finishPoly:"کلیک روی اولین نشان برای پایان",finishRect:"کلیک برای پایان",startCircle:"کلیک برای رسم مرکز دایره",finishCircle:"کلیک برای پایان رسم دایره",placeCircleMarker:"کلیک برای رسم نشان دایره",placeText:"کلیک برای نوشتن متن"},actions:{finish:"پایان",cancel:"لفو",removeLastVertex:"حذف آخرین رأس"},buttonTitles:{drawMarkerButton:"درج نشان",drawPolyButton:"رسم چندضلعی",drawLineButton:"رسم خط",drawCircleButton:"رسم دایره",drawRectButton:"رسم چهارضلعی",editButton:"ویرایش لایه‌ها",dragButton:"جابجایی لایه‌ها",cutButton:"برش لایه‌ها",deleteButton:"حذف لایه‌ها",drawCircleMarkerButton:"رسم نشان دایره",snappingButton:"نشانگر را به لایه‌ها و رئوس دیگر بکشید",pinningButton:"رئوس مشترک را با هم پین کنید",rotateButton:"چرخش لایه",drawTextButton:"رسم متن",scaleButton:"مقیاس‌گذاری",autoTracingButton:"ردیاب خودکار"},measurements:{totalLength:"طول",segmentLength:"طول بخش",area:"ناحیه",radius:"شعاع",perimeter:"محیط",height:"ارتفاع",width:"عرض",coordinates:"موقعیت",coordinatesMarker:"موقعیت نشان"}},cs={tooltips:{placeMarker:"Натисніть, щоб нанести маркер",firstVertex:"Натисніть, щоб нанести першу вершину",continueLine:"Натисніть, щоб продовжити малювати",finishLine:"Натисніть будь-який існуючий маркер для завершення",finishPoly:"Виберіть перший маркер, щоб завершити",finishRect:"Натисніть, щоб завершити",startCircle:"Натисніть, щоб додати центр кола",finishCircle:"Натисніть, щоб завершити коло",placeCircleMarker:"Натисніть, щоб нанести круговий маркер"},actions:{finish:"Завершити",cancel:"Відмінити",removeLastVertex:"Видалити попередню вершину"},buttonTitles:{drawMarkerButton:"Малювати маркер",drawPolyButton:"Малювати полігон",drawLineButton:"Малювати криву",drawCircleButton:"Малювати коло",drawRectButton:"Малювати прямокутник",editButton:"Редагувати шари",dragButton:"Перенести шари",cutButton:"Вирізати шари",deleteButton:"Видалити шари",drawCircleMarkerButton:"Малювати круговий маркер",snappingButton:"Прив’язати перетягнутий маркер до інших шарів та вершин",pinningButton:"Зв'язати спільні вершини разом",rotateButton:"Повернути шар"}},du={tooltips:{placeMarker:"İşaretçi yerleştirmek için tıklayın",firstVertex:"İlk tepe noktasını yerleştirmek için tıklayın",continueLine:"Çizime devam etmek için tıklayın",finishLine:"Bitirmek için mevcut herhangi bir işaretçiyi tıklayın",finishPoly:"Bitirmek için ilk işaretçiyi tıklayın",finishRect:"Bitirmek için tıklayın",startCircle:"Daire merkezine yerleştirmek için tıklayın",finishCircle:"Daireyi bitirmek için tıklayın",placeCircleMarker:"Daire işaretçisi yerleştirmek için tıklayın"},actions:{finish:"Bitir",cancel:"İptal",removeLastVertex:"Son köşeyi kaldır"},buttonTitles:{drawMarkerButton:"Çizim İşaretçisi",drawPolyButton:"Çokgenler çiz",drawLineButton:"Çoklu çizgi çiz",drawCircleButton:"Çember çiz",drawRectButton:"Dikdörtgen çiz",editButton:"Katmanları düzenle",dragButton:"Katmanları sürükle",cutButton:"Katmanları kes",deleteButton:"Katmanları kaldır",drawCircleMarkerButton:"Daire işaretçisi çiz",snappingButton:"Sürüklenen işaretçiyi diğer katmanlara ve köşelere yapıştır",pinningButton:"Paylaşılan köşeleri birbirine sabitle",rotateButton:"Katmanı döndür"}},_e={tooltips:{placeMarker:"Kliknutím vytvoříte značku",firstVertex:"Kliknutím vytvoříte první objekt",continueLine:"Kliknutím pokračujte v kreslení",finishLine:"Kliknutí na libovolnou existující značku pro dokončení",finishPoly:"Vyberte první bod pro dokončení",finishRect:"Klikněte pro dokončení",startCircle:"Kliknutím přidejte střed kruhu",finishCircle:"Нажмите, чтобы задать радиус",placeCircleMarker:"Kliknutím nastavte poloměr"},actions:{finish:"Dokončit",cancel:"Zrušit",removeLastVertex:"Zrušit poslední akci"},buttonTitles:{drawMarkerButton:"Přidat značku",drawPolyButton:"Nakreslit polygon",drawLineButton:"Nakreslit křivku",drawCircleButton:"Nakreslit kruh",drawRectButton:"Nakreslit obdélník",editButton:"Upravit vrstvu",dragButton:"Přeneste vrstvu",cutButton:"Vyjmout vrstvu",deleteButton:"Smazat vrstvu",drawCircleMarkerButton:"Přidat kruhovou značku",snappingButton:"Navázat tažnou značku k dalším vrstvám a vrcholům",pinningButton:"Spojit společné body dohromady",rotateButton:"Otočte vrstvu"}},ni={tooltips:{placeMarker:"クリックしてマーカーを配置",firstVertex:"クリックして最初の頂点を配置",continueLine:"クリックして描画を続ける",finishLine:"任意のマーカーをクリックして終了",finishPoly:"最初のマーカーをクリックして終了",finishRect:"クリックして終了",startCircle:"クリックして円の中心を配置",finishCircle:"クリックして円の描画を終了",placeCircleMarker:"クリックして円マーカーを配置",placeText:"クリックしてテキストを配置"},actions:{finish:"終了",cancel:"キャンセル",removeLastVertex:"最後の頂点を削除"},buttonTitles:{drawMarkerButton:"マーカーを描画",drawPolyButton:"ポリゴンを描画",drawLineButton:"折れ線を描画",drawCircleButton:"円を描画",drawRectButton:"矩形を描画",editButton:"レイヤーを編集",dragButton:"レイヤーをドラッグ",cutButton:"レイヤーを切り取り",deleteButton:"レイヤーを削除",drawCircleMarkerButton:"円マーカーを描画",snappingButton:"ドラッグしたマーカーを他のレイヤーや頂点にスナップする",pinningButton:"共有する頂点を同時に動かす",rotateButton:"レイヤーを回転",drawTextButton:"テキストを描画"}},$e={tooltips:{placeMarker:"Klikkaa asettaaksesi merkin",firstVertex:"Klikkaa asettaakseni ensimmäisen osuuden",continueLine:"Klikkaa jatkaaksesi piirtämistä",finishLine:"Klikkaa olemassa olevaa merkkiä lopettaaksesi",finishPoly:"Klikkaa ensimmäistä merkkiä lopettaaksesi",finishRect:"Klikkaa lopettaaksesi",startCircle:"Klikkaa asettaaksesi ympyrän keskipisteen",finishCircle:"Klikkaa lopettaaksesi ympyrän",placeCircleMarker:"Klikkaa asettaaksesi ympyrämerkin",placeText:"Klikkaa asettaaksesi tekstin"},actions:{finish:"Valmis",cancel:"Peruuta",removeLastVertex:"Poista viimeinen osuus"},buttonTitles:{drawMarkerButton:"Piirrä merkkejä",drawPolyButton:"Piirrä monikulmioita",drawLineButton:"Piirrä viivoja",drawCircleButton:"Piirrä ympyrä",drawRectButton:"Piirrä neliskulmioita",editButton:"Muokkaa",dragButton:"Siirrä",cutButton:"Leikkaa",deleteButton:"Poista",drawCircleMarkerButton:"Piirrä ympyrämerkki",snappingButton:"Kiinnitä siirrettävä merkki toisiin muotoihin",pinningButton:"Kiinnitä jaetut muodot yhteen",rotateButton:"Käännä",drawTextButton:"Piirrä tekstiä"}},La={tooltips:{placeMarker:"마커 위치를 클릭하세요",firstVertex:"첫번째 꼭지점 위치을 클릭하세요",continueLine:"계속 그리려면 클릭하세요",finishLine:"끝내려면 기존 마커를 클릭하세요",finishPoly:"끝내려면 처음 마커를 클릭하세요",finishRect:"끝내려면 클릭하세요",startCircle:"원의 중심이 될 위치를 클릭하세요",finishCircle:"원을 끝내려면 클릭하세요",placeCircleMarker:"원 마커 위치를 클릭하세요",placeText:"텍스트 위치를 클릭하세요"},actions:{finish:"끝내기",cancel:"취소",removeLastVertex:"마지막 꼭지점 제거"},buttonTitles:{drawMarkerButton:"마커 그리기",drawPolyButton:"다각형 그리기",drawLineButton:"다각선 그리기",drawCircleButton:"원 그리기",drawRectButton:"직사각형 그리기",editButton:"레이어 편집하기",dragButton:"레이어 끌기",cutButton:"레이어 자르기",deleteButton:"레이어 제거하기",drawCircleMarkerButton:"원 마커 그리기",snappingButton:"잡아끈 마커를 다른 레이어 및 꼭지점에 들러붙게 하기",pinningButton:"공유 꼭지점을 함께 찍기",rotateButton:"레이어 회전하기",drawTextButton:"텍스트 그리기"}},hs={tooltips:{placeMarker:"Маркерди жайгаштыруу үчүн басыңыз",firstVertex:"Биринчи чокуну жайгаштырууну үчүн басыңыз",continueLine:"Сүрөт тартууну улантуу үчүн басыңыз",finishLine:"Аяктоо үчүн учурдагы маркерди басыңыз",finishPoly:"Бүтүрүү үчүн биринчи маркерди басыңыз",finishRect:"Бүтүрүү үчүн басыңыз",startCircle:"Айлананын борборун жайгаштырууну үчүн басыңыз",finishCircle:"Айлананы бүтүрүү үчүн басыңыз",placeCircleMarker:"Тегерек маркерди жайгаштыруу үчүн басыңыз",placeText:"Текстти жайгаштыруу үчүн басыңыз"},actions:{finish:"Аягы",cancel:"Жок кылуу",removeLastVertex:"Акыркы чокуну өчүрүү"},buttonTitles:{drawMarkerButton:"Маркерди чизуу",drawPolyButton:"Полигон чизуу",drawLineButton:"Полилиния чизуу",drawCircleButton:"Дайынды чизуу",drawRectButton:"Прямоугольник чизуу",editButton:"Слоопту түзөтүү",dragButton:"Слоопту карап сүйлөү",cutButton:"Слооптун башын кесүү",deleteButton:"Слооптун өчүрүү",drawCircleMarkerButton:"Дайынды маркерди чизуу",snappingButton:"Башка слооптордун жана вертекстердин арасына чекилдөө",pinningButton:"Бөлүшкөн вертекстерди бирге тутуштуруу",rotateButton:"Слооптун өзгөртүү",drawTextButton:"Текст чизуу",scaleButton:"Слооптун өлчөмүн өзгөртүү",autoTracingButton:"Автоматтык тизмеги чизуу"},measurements:{totalLength:"Узундук",segmentLength:"Сегмент узундугу",area:"Аймак",radius:"Радиус",perimeter:"Периметр",height:"Диаметр",width:"Кенчилик",coordinates:"Координаттар",coordinatesMarker:"Маркердин координаттары"}},Fi={en:tn,de:rs,it:ao,id:jn,ro:hu,ru:lo,es:Ri,nl:nn,fr:Ii,pt_br:os,pt_pt:Tr,zh:Pr,zh_tw:Sr,pl:ss,sv:as,el:uo,hu:ls,da:us,no:co,fa:xa,ua:cs,tr:du,cz:_e,ja:ni,fi:$e,ko:La,ky:hs},ds={_globalEditModeEnabled:!1,enableGlobalEditMode(n){let r={...n};this._globalEditModeEnabled=!0,this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),L.PM.Utils.findLayers(this.map).forEach(a=>{this._isRelevantForEdit(a)&&a.pm.enable(r)}),this.throttledReInitEdit||(this.throttledReInitEdit=L.Util.throttle(this.handleLayerAdditionInGlobalEditMode,100,this)),this._addedLayersEdit={},this.map.on("layeradd",this._layerAddedEdit,this),this.map.on("layeradd",this.throttledReInitEdit,this),this._fireGlobalEditModeToggled(!0)},disableGlobalEditMode(){this._globalEditModeEnabled=!1,L.PM.Utils.findLayers(this.map).forEach(n=>{n.pm.disable()}),this.map.off("layeradd",this._layerAddedEdit,this),this.map.off("layeradd",this.throttledReInitEdit,this),this.Toolbar.toggleButton("editMode",this.globalEditModeEnabled()),this._fireGlobalEditModeToggled(!1)},globalEditEnabled(){return this.globalEditModeEnabled()},globalEditModeEnabled(){return this._globalEditModeEnabled},toggleGlobalEditMode(n=this.globalOptions){this.globalEditModeEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(n)},handleLayerAdditionInGlobalEditMode(){let n=this._addedLayersEdit;if(this._addedLayersEdit={},this.globalEditModeEnabled())for(let r in n){let a=n[r];this._isRelevantForEdit(a)&&a.pm.enable({...this.globalOptions})}},_layerAddedEdit({layer:n}){this._addedLayersEdit[L.stamp(n)]=n},_isRelevantForEdit(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowEditing}},Ni=ds,ps={_globalDragModeEnabled:!1,enableGlobalDragMode(){let n=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!0,this._addedLayersDrag={},n.forEach(r=>{this._isRelevantForDrag(r)&&r.pm.enableLayerDrag()}),this.throttledReInitDrag||(this.throttledReInitDrag=L.Util.throttle(this.reinitGlobalDragMode,100,this)),this.map.on("layeradd",this._layerAddedDrag,this),this.map.on("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!0)},disableGlobalDragMode(){let n=L.PM.Utils.findLayers(this.map);this._globalDragModeEnabled=!1,n.forEach(r=>{r.pm.disableLayerDrag()}),this.map.off("layeradd",this._layerAddedDrag,this),this.map.off("layeradd",this.throttledReInitDrag,this),this.Toolbar.toggleButton("dragMode",this.globalDragModeEnabled()),this._fireGlobalDragModeToggled(!1)},globalDragModeEnabled(){return!!this._globalDragModeEnabled},toggleGlobalDragMode(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},reinitGlobalDragMode(){let n=this._addedLayersDrag;if(this._addedLayersDrag={},this.globalDragModeEnabled())for(let r in n){let a=n[r];this._isRelevantForDrag(a)&&a.pm.enableLayerDrag()}},_layerAddedDrag({layer:n}){this._addedLayersDrag[L.stamp(n)]=n},_isRelevantForDrag(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.draggable}},Ar=ps,pn={_globalRemovalModeEnabled:!1,enableGlobalRemovalMode(){this._globalRemovalModeEnabled=!0,this.map.eachLayer(n=>{this._isRelevantForRemoval(n)&&(n.pm.enabled()&&n.pm.disable(),n.on("click",this.removeLayer,this))}),this.throttledReInitRemoval||(this.throttledReInitRemoval=L.Util.throttle(this.handleLayerAdditionInGlobalRemovalMode,100,this)),this._addedLayersRemoval={},this.map.on("layeradd",this._layerAddedRemoval,this),this.map.on("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!0)},disableGlobalRemovalMode(){this._globalRemovalModeEnabled=!1,this.map.eachLayer(n=>{n.off("click",this.removeLayer,this)}),this.map.off("layeradd",this._layerAddedRemoval,this),this.map.off("layeradd",this.throttledReInitRemoval,this),this.Toolbar.toggleButton("removalMode",this.globalRemovalModeEnabled()),this._fireGlobalRemovalModeToggled(!1)},globalRemovalEnabled(){return this.globalRemovalModeEnabled()},globalRemovalModeEnabled(){return!!this._globalRemovalModeEnabled},toggleGlobalRemovalMode(){this.globalRemovalModeEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},removeLayer(n){let r=n.target;this._isRelevantForRemoval(r)&&!r.pm.dragging()&&(r.removeFrom(this.map.pm._getContainingLayer()),r.remove(),r instanceof L.LayerGroup?(this._fireRemoveLayerGroup(r),this._fireRemoveLayerGroup(this.map,r)):(r.pm._fireRemove(r),r.pm._fireRemove(this.map,r)))},_isRelevantForRemoval(n){return n.pm&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowRemoval},handleLayerAdditionInGlobalRemovalMode(){let n=this._addedLayersRemoval;if(this._addedLayersRemoval={},this.globalRemovalModeEnabled())for(let r in n){let a=n[r];this._isRelevantForRemoval(a)&&(a.pm.enabled()&&a.pm.disable(),a.on("click",this.removeLayer,this))}},_layerAddedRemoval({layer:n}){this._addedLayersRemoval[L.stamp(n)]=n}},ji=pn,Ca={_globalRotateModeEnabled:!1,enableGlobalRotateMode(){this._globalRotateModeEnabled=!0,L.PM.Utils.findLayers(this.map).filter(n=>n instanceof L.Polyline).forEach(n=>{this._isRelevantForRotate(n)&&n.pm.enableRotate()}),this.throttledReInitRotate||(this.throttledReInitRotate=L.Util.throttle(this.handleLayerAdditionInGlobalRotateMode,100,this)),this._addedLayersRotate={},this.map.on("layeradd",this._layerAddedRotate,this),this.map.on("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},disableGlobalRotateMode(){this._globalRotateModeEnabled=!1,L.PM.Utils.findLayers(this.map).filter(n=>n instanceof L.Polyline).forEach(n=>{n.pm.disableRotate()}),this.map.off("layeradd",this._layerAddedRotate,this),this.map.off("layeradd",this.throttledReInitRotate,this),this.Toolbar.toggleButton("rotateMode",this.globalRotateModeEnabled()),this._fireGlobalRotateModeToggled()},globalRotateModeEnabled(){return!!this._globalRotateModeEnabled},toggleGlobalRotateMode(){this.globalRotateModeEnabled()?this.disableGlobalRotateMode():this.enableGlobalRotateMode()},_isRelevantForRotate(n){return n.pm&&n instanceof L.Polyline&&!(n instanceof L.LayerGroup)&&(!L.PM.optIn&&!n.options.pmIgnore||L.PM.optIn&&n.options.pmIgnore===!1)&&!n._pmTempLayer&&n.pm.options.allowRotation},handleLayerAdditionInGlobalRotateMode(){let n=this._addedLayersRotate;if(this._addedLayersRotate={},this.globalRotateModeEnabled())for(let r in n){let a=n[r];this._isRelevantForRemoval(a)&&a.pm.enableRotate()}},_layerAddedRotate({layer:n}){this._addedLayersRotate[L.stamp(n)]=n}},wa=Ca,pu=y(oo()),ka={_fireDrawStart(n="Draw",r={}){this.__fire(this._map,"pm:drawstart",{shape:this._shape,workingLayer:this._layer},n,r)},_fireDrawEnd(n="Draw",r={}){this.__fire(this._map,"pm:drawend",{shape:this._shape},n,r)},_fireCreate(n,r="Draw",a={}){this.__fire(this._map,"pm:create",{shape:this._shape,marker:n,layer:n},r,a)},_fireCenterPlaced(n="Draw",r={}){let a=n==="Draw"?this._layer:void 0,c=n!=="Draw"?this._layer:void 0;this.__fire(this._layer,"pm:centerplaced",{shape:this._shape,workingLayer:a,layer:c,latlng:this._layer.getLatLng()},n,r)},_fireCut(n,r,a,c="Draw",f={}){this.__fire(n,"pm:cut",{shape:this._shape,layer:r,originalLayer:a},c,f)},_fireEdit(n=this._layer,r="Edit",a={}){this.__fire(n,"pm:edit",{layer:this._layer,shape:this.getShape()},r,a)},_fireEnable(n="Edit",r={}){this.__fire(this._layer,"pm:enable",{layer:this._layer,shape:this.getShape()},n,r)},_fireDisable(n="Edit",r={}){this.__fire(this._layer,"pm:disable",{layer:this._layer,shape:this.getShape()},n,r)},_fireUpdate(n="Edit",r={}){this.__fire(this._layer,"pm:update",{layer:this._layer,shape:this.getShape()},n,r)},_fireMarkerDragStart(n,r=void 0,a="Edit",c={}){this.__fire(this._layer,"pm:markerdragstart",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:r},a,c)},_fireMarkerDrag(n,r=void 0,a="Edit",c={}){this.__fire(this._layer,"pm:markerdrag",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:r},a,c)},_fireMarkerDragEnd(n,r=void 0,a=void 0,c="Edit",f={}){this.__fire(this._layer,"pm:markerdragend",{layer:this._layer,markerEvent:n,shape:this.getShape(),indexPath:r,intersectionReset:a},c,f)},_fireDragStart(n="Edit",r={}){this.__fire(this._layer,"pm:dragstart",{layer:this._layer,shape:this.getShape()},n,r)},_fireDrag(n,r="Edit",a={}){this.__fire(this._layer,"pm:drag",{...n,shape:this.getShape()},r,a)},_fireDragEnd(n="Edit",r={}){this.__fire(this._layer,"pm:dragend",{layer:this._layer,shape:this.getShape()},n,r)},_fireDragEnable(n="Edit",r={}){this.__fire(this._layer,"pm:dragenable",{layer:this._layer,shape:this.getShape()},n,r)},_fireDragDisable(n="Edit",r={}){this.__fire(this._layer,"pm:dragdisable",{layer:this._layer,shape:this.getShape()},n,r)},_fireRemove(n,r=n,a="Edit",c={}){this.__fire(n,"pm:remove",{layer:r,shape:this.getShape()},a,c)},_fireVertexAdded(n,r,a,c="Edit",f={}){this.__fire(this._layer,"pm:vertexadded",{layer:this._layer,workingLayer:this._layer,marker:n,indexPath:r,latlng:a,shape:this.getShape()},c,f)},_fireVertexRemoved(n,r,a="Edit",c={}){this.__fire(this._layer,"pm:vertexremoved",{layer:this._layer,marker:n,indexPath:r,shape:this.getShape()},a,c)},_fireVertexClick(n,r,a="Edit",c={}){this.__fire(this._layer,"pm:vertexclick",{layer:this._layer,markerEvent:n,indexPath:r,shape:this.getShape()},a,c)},_fireIntersect(n,r=this._layer,a="Edit",c={}){this.__fire(r,"pm:intersect",{layer:this._layer,intersection:n,shape:this.getShape()},a,c)},_fireLayerReset(n,r,a="Edit",c={}){this.__fire(this._layer,"pm:layerreset",{layer:this._layer,markerEvent:n,indexPath:r,shape:this.getShape()},a,c)},_fireChange(n,r="Edit",a={}){this.__fire(this._layer,"pm:change",{layer:this._layer,latlngs:n,shape:this.getShape()},r,a)},_fireTextChange(n,r="Edit",a={}){this.__fire(this._layer,"pm:textchange",{layer:this._layer,text:n,shape:this.getShape()},r,a)},_fireTextFocus(n="Edit",r={}){this.__fire(this._layer,"pm:textfocus",{layer:this._layer,shape:this.getShape()},n,r)},_fireTextBlur(n="Edit",r={}){this.__fire(this._layer,"pm:textblur",{layer:this._layer,shape:this.getShape()},n,r)},_fireSnapDrag(n,r,a="Snapping",c={}){this.__fire(n,"pm:snapdrag",r,a,c)},_fireSnap(n,r,a="Snapping",c={}){this.__fire(n,"pm:snap",r,a,c)},_fireUnsnap(n,r,a="Snapping",c={}){this.__fire(n,"pm:unsnap",r,a,c)},_fireRotationEnable(n,r,a="Rotation",c={}){this.__fire(n,"pm:rotateenable",{layer:this._layer,helpLayer:this._rotatePoly,shape:this.getShape()},a,c)},_fireRotationDisable(n,r="Rotation",a={}){this.__fire(n,"pm:rotatedisable",{layer:this._layer,shape:this.getShape()},r,a)},_fireRotationStart(n,r,a="Rotation",c={}){this.__fire(n,"pm:rotatestart",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:this._startAngle,originLatLngs:r},a,c)},_fireRotation(n,r,a,c=this._rotationLayer,f="Rotation",m={}){this.__fire(n,"pm:rotate",{layer:c,helpLayer:this._layer,startAngle:this._startAngle,angle:c.pm.getAngle(),angleDiff:r,oldLatLngs:a,newLatLngs:c.getLatLngs()},f,m)},_fireRotationEnd(n,r,a,c="Rotation",f={}){this.__fire(n,"pm:rotateend",{layer:this._rotationLayer,helpLayer:this._layer,startAngle:r,angle:this._rotationLayer.pm.getAngle(),originLatLngs:a,newLatLngs:this._rotationLayer.getLatLngs()},c,f)},_fireActionClick(n,r,a,c="Toolbar",f={}){this.__fire(this._map,"pm:actionclick",{text:n.text,action:n,btnName:r,button:a},c,f)},_fireButtonClick(n,r,a="Toolbar",c={}){this.__fire(this._map,"pm:buttonclick",{btnName:n,button:r},a,c)},_fireLangChange(n,r,a,c,f="Global",m={}){this.__fire(this.map,"pm:langchange",{oldLang:n,activeLang:r,fallback:a,translations:c},f,m)},_fireGlobalDragModeToggled(n,r="Global",a={}){this.__fire(this.map,"pm:globaldragmodetoggled",{enabled:n,map:this.map},r,a)},_fireGlobalEditModeToggled(n,r="Global",a={}){this.__fire(this.map,"pm:globaleditmodetoggled",{enabled:n,map:this.map},r,a)},_fireGlobalRemovalModeToggled(n,r="Global",a={}){this.__fire(this.map,"pm:globalremovalmodetoggled",{enabled:n,map:this.map},r,a)},_fireGlobalCutModeToggled(n="Global",r={}){this.__fire(this._map,"pm:globalcutmodetoggled",{enabled:!!this._enabled,map:this._map},n,r)},_fireGlobalDrawModeToggled(n="Global",r={}){this.__fire(this._map,"pm:globaldrawmodetoggled",{enabled:this._enabled,shape:this._shape,map:this._map},n,r)},_fireGlobalRotateModeToggled(n="Global",r={}){this.__fire(this.map,"pm:globalrotatemodetoggled",{enabled:this.globalRotateModeEnabled(),map:this.map},n,r)},_fireRemoveLayerGroup(n,r=n,a="Edit",c={}){this.__fire(n,"pm:remove",{layer:r,shape:void 0},a,c)},_fireKeyeventEvent(n,r,a,c="Global",f={}){this.__fire(this.map,"pm:keyevent",{event:n,eventType:r,focusOn:a},c,f)},__fire(n,r,a,c,f={}){a=(0,pu.default)(a,f,{source:c}),L.PM.Utils._fireEvent(n,r,a)}},Xi=ka,fu=()=>({_lastEvents:{keydown:void 0,keyup:void 0,current:void 0},_initKeyListener(n){this.map=n,L.DomEvent.on(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.on(window,"blur",this._onBlur,this),n.once("unload",this._unbindKeyListenerEvents,this)},_unbindKeyListenerEvents(){L.DomEvent.off(document,"keydown keyup",this._onKeyListener,this),L.DomEvent.off(window,"blur",this._onBlur,this)},_onKeyListener(n){let r="document";this.map.getContainer().contains(n.target)&&(r="map");let a={event:n,eventType:n.type,focusOn:r};this._lastEvents[n.type]=a,this._lastEvents.current=a,this.map.pm._fireKeyeventEvent(n,n.type,r)},_onBlur(n){n.altKey=!1;let r={event:n,eventType:n.type,focusOn:"document"};this._lastEvents[n.type]=r,this._lastEvents.current=r},getLastKeyEvent(n="current"){return this._lastEvents[n]},isShiftKeyPressed(){var n;return(n=this._lastEvents.current)==null?void 0:n.event.shiftKey},isAltKeyPressed(){var n;return(n=this._lastEvents.current)==null?void 0:n.event.altKey},isCtrlKeyPressed(){var n;return(n=this._lastEvents.current)==null?void 0:n.event.ctrlKey},isMetaKeyPressed(){var n;return(n=this._lastEvents.current)==null?void 0:n.event.metaKey},getPressedKey(){var n;return(n=this._lastEvents.current)==null?void 0:n.event.key}}),Ma=fu,Ce=y(wi());function Be(n){let r=L.PM.activeLang;return(0,Ce.default)(Fi[r],n)||(0,Ce.default)(Fi.en,n)||n}function On(n){for(let r=0;r<n.length;r+=1){let a=n[r];if(Array.isArray(a)){if(On(a))return!0}else if(a!=null&&a!=="")return!0}return!1}function ki(n){return n.reduce((r,a)=>{if(a.length!==0){let c=Array.isArray(a)?ki(a):a;Array.isArray(c)?c.length!==0&&r.push(c):r.push(c)}return r},[])}function Ea(n,r,a){let c={a:L.CRS.Earth.R,b:63567523142e-4,f:.0033528106647474805},{a:f,b:m,f:v}=c,C=n.lng,M=n.lat,B=a,$=Math.PI,F=r*$/180,it=Math.sin(F),ht=Math.cos(F),Mt=(1-v)*Math.tan(M*$/180),Vt=1/Math.sqrt(1+Mt*Mt),qt=Mt*Vt,Pe=Math.atan2(Mt,ht),V=Vt*it,Z=1-V*V,Y=Z*(f*f-m*m)/(m*m),ct=1+Y/16384*(4096+Y*(-768+Y*(320-175*Y))),X=Y/1024*(256+Y*(-128+Y*(74-47*Y))),at=B/(m*ct),E=2*Math.PI,S,O,A;for(;Math.abs(at-E)>1e-12;){S=Math.cos(2*Pe+at),O=Math.sin(at),A=Math.cos(at);let Lt=X*O*(S+X/4*(A*(-1+2*S*S)-X/6*S*(-3+4*O*O)*(-3+4*S*S)));E=at,at=B/(m*ct)+Lt}let D=qt*O-Vt*A*ht,R=Math.atan2(qt*A+Vt*O*ht,(1-v)*Math.sqrt(V*V+D*D)),K=Math.atan2(O*it,Vt*A-qt*O*ht),q=v/16*Z*(4+v*(4-3*Z)),W=K-(1-q)*v*V*(at+q*O*(S+q*A*(-1+2*S*S))),nt=C+W*180/$,et=R*180/$;return L.latLng(nt,et)}function Ba(n,r,a,c,f=!0){let m,v,C,M=[];for(let B=0;B<a;B+=1){if(f)m=B*360/a+c,v=Ea(n,m,r),C=L.latLng(v.lng,v.lat);else{let $=n.lat+Math.cos(2*B*Math.PI/a)*r,F=n.lng+Math.sin(2*B*Math.PI/a)*r;C=L.latLng($,F)}M.push(C)}return M}function fs(n,r,a){r=(r+360)%360;let c=Math.PI/180,f=180/Math.PI,{R:m}=L.CRS.Earth,v=n.lng*c,C=n.lat*c,M=r*c,B=Math.sin(C),$=Math.cos(C),F=Math.cos(a/m),it=Math.sin(a/m),ht=Math.asin(B*F+$*it*Math.cos(M)),Mt=v+Math.atan2(Math.sin(M)*it*$,F-B*Math.sin(ht));Mt*=f;let Vt=Mt-360,qt=Mt<-180?Mt+360:Mt;return Mt=Mt>180?Vt:qt,L.latLng([ht*f,Mt])}function _s(n,r,a){let c=n.latLngToContainerPoint(r),f=n.latLngToContainerPoint(a),m=Math.atan2(f.y-c.y,f.x-c.x)*180/Math.PI+90;return m+=m<0?360:0,m}function Or(n,r,a,c){let f=_s(n,r,a);return fs(r,f,c)}function _u(n,r,a="asc"){if(!r||Object.keys(r).length===0)return(M,B)=>M-B;let c=Object.keys(r),f,m=c.length-1,v={};for(;m>=0;)f=c[m],v[f.toLowerCase()]=r[f],m-=1;function C(M){if(M instanceof L.Marker)return"Marker";if(M instanceof L.Circle)return"Circle";if(M instanceof L.CircleMarker)return"CircleMarker";if(M instanceof L.Rectangle)return"Rectangle";if(M instanceof L.Polygon)return"Polygon";if(M instanceof L.Polyline)return"Line"}return(M,B)=>{let $,F;if($=C(M.layer).toLowerCase(),F=C(B.layer).toLowerCase(),!$||!F)return 0;let it=$ in v?v[$]:Number.MAX_SAFE_INTEGER,ht=F in v?v[F]:Number.MAX_SAFE_INTEGER,Mt=0;return it<ht?Mt=-1:it>ht&&(Mt=1),a==="desc"?Mt*-1:Mt}}function Mi(n,r=n.getLatLngs()){return n instanceof L.Polygon?L.polygon(r).getLatLngs():L.polyline(r).getLatLngs()}function ho(n,r){var a,c,f,m;if((c=(a=r.options.crs)==null?void 0:a.projection)!=null&&c.MAX_LATITUDE){let v=(m=(f=r.options.crs)==null?void 0:f.projection)==null?void 0:m.MAX_LATITUDE;n.lat=Math.max(Math.min(v,n.lat),-v)}return n}function Qi(n){return n.options.renderer||n._map&&(n._map._getPaneRenderer(n.options.pane)||n._map.options.renderer||n._map._renderer)||n._renderer}var ii=L.Class.extend({includes:[Ni,Ar,ji,wa,Xi],initialize(n){this.map=n,this.Draw=new L.PM.Draw(n),this.Toolbar=new L.PM.Toolbar(n),this.Keyboard=Ma(),this.globalOptions={snappable:!0,layerGroup:void 0,snappingOrder:["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],panes:{vertexPane:"markerPane",layerPane:"overlayPane",markerPane:"markerPane"},draggable:!0},this.Keyboard._initKeyListener(n)},setLang(n="en",r,a="en"){let c=L.PM.activeLang;r&&(Fi[n]=(0,me.default)(Fi[a],r)),L.PM.activeLang=n,this.map.pm.Toolbar.reinit(),this._fireLangChange(c,n,a,Fi[n])},addControls(n){this.Toolbar.addControls(n)},removeControls(){this.Toolbar.removeControls()},toggleControls(){this.Toolbar.toggleControls()},controlsVisible(){return this.Toolbar.isVisible},enableDraw(n="Polygon",r){n==="Poly"&&(n="Polygon"),this.Draw.enable(n,r)},disableDraw(n="Polygon"){n==="Poly"&&(n="Polygon"),this.Draw.disable(n)},setPathOptions(n,r={}){let a=r.ignoreShapes||[],c=r.merge||!1;this.map.pm.Draw.shapes.forEach(f=>{a.indexOf(f)===-1&&this.map.pm.Draw[f].setPathOptions(n,c)})},getGlobalOptions(){return this.globalOptions},setGlobalOptions(n){let r=(0,me.default)(this.globalOptions,n);r.editable&&(r.resizeableCircleMarker=r.editable,delete r.editable);let a=!1;this.map.pm.Draw.CircleMarker.enabled()&&!!this.map.pm.Draw.CircleMarker.options.resizeableCircleMarker!=!!r.resizeableCircleMarker&&(this.map.pm.Draw.CircleMarker.disable(),a=!0);let c=!1;this.map.pm.Draw.Circle.enabled()&&!!this.map.pm.Draw.Circle.options.resizableCircle!=!!r.resizableCircle&&(this.map.pm.Draw.Circle.disable(),c=!0),this.map.pm.Draw.shapes.forEach(f=>{this.map.pm.Draw[f].setOptions(r)}),a&&this.map.pm.Draw.CircleMarker.enable(),c&&this.map.pm.Draw.Circle.enable(),L.PM.Utils.findLayers(this.map).forEach(f=>{f.pm.setOptions(r)}),this.map.fire("pm:globaloptionschanged"),this.globalOptions=r,this.applyGlobalOptions()},applyGlobalOptions(){L.PM.Utils.findLayers(this.map).forEach(n=>{n.pm.enabled()&&n.pm.applyOptions()})},globalDrawModeEnabled(){return!!this.Draw.getActiveShape()},globalCutModeEnabled(){return!!this.Draw.Cut.enabled()},enableGlobalCutMode(n){return this.Draw.Cut.enable(n)},toggleGlobalCutMode(n){return this.Draw.Cut.toggle(n)},disableGlobalCutMode(){return this.Draw.Cut.disable()},getGeomanLayers(n=!1){let r=L.PM.Utils.findLayers(this.map);if(!n)return r;let a=L.featureGroup();return a._pmTempLayer=!0,r.forEach(c=>{a.addLayer(c)}),a},getGeomanDrawLayers(n=!1){let r=L.PM.Utils.findLayers(this.map).filter(c=>c._drawnByGeoman===!0);if(!n)return r;let a=L.featureGroup();return a._pmTempLayer=!0,r.forEach(c=>{a.addLayer(c)}),a},_getContainingLayer(){return this.globalOptions.layerGroup&&this.globalOptions.layerGroup instanceof L.LayerGroup?this.globalOptions.layerGroup:this.map},_isCRSSimple(){return this.map.options.crs===L.CRS.Simple},_touchEventCounter:0,_addTouchEvents(n){this._touchEventCounter===0&&(L.DomEvent.on(n,"touchmove",this._canvasTouchMove,this),L.DomEvent.on(n,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter+=1},_removeTouchEvents(n){this._touchEventCounter===1&&(L.DomEvent.off(n,"touchmove",this._canvasTouchMove,this),L.DomEvent.off(n,"touchstart touchend touchcancel",this._canvasTouchClick,this)),this._touchEventCounter=this._touchEventCounter<=1?0:this._touchEventCounter-1},_canvasTouchMove(n){Qi(this.map)._onMouseMove(this._createMouseEvent("mousemove",n))},_canvasTouchClick(n){let r="";n.type==="touchstart"||n.type==="pointerdown"?r="mousedown":(n.type==="touchend"||n.type==="pointerup"||n.type==="touchcancel"||n.type==="pointercancel")&&(r="mouseup"),r&&Qi(this.map)._onClick(this._createMouseEvent(r,n))},_createMouseEvent(n,r){let a,c=r.touches[0]||r.changedTouches[0];try{a=new MouseEvent(n,{bubbles:r.bubbles,cancelable:r.cancelable,view:r.view,detail:c.detail,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY,ctrlKey:r.ctrlKey,altKey:r.altKey,shiftKey:r.shiftKey,metaKey:r.metaKey,button:r.button,relatedTarget:r.relatedTarget})}catch{a=document.createEvent("MouseEvents"),a.initMouseEvent(n,r.bubbles,r.cancelable,r.view,c.detail,c.screenX,c.screenY,c.clientX,c.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget)}return a}}),mu=ii,Pa=L.Control.extend({includes:[Xi],options:{position:"topleft",disableByOtherButtons:!0},initialize(n){this._button=L.Util.extend({},this.options,n)},onAdd(n){return this._map=n,this._map.pm.Toolbar.options.oneBlock?this._container=this._map.pm.Toolbar._createContainer(this.options.position):this._button.tool==="edit"?this._container=this._map.pm.Toolbar.editContainer:this._button.tool==="options"?this._container=this._map.pm.Toolbar.optionsContainer:this._button.tool==="custom"?this._container=this._map.pm.Toolbar.customContainer:this._container=this._map.pm.Toolbar.drawContainer,this._renderButton(),this._container},_renderButton(){let n=this.buttonsDomNode;this.buttonsDomNode=this._makeButton(this._button),n?n.replaceWith(this.buttonsDomNode):this._container.appendChild(this.buttonsDomNode)},onRemove(){return this.buttonsDomNode.remove(),this._container},getText(){return this._button.text},getIconUrl(){return this._button.iconUrl},destroy(){this._button={},this._update()},toggle(n){return typeof n=="boolean"?this._button.toggleStatus=n:this._button.toggleStatus=!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled(){return this._button.toggleStatus},onCreate(){this.toggle(!1)},disable(){this.toggle(!1),this._button.disabled=!0,this._updateDisabled()},enable(){this._button.disabled=!1,this._updateDisabled()},_triggerClick(n){n&&n.preventDefault(),!this._button.disabled&&(this._button.onClick(n,{button:this,event:n}),this._clicked(n),this._button.afterClick(n,{button:this,event:n}))},_makeButton(n){let r=this.options.position.indexOf("right")>-1?"pos-right":"",a=L.DomUtil.create("div",`button-container  ${r}`,this._container);n.title&&a.setAttribute("title",n.title);let c=L.DomUtil.create("a","leaflet-buttons-control-button",a);c.setAttribute("role","button"),c.setAttribute("tabindex","0"),c.href="#";let f=L.DomUtil.create("div",`leaflet-pm-actions-container ${r}`,a),m=n.actions,v={cancel:{text:Be("actions.cancel"),title:Be("actions.cancel"),onClick(){this._triggerClick()}},finishMode:{text:Be("actions.finish"),title:Be("actions.finish"),onClick(){this._triggerClick()}},removeLastVertex:{text:Be("actions.removeLastVertex"),title:Be("actions.removeLastVertex"),onClick(){this._map.pm.Draw[n.jsClass]._removeLastVertex()}},finish:{text:Be("actions.finish"),title:Be("actions.finish"),onClick(M){this._map.pm.Draw[n.jsClass]._finishShape(M)}}};m.forEach(M=>{let B=typeof M=="string"?M:M.name,$;if(v[B])$=v[B];else if(M.text)$=M;else return;let F=L.DomUtil.create("a",`leaflet-pm-action ${r} action-${B}`,f);if(F.setAttribute("role","button"),F.setAttribute("tabindex","0"),F.href="#",$.title&&(F.title=$.title),F.innerHTML=$.text,L.DomEvent.disableClickPropagation(F),L.DomEvent.on(F,"click",L.DomEvent.stop),!n.disabled&&$.onClick){let it=ht=>{ht.preventDefault();let Mt="",{buttons:Vt}=this._map.pm.Toolbar;for(let qt in Vt)if(Vt[qt]._button===n){Mt=qt;break}this._fireActionClick($,Mt,n)};L.DomEvent.addListener(F,"click",it,this),L.DomEvent.addListener(F,"click",$.onClick,this)}}),n.toggleStatus&&L.DomUtil.addClass(a,"active");let C=L.DomUtil.create("div","control-icon",c);return n.iconUrl&&C.setAttribute("src",n.iconUrl),n.className&&L.DomUtil.addClass(C,n.className),L.DomEvent.disableClickPropagation(c),L.DomEvent.on(c,"click",L.DomEvent.stop),n.disabled||(L.DomEvent.addListener(c,"click",this._onBtnClick,this),L.DomEvent.addListener(c,"click",this._triggerClick,this)),n.disabled&&(L.DomUtil.addClass(c,"pm-disabled"),c.setAttribute("aria-disabled","true")),a},_applyStyleClasses(){this._container&&(!this._button.toggleStatus||this._button.cssToggle===!1?(L.DomUtil.removeClass(this.buttonsDomNode,"active"),L.DomUtil.removeClass(this._container,"activeChild")):(L.DomUtil.addClass(this.buttonsDomNode,"active"),L.DomUtil.addClass(this._container,"activeChild")))},_onBtnClick(){if(this._button.disabled)return;this._button.disableOtherButtons&&this._map.pm.Toolbar.triggerClickOnToggledButtons(this);let n="",{buttons:r}=this._map.pm.Toolbar;for(let a in r)if(r[a]._button===this._button){n=a;break}this._fireButtonClick(n,this._button)},_clicked(){this._button.doToggle&&this.toggle()},_updateDisabled(){if(!this._container)return;let n="pm-disabled",r=this.buttonsDomNode.children[0];this._button.disabled?(L.DomUtil.addClass(r,n),r.setAttribute("aria-disabled","true")):(L.DomUtil.removeClass(r,n),r.setAttribute("aria-disabled","false"))}}),Ei=Pa;L.Control.PMButton=Ei;var Sa=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,drawCircleMarker:!0,drawText:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,rotateMode:!0,snappingOption:!0,drawControls:!0,editControls:!0,optionsControls:!0,customControls:!0,oneBlock:!1,position:"topleft",positions:{draw:"",edit:"",options:"",custom:""}},customButtons:[],initialize(n){this.customButtons=[],this.options.positions={draw:"",edit:"",options:"",custom:""},this.init(n)},reinit(){let n=this.isVisible;this.removeControls(),this._defineButtons(),n&&this.addControls()},init(n){this.map=n,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this.optionsContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-options leaflet-bar leaflet-control"),this.customContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-custom leaflet-bar leaflet-control"),this._defineButtons()},_createContainer(n){let r=`${n}Container`;return this[r]||(this[r]=L.DomUtil.create("div",`leaflet-pm-toolbar leaflet-pm-${n} leaflet-bar leaflet-control`)),this[r]},getButtons(){return this.buttons},addControls(n=this.options){typeof n.editPolygon<"u"&&(n.editMode=n.editPolygon),typeof n.deleteLayer<"u"&&(n.removalMode=n.deleteLayer),L.Util.setOptions(this,n),this.applyIconStyle(),this.isVisible=!0,this._showHideButtons()},applyIconStyle(){let n=this.getButtons(),r={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",drawCircleMarker:"control-icon leaflet-pm-icon-circle-marker",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete",drawText:"control-icon leaflet-pm-icon-text"}};for(let a in n){let c=n[a];L.Util.setOptions(c,{className:r.geomanIcons[a]})}},removeControls(){let n=this.getButtons();for(let r in n)n[r].remove();this.isVisible=!1},toggleControls(n=this.options){this.isVisible?this.removeControls():this.addControls(n)},_addButton(n,r){return this.buttons[n]=r,this.options[n]=!!this.options[n]||!1,this.buttons[n]},triggerClickOnToggledButtons(n){for(let r in this.buttons){let a=this.buttons[r];a._button.disableByOtherButtons&&a!==n&&a.toggled()&&a._triggerClick()}},toggleButton(n,r,a=!0){return n==="editPolygon"&&(n="editMode"),n==="deleteLayer"&&(n="removalMode"),a&&this.triggerClickOnToggledButtons(this.buttons[n]),this.buttons[n]?this.buttons[n].toggle(r):!1},_defineButtons(){let n={className:"control-icon leaflet-pm-icon-marker",title:Be("buttonTitles.drawMarkerButton"),jsClass:"Marker",onClick:()=>{},afterClick:(it,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},r={title:Be("buttonTitles.drawPolyButton"),className:"control-icon leaflet-pm-icon-polygon",jsClass:"Polygon",onClick:()=>{},afterClick:(it,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},a={className:"control-icon leaflet-pm-icon-polyline",title:Be("buttonTitles.drawLineButton"),jsClass:"Line",onClick:()=>{},afterClick:(it,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},c={title:Be("buttonTitles.drawCircleButton"),className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:()=>{},afterClick:(it,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},f={title:Be("buttonTitles.drawCircleMarkerButton"),className:"control-icon leaflet-pm-icon-circle-marker",jsClass:"CircleMarker",onClick:()=>{},afterClick:(it,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},m={title:Be("buttonTitles.drawRectButton"),className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:()=>{},afterClick:(it,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},v={title:Be("buttonTitles.editButton"),className:"control-icon leaflet-pm-icon-edit",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},C={title:Be("buttonTitles.dragButton"),className:"control-icon leaflet-pm-icon-drag",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},M={title:Be("buttonTitles.cutButton"),className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:()=>{},afterClick:(it,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},B={title:Be("buttonTitles.deleteButton"),className:"control-icon leaflet-pm-icon-delete",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},$={title:Be("buttonTitles.rotateButton"),className:"control-icon leaflet-pm-icon-rotate",onClick:()=>{},afterClick:()=>{this.map.pm.toggleGlobalRotateMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finishMode"]},F={className:"control-icon leaflet-pm-icon-text",title:Be("buttonTitles.drawTextButton"),jsClass:"Text",onClick:()=>{},afterClick:(it,ht)=>{this.map.pm.Draw[ht.button._button.jsClass].toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(n)),this._addButton("drawPolyline",new L.Control.PMButton(a)),this._addButton("drawRectangle",new L.Control.PMButton(m)),this._addButton("drawPolygon",new L.Control.PMButton(r)),this._addButton("drawCircle",new L.Control.PMButton(c)),this._addButton("drawCircleMarker",new L.Control.PMButton(f)),this._addButton("drawText",new L.Control.PMButton(F)),this._addButton("editMode",new L.Control.PMButton(v)),this._addButton("dragMode",new L.Control.PMButton(C)),this._addButton("cutPolygon",new L.Control.PMButton(M)),this._addButton("removalMode",new L.Control.PMButton(B)),this._addButton("rotateMode",new L.Control.PMButton($))},_showHideButtons(){if(!this.isVisible)return;this.removeControls(),this.isVisible=!0;let n=this.getButtons(),r=[];this.options.drawControls===!1&&(r=r.concat(Object.keys(n).filter(a=>!n[a]._button.tool))),this.options.editControls===!1&&(r=r.concat(Object.keys(n).filter(a=>n[a]._button.tool==="edit"))),this.options.optionsControls===!1&&(r=r.concat(Object.keys(n).filter(a=>n[a]._button.tool==="options"))),this.options.customControls===!1&&(r=r.concat(Object.keys(n).filter(a=>n[a]._button.tool==="custom")));for(let a in n)if(this.options[a]&&r.indexOf(a)===-1){let c=n[a]._button.tool;c||(c="draw"),n[a].setPosition(this._getBtnPosition(c)),n[a].addTo(this.map)}},_getBtnPosition(n){return this.options.positions&&this.options.positions[n]?this.options.positions[n]:this.options.position},setBlockPosition(n,r){this.options.positions[n]=r,this._showHideButtons(),this.changeControlOrder()},getBlockPositions(){return this.options.positions},copyDrawControl(n,r){if(r)typeof r!="object"&&(r={name:r});else throw new TypeError("Button has no name");let a=this._btnNameMapping(n);if(!r.name)throw new TypeError("Button has no name");if(this.buttons[r.name])throw new TypeError("Button with this name already exists");let c=this.map.pm.Draw.createNewDrawInstance(r.name,a);r={...this.buttons[a]._button,...r};let f=this.createCustomControl(r);return{drawInstance:c,control:f}},createCustomControl(n){if(!n.name)throw new TypeError("Button has no name");if(this.buttons[n.name])throw new TypeError("Button with this name already exists");n.onClick||(n.onClick=()=>{}),n.afterClick||(n.afterClick=()=>{}),n.toggle!==!1&&(n.toggle=!0),n.block&&(n.block=n.block.toLowerCase()),(!n.block||n.block==="draw")&&(n.block=""),n.className?n.className.indexOf("control-icon")===-1&&(n.className=`control-icon ${n.className}`):n.className="control-icon";let r={tool:n.block,className:n.className,title:n.title||"",jsClass:n.name,onClick:n.onClick,afterClick:n.afterClick,doToggle:n.toggle,toggleStatus:!1,disableOtherButtons:n.disableOtherButtons??!0,disableByOtherButtons:n.disableByOtherButtons??!0,cssToggle:n.toggle,position:this.options.position,actions:n.actions||[],disabled:!!n.disabled};this.options[n.name]!==!1&&(this.options[n.name]=!0);let a=this._addButton(n.name,new L.Control.PMButton(r));return this.changeControlOrder(),a},controlExists(n){return!!this.getButton(n)},getButton(n){return this.getButtons()[n]},getButtonsInBlock(n){let r={};if(n)for(let a in this.getButtons()){let c=this.getButtons()[a];(c._button.tool===n||n==="draw"&&!c._button.tool)&&(r[a]=c)}return r},changeControlOrder(n=[]){let r=this._shapeMapping(),a=[];n.forEach(m=>{r[m]?a.push(r[m]):a.push(m)});let c=this.getButtons(),f={};a.forEach(m=>{c[m]&&(f[m]=c[m])}),Object.keys(c).filter(m=>!c[m]._button.tool).forEach(m=>{a.indexOf(m)===-1&&(f[m]=c[m])}),Object.keys(c).filter(m=>c[m]._button.tool==="edit").forEach(m=>{a.indexOf(m)===-1&&(f[m]=c[m])}),Object.keys(c).filter(m=>c[m]._button.tool==="options").forEach(m=>{a.indexOf(m)===-1&&(f[m]=c[m])}),Object.keys(c).filter(m=>c[m]._button.tool==="custom").forEach(m=>{a.indexOf(m)===-1&&(f[m]=c[m])}),Object.keys(c).forEach(m=>{a.indexOf(m)===-1&&(f[m]=c[m])}),this.map.pm.Toolbar.buttons=f,this._showHideButtons()},getControlOrder(){let n=this.getButtons(),r=[];for(let a in n)r.push(a);return r},changeActionsOfControl(n,r){let a=this._btnNameMapping(n);if(!a)throw new TypeError("No name passed");if(!r)throw new TypeError("No actions passed");if(!this.buttons[a])throw new TypeError("Button with this name not exists");this.buttons[a]._button.actions=r,this.changeControlOrder()},setButtonDisabled(n,r){let a=this._btnNameMapping(n);r?this.buttons[a].disable():this.buttons[a].enable()},_shapeMapping(){return{Marker:"drawMarker",Circle:"drawCircle",Polygon:"drawPolygon",Rectangle:"drawRectangle",Polyline:"drawPolyline",Line:"drawPolyline",CircleMarker:"drawCircleMarker",Edit:"editMode",Drag:"dragMode",Cut:"cutPolygon",Removal:"removalMode",Rotate:"rotateMode",Text:"drawText"}},_btnNameMapping(n){let r=this._shapeMapping();return r[n]?r[n]:n}}),Ta=Sa,ms=y(oo()),gu={_initSnappableMarkers(){this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){this._layer.off("pm:dragstart",this._unsnap,this)},_assignEvents(n){n.forEach(r=>{if(Array.isArray(r)){this._assignEvents(r);return}r.off("drag",this._handleSnapping,this),r.on("drag",this._handleSnapping,this),r.off("dragend",this._cleanupSnapping,this),r.on("dragend",this._cleanupSnapping,this)})},_cleanupSnapping(n){if(n){let r=n.target;r._snapped=!1}delete this._snapList,this.throttledList&&(this._map.off("layeradd",this.throttledList,this),this.throttledList=void 0),this._map.off("layerremove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach(r=>{r.remove()})},_handleThrottleSnapping(){this.throttledList&&this._createSnapList()},_handleSnapping(n){var C,M,B;let r=n.target;if(r._snapped=!1,this.throttledList||(this.throttledList=L.Util.throttle(this._handleThrottleSnapping,100,this)),((C=n==null?void 0:n.originalEvent)==null?void 0:C.altKey)||((B=(M=this._map)==null?void 0:M.pm)==null?void 0:B.Keyboard.isAltKeyPressed())||(this._snapList===void 0&&(this._createSnapList(),this._map.off("layeradd",this.throttledList,this),this._map.on("layeradd",this.throttledList,this)),this._snapList.length<=0))return!1;let a=this._calcClosestLayer(r.getLatLng(),this._snapList);if(Object.keys(a).length===0)return!1;let c=a.layer instanceof L.Marker||a.layer instanceof L.CircleMarker||!this.options.snapSegment,f;c?f=a.latlng:f=this._checkPrioritiySnapping(a);let m=this.options.snapDistance,v={marker:r,shape:this._shape,snapLatLng:f,segment:a.segment,layer:this._layer,workingLayer:this._layer,layerInteractedWith:a.layer,distance:a.distance};if(this._fireSnapDrag(v.marker,v),this._fireSnapDrag(this._layer,v),a.distance<m){r._orgLatLng=r.getLatLng(),r.setLatLng(f),r._snapped=!0,r._snapInfo=v;let $=()=>{this._snapLatLng=f,this._fireSnap(r,v),this._fireSnap(this._layer,v)},F=this._snapLatLng||{},it=f||{};(F.lat!==it.lat||F.lng!==it.lng)&&$()}else this._snapLatLng&&(this._unsnap(v),r._snapped=!1,r._snapInfo=void 0,this._fireUnsnap(v.marker,v),this._fireUnsnap(this._layer,v));return!0},_createSnapList(){let n=[],r=[],a=this._map;a.off("layerremove",this._handleSnapLayerRemoval,this),a.on("layerremove",this._handleSnapLayerRemoval,this),a.eachLayer(c=>{if((c instanceof L.Polyline||c instanceof L.Marker||c instanceof L.CircleMarker||c instanceof L.ImageOverlay)&&c.options.snapIgnore!==!0){if(c.options.snapIgnore===void 0&&(!L.PM.optIn&&c.options.pmIgnore===!0||L.PM.optIn&&c.options.pmIgnore!==!1))return;(c instanceof L.Circle||c instanceof L.CircleMarker)&&c.pm&&c.pm._hiddenPolyCircle?n.push(c.pm._hiddenPolyCircle):c instanceof L.ImageOverlay&&(c=L.rectangle(c.getBounds())),n.push(c);let f=L.polyline([],{color:"red",pmIgnore:!0});f._pmTempLayer=!0,r.push(f),(c instanceof L.Circle||c instanceof L.CircleMarker)&&r.push(f)}}),n=n.filter(c=>this._layer!==c),n=n.filter(c=>c._latlng||c._latlngs&&On(c._latlngs)),n=n.filter(c=>!c._pmTempLayer),this._otherSnapLayers?(this._otherSnapLayers.forEach(()=>{let c=L.polyline([],{color:"red",pmIgnore:!0});c._pmTempLayer=!0,r.push(c)}),this._snapList=n.concat(this._otherSnapLayers)):this._snapList=n,this.debugIndicatorLines=r},_handleSnapLayerRemoval({layer:n}){if(!n._leaflet_id)return;let r=this._snapList.findIndex(a=>a._leaflet_id===n._leaflet_id);r>-1&&this._snapList.splice(r,1)},_calcClosestLayer(n,r){return this._calcClosestLayers(n,r,1)[0]},_calcClosestLayers(n,r,a=1){let c=[],f={};r.forEach((v,C)=>{if(v._parentCopy&&v._parentCopy===this._layer)return;let M=this._calcLayerDistances(n,v);if(M.distance=Math.floor(M.distance),this.debugIndicatorLines){if(!this.debugIndicatorLines[C]){let B=L.polyline([],{color:"red",pmIgnore:!0});B._pmTempLayer=!0,this.debugIndicatorLines[C]=B}this.debugIndicatorLines[C].setLatLngs([n,M.latlng])}a===1&&(f.distance===void 0||M.distance-5<=f.distance)?(M.distance+5<f.distance&&(c=[]),f=M,f.layer=v,c.push(f)):a!==1&&(f={},f=M,f.layer=v,c.push(f))}),a!==1&&(c=c.sort((v,C)=>v.distance-C.distance)),a===-1&&(a=c.length);let m=this._getClosestLayerByPriority(c,a);return L.Util.isArray(m)?m:[m]},_calcLayerDistances(n,r){let a=this._map,c=r instanceof L.Marker||r instanceof L.CircleMarker,f=r instanceof L.Polygon,m=n;if(c){let v=r.getLatLng();return{latlng:{...v},distance:this._getDistance(a,v,m)}}return this._calcLatLngDistances(m,r.getLatLngs(),a,f)},_calcLatLngDistances(n,r,a,c=!1){let f,m,v,C=M=>{M.forEach((B,$)=>{if(Array.isArray(B)){C(B);return}if(this.options.snapSegment){let F=B,it;c?it=$+1===M.length?0:$+1:it=$+1===M.length?void 0:$+1;let ht=M[it];if(ht){let Mt=this._getDistanceToSegment(a,n,F,ht);(m===void 0||Mt<m)&&(m=Mt,v=[F,ht])}}else{let F=this._getDistance(a,n,B);(m===void 0||F<m)&&(m=F,f=B)}})};return C(r),this.options.snapSegment?{latlng:{...this._getClosestPointOnSegment(a,n,v[0],v[1])},segment:v,distance:m}:{latlng:f,distance:m}},_getClosestLayerByPriority(n,r=1){n=n.sort((v,C)=>v._leaflet_id-C._leaflet_id);let a=["Marker","CircleMarker","Circle","Line","Polygon","Rectangle"],c=this._map.pm.globalOptions.snappingOrder||[],f=0,m={};return c.concat(a).forEach(v=>{m[v]||(f+=1,m[v]=f)}),n.sort(_u("instanceofShape",m)),r===1?n[0]||{}:n.slice(0,r)},_checkPrioritiySnapping(n){let r=this._map,a=n.segment[0],c=n.segment[1],f=n.latlng,m=this._getDistance(r,a,f),v=this._getDistance(r,c,f),C=m<v?a:c,M=m<v?m:v;if(this.options.snapMiddle){let F=L.PM.Utils.calcMiddleLatLng(r,a,c),it=this._getDistance(r,F,f);it<m&&it<v&&(C=F,M=it)}let B=this.options.snapDistance,$;return M<B?$=C:$=f,{...$}},_unsnap(){delete this._snapLatLng},_getClosestPointOnSegment(n,r,a,c){let f=n.getMaxZoom();f===1/0&&(f=n.getZoom());let m=n.project(r,f),v=n.project(a,f),C=n.project(c,f),M=L.LineUtil.closestPointOnSegment(m,v,C);return n.unproject(M,f)},_getDistanceToSegment(n,r,a,c){let f=n.latLngToLayerPoint(r),m=n.latLngToLayerPoint(a),v=n.latLngToLayerPoint(c);return L.LineUtil.pointToSegmentDistance(f,m,v)},_getDistance(n,r,a){return n.latLngToLayerPoint(r).distanceTo(n.latLngToLayerPoint(a))}},gs=gu,Aa=L.Class.extend({includes:[gs,Xi],options:{snappable:!0,snapDistance:20,snapMiddle:!1,allowSelfIntersection:!0,tooltips:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},pathOptions:null,cursorMarker:!0,finishOn:null,markerStyle:{draggable:!0,icon:L.icon()},hideMiddleMarkers:!1,minRadiusCircle:null,maxRadiusCircle:null,minRadiusCircleMarker:null,maxRadiusCircleMarker:null,resizeableCircleMarker:!1,resizableCircle:!0,markerEditable:!0,continueDrawing:!1,snapSegment:!0,requireSnapToFinish:!1,rectangleAngle:0},setOptions(n){L.Util.setOptions(this,n),this.setStyle(this.options)},setStyle(){},getOptions(){return this.options},initialize(n){let r=new L.Icon.Default;r.options.tooltipAnchor=[0,0],this.options.markerStyle.icon=r,this._map=n,this.shapes=["Marker","CircleMarker","Line","Polygon","Rectangle","Circle","Cut","Text"],this.shapes.forEach(a=>{this[a]=new L.PM.Draw[a](this._map)}),this.Marker.setOptions({continueDrawing:!0}),this.CircleMarker.setOptions({continueDrawing:!0})},setPathOptions(n,r=!1){r?this.options.pathOptions=(0,ms.default)(this.options.pathOptions,n):this.options.pathOptions=n},getShapes(){return this.shapes},getShape(){return this._shape},enable(n,r){if(!n)throw new Error(`Error: Please pass a shape as a parameter. Possible shapes are: ${this.getShapes().join(",")}`);this.disable(),this[n].enable(r)},disable(){this.shapes.forEach(n=>{this[n].disable()})},addControls(){this.shapes.forEach(n=>{this[n].addButton()})},getActiveShape(){let n;return this.shapes.forEach(r=>{this[r]._enabled&&(n=r)}),n},_setGlobalDrawMode(){this._shape==="Cut"?this._fireGlobalCutModeToggled():this._fireGlobalDrawModeToggled();let n=[];this._map.eachLayer(r=>{(r instanceof L.Polyline||r instanceof L.Marker||r instanceof L.Circle||r instanceof L.CircleMarker||r instanceof L.ImageOverlay)&&(r._pmTempLayer||n.push(r))}),this._enabled?n.forEach(r=>{L.PM.Utils.disablePopup(r)}):n.forEach(r=>{L.PM.Utils.enablePopup(r)})},createNewDrawInstance(n,r){let a=this._getShapeFromBtnName(r);if(this[n])throw new TypeError("Draw Type already exists");if(!L.PM.Draw[a])throw new TypeError(`There is no class L.PM.Draw.${a}`);return this[n]=new L.PM.Draw[a](this._map),this[n].toolbarButtonName=n,this[n]._shape=n,this.shapes.push(n),this[r]&&this[n].setOptions(this[r].options),this[n].setOptions(this[n].options),this[n]},_getShapeFromBtnName(n){let r={drawMarker:"Marker",drawCircle:"Circle",drawPolygon:"Polygon",drawPolyline:"Line",drawRectangle:"Rectangle",drawCircleMarker:"CircleMarker",editMode:"Edit",dragMode:"Drag",cutPolygon:"Cut",removalMode:"Removal",rotateMode:"Rotate",drawText:"Text"};return r[n]?r[n]:this[n]?this[n]._shape:n},_finishLayer(n){n.pm&&(n.pm.setOptions(this.options),n.pm._shape=this._shape,n.pm._map=this._map),this._addDrawnLayerProp(n)},_addDrawnLayerProp(n){n._drawnByGeoman=!0},_setPane(n,r){r==="layerPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":r==="vertexPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":r==="markerPane"&&(n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},_isFirstLayer(){return(this._map||this._layer._map).pm.getGeomanLayers().length===0}}),fn=Aa;fn.Marker=fn.extend({initialize(n){this._map=n,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable(n){L.Util.setOptions(this,n),this._enabled=!0,this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),this.options.markerStyle),this._setPane(this._hintMarker,"markerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.placeMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this.options.markerEditable&&this._map.eachLayer(r=>{this.isRelevantMarker(r)&&r.pm.enable()}),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer(n=>{this.isRelevantMarker(n)&&n.pm.disable()}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(n){this.enabled()?this.disable():this.enable(n)},isRelevantMarker(n){return n instanceof L.Marker&&n.pm&&!n._pmTempLayer&&!n.pm._initTextMarker},_syncHintMarker(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){let r=n;r.target=this._hintMarker,this._handleSnapping(r)}this._fireChange(this._hintMarker.getLatLng(),"Draw")},_createMarker(n){if(!n.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng(),a=new L.Marker(r,this.options.markerStyle);this._setPane(a,"markerPane"),this._finishLayer(a),a.pm||(a.options.draggable=!1),a.addTo(this._map.pm._getContainingLayer()),a.pm&&this.options.markerEditable?a.pm.enable():a.dragging&&a.dragging.disable(),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},setStyle(){var n,r;(n=this.options.markerStyle)!=null&&n.icon&&((r=this._hintMarker)==null||r.setIcon(this.options.markerStyle.icon))}});var En=63710088e-1,po={centimeters:En*100,centimetres:En*100,degrees:En/111325,feet:En*3.28084,inches:En*39.37,kilometers:En/1e3,kilometres:En/1e3,meters:En,metres:En,miles:En/1609.344,millimeters:En*1e3,millimetres:En*1e3,nauticalmiles:En/1852,radians:1,yards:En*1.0936};function tr(n,r,a){a===void 0&&(a={});var c={type:"Feature"};return(a.id===0||a.id)&&(c.id=a.id),a.bbox&&(c.bbox=a.bbox),c.properties=r||{},c.geometry=n,c}function zi(n,r,a){if(a===void 0&&(a={}),!n)throw new Error("coordinates is required");if(!Array.isArray(n))throw new Error("coordinates must be an Array");if(n.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!ys(n[0])||!ys(n[1]))throw new Error("coordinates must contain numbers");var c={type:"Point",coordinates:n};return tr(c,r,a)}function er(n,r,a){if(a===void 0&&(a={}),n.length<2)throw new Error("coordinates must be an array of two or more positions");var c={type:"LineString",coordinates:n};return tr(c,r,a)}function Jn(n,r){r===void 0&&(r={});var a={type:"FeatureCollection"};return r.id&&(a.id=r.id),r.bbox&&(a.bbox=r.bbox),a.features=n,a}function Vi(n,r){r===void 0&&(r="kilometers");var a=po[r];if(!a)throw new Error(r+" units is invalid");return n*a}function yu(n,r){r===void 0&&(r="kilometers");var a=po[r];if(!a)throw new Error(r+" units is invalid");return n/a}function $i(n){var r=n%(2*Math.PI);return r*180/Math.PI}function Ye(n){var r=n%360;return r*Math.PI/180}function ys(n){return!isNaN(n)&&n!==null&&!Array.isArray(n)}function Dr(n){var r,a,c={type:"FeatureCollection",features:[]};if(n.type==="Feature"?a=n.geometry:a=n,a.type==="LineString")r=[a.coordinates];else if(a.type==="MultiLineString")r=a.coordinates;else if(a.type==="MultiPolygon")r=[].concat.apply([],a.coordinates);else if(a.type==="Polygon")r=a.coordinates;else throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");return r.forEach(function(f){r.forEach(function(m){for(var v=0;v<f.length-1;v++)for(var C=v;C<m.length-1;C++)if(!(f===m&&(Math.abs(v-C)===1||v===0&&C===f.length-2&&f[v][0]===f[f.length-1][0]&&f[v][1]===f[f.length-1][1]))){var M=vu(f[v][0],f[v][1],f[v+1][0],f[v+1][1],m[C][0],m[C][1],m[C+1][0],m[C+1][1]);M&&c.features.push(zi([M[0],M[1]]))}})}),c}function vu(n,r,a,c,f,m,v,C){var M,B,$,F,it,ht={x:null,y:null,onLine1:!1,onLine2:!1};return M=(C-m)*(a-n)-(v-f)*(c-r),M===0?ht.x!==null&&ht.y!==null?ht:!1:(B=r-m,$=n-f,F=(v-f)*B-(C-m)*$,it=(a-n)*B-(c-r)*$,B=F/M,$=it/M,ht.x=n+B*(a-n),ht.y=r+B*(c-r),B>=0&&B<=1&&(ht.onLine1=!0),$>=0&&$<=1&&(ht.onLine2=!0),ht.onLine1&&ht.onLine2?[ht.x,ht.y]:!1)}fn.Line=fn.extend({initialize(n){this._map=n,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable(n){L.Util.setOptions(this,n),this._enabled=!0,this._markers=[],this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],{...this.options.templineStyle,pmIgnore:!1}),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._createVertex,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.on(this.options.finishOn,this._finishShape,this),this.options.finishOn==="dblclick"&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this.isRed=!1,this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this.options.finishOn!=="snap"&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(n){this.enabled()?this.disable():this.enable(n)},_syncHintLine(){let n=this._layer.getLatLngs();if(n.length>0){let r=n[n.length-1];this._hintline.setLatLngs([r,this._hintMarker.getLatLng()])}},_syncHintMarker(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){let a=n;a.target=this._hintMarker,this._handleSnapping(a)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,this._hintMarker.getLatLng());let r=this._layer._defaultShape().slice();r.push(this._hintMarker.getLatLng()),this._change(r)},hasSelfIntersection(){return Dr(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersection(n,r){let a=L.polyline(this._layer.getLatLngs());n&&(r||(r=this._hintMarker.getLatLng()),a.addLatLng(r));let c=Dr(a.toGeoJSON(15));this._doesSelfIntersect=c.features.length>0,this._doesSelfIntersect?this.isRed||(this.isRed=!0,this._hintline.setStyle({color:"#f00000ff"}),this._fireIntersect(c,this._map,"Draw")):this._hintline.isEmpty()||(this.isRed=!1,this._hintline.setStyle(this.options.hintlineStyle))},_createVertex(n){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,n.latlng),this._doesSelfIntersect))return;this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng(),a=this._layer.getLatLngs(),c=a[a.length-1];if(r.equals(a[0])||a.length>0&&r.equals(c)){this._finishShape();return}this._layer._latlngInfo=this._layer._latlngInfo||[],this._layer._latlngInfo.push({latlng:r,snapInfo:this._hintMarker._snapInfo}),this._layer.addLatLng(r);let f=this._createMarker(r);this._setTooltipText(),this._setHintLineAfterNewVertex(r),this._fireVertexAdded(f,void 0,r,"Draw"),this._change(this._layer.getLatLngs()),this.options.finishOn==="snap"&&this._hintMarker._snapped&&this._finishShape(n)},_setHintLineAfterNewVertex(n){this._hintline.setLatLngs([n,n])},_removeLastVertex(){let n=this._markers;if(n.length<=1){this.disable();return}let r=this._layer.getLatLngs(),a=n[n.length-1],{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(n,a);n.pop(),this._layerGroup.removeLayer(a);let f=n[n.length-1],m=r.indexOf(f.getLatLng());r=r.slice(0,m+1),this._layer.setLatLngs(r),this._layer._latlngInfo.pop(),this._syncHintLine(),this._setTooltipText(),this._fireVertexRemoved(a,c,"Draw"),this._change(this._layer.getLatLngs())},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!1),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let n=this._layer.getLatLngs();if(n.length<=1)return;let r=L.polyline(n,this.options.pathOptions);this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this.options.snappable&&this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createMarker(n){let r=new L.Marker(n,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this._layerGroup.addLayer(r),this._markers.push(r),r.on("click",this._finishShape,this),r},_setTooltipText(){let{length:n}=this._layer.getLatLngs().flat(),r="";n<=1?r=Be("tooltips.continueLine"):r=Be("tooltips.finishLine"),this._hintMarker.setTooltipContent(r)},_change(n){this._fireChange(n,"Draw")},setStyle(){var n,r;(n=this._layer)==null||n.setStyle(this.options.templineStyle),(r=this._hintline)==null||r.setStyle(this.options.hintlineStyle)}}),fn.Polygon=fn.Line.extend({initialize(n){this._map=n,this._shape="Polygon",this.toolbarButtonName="drawPolygon"},enable(n){L.PM.Draw.Line.prototype.enable.call(this,n),this._layer.pm._shape="Polygon"},_createMarker(n){let r=new L.Marker(n,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this._layerGroup.addLayer(r),this._markers.push(r),this._layer.getLatLngs().flat().length===1?(r.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(r)-1,this.options.snappable&&this._cleanupSnapping()):r.on("click",()=>1),r},_setTooltipText(){let{length:n}=this._layer.getLatLngs().flat(),r="";n<=2?r=Be("tooltips.continueLine"):r=Be("tooltips.finishPoly"),this._hintMarker.setTooltipContent(r)},_finishShape(){if(!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let n=this._layer.getLatLngs();if(n.length<=2)return;let r=L.polygon(n,this.options.pathOptions);this._setPane(r,"layerPane"),this._finishLayer(r),r.addTo(this._map.pm._getContainingLayer()),this._fireCreate(r),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this.disable(),this.options.continueDrawing&&this.enable()}}),fn.Rectangle=fn.extend({initialize(n){this._map=n,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable(n){if(L.Util.setOptions(this,n),this._enabled=!0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._startMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!1,zIndexOffset:-100,opacity:this.options.cursorMarker?1:0}),this._setPane(this._startMarker,"vertexPane"),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:150,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.firstVertex"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){this._styleMarkers=[];for(let r=0;r<2;r+=1){let a=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!1,zIndexOffset:100});this._setPane(a,"vertexPane"),a._pmTempLayer=!0,this._layerGroup.addLayer(a),this._styleMarkers.push(a)}}this._map.getContainer().classList.add("geoman-draw-cursor"),this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(n){this.enabled()?this.disable():this.enable(n)},_placeStartingMarkers(n){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(r),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach(a=>{L.DomUtil.addClass(a._icon,"visible"),a.setLatLng(r)}),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent(Be("tooltips.finishRect")),this._setRectangleOrigin()},_setRectangleOrigin(){let n=this._startMarker.getLatLng();n&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([n,n]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){let a=n;a.target=this._hintMarker,this._handleSnapping(a)}let r=this._layerGroup&&this._layerGroup.hasLayer(this._layer)?this._layer.getLatLngs():[this._hintMarker.getLatLng()];this._fireChange(r,"Draw")},_syncRectangleSize(){let n=ho(this._startMarker.getLatLng(),this._map),r=ho(this._hintMarker.getLatLng(),this._map),a=L.PM.Utils._getRotatedRectangle(n,r,this.options.rectangleAngle||0,this._map);if(this._layer.setLatLngs(a),this.options.cursorMarker&&this._styleMarkers){let c=[];a.forEach(f=>{!f.equals(n,1e-8)&&!f.equals(r,1e-8)&&c.push(f)}),c.forEach((f,m)=>{try{this._styleMarkers[m].setLatLng(f)}catch{}})}},_findCorners(){let n=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(n[0],n[2],this.options.rectangleAngle||0,this._map)},_finishShape(n){this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng(),a=this._startMarker.getLatLng();if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||a.equals(r))return;let c=L.rectangle([a,r],this.options.pathOptions);if(this.options.rectangleAngle){let f=L.PM.Utils._getRotatedRectangle(a,r,this.options.rectangleAngle||0,this._map);c.setLatLngs(f),c.pm&&c.pm._setAngle(this.options.rectangleAngle||0)}this._setPane(c,"layerPane"),this._finishLayer(c),c.addTo(this._map.pm._getContainingLayer()),this._fireCreate(c),this.disable(),this.options.continueDrawing&&this.enable()},setStyle(){var n;(n=this._layer)==null||n.setStyle(this.options.pathOptions)}}),fn.CircleMarker=fn.extend({initialize(n){this._map=n,this._shape="CircleMarker",this.toolbarButtonName="drawCircleMarker",this._layerIsDragging=!1,this._BaseCircleClass=L.CircleMarker,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._defaultRadius=10},enable(n){if(L.Util.setOptions(this,n),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),this._enabled=!0,this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._map.getContainer().classList.add("geoman-draw-cursor"),this.options[this._editableOption]){let r={};L.extend(r,this.options.templineStyle),r.radius=0,this._layerGroup=new L.FeatureGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=new this._BaseCircleClass(this._map.getCenter(),r),this._setPane(this._layer,"layerPane"),this._layer._pmTempLayer=!0,this._centerMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._setPane(this._centerMarker,"vertexPane"),this._centerMarker._pmTempLayer=!0,this._hintMarker=L.marker(this._map.getCenter(),{zIndexOffset:110,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.startCircle"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map.on("click",this._placeCenterMarker,this)}else this._map.on("click",this._createMarker,this),this._hintMarker=new this._BaseCircleClass(this._map.getCenter(),{radius:this._defaultRadius,...this.options.templineStyle}),this._setPane(this._hintMarker,"layerPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this._layer=this._hintMarker,this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.placeCircleMarker"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip();this._map.on("mousemove",this._syncHintMarker,this),this._extendingEnable(),this._otherSnapLayers=[],this._fireDrawStart(),this._setGlobalDrawMode()},_extendingEnable(){!this.options[this._editableOption]&&this.options.markerEditable&&this._map.eachLayer(n=>{this.isRelevantMarker(n)&&n.pm.enable()}),this._layer.bringToBack()},disable(){this._enabled&&(this._enabled=!1,this._map.getContainer().classList.remove("geoman-draw-cursor"),this.options[this._editableOption]?(this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.removeLayer(this._layerGroup)):(this._map.off("click",this._createMarker,this),this._extendingDisable(),this._hintMarker.remove()),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},_extendingDisable(){this._map.eachLayer(n=>{this.isRelevantMarker(n)&&n.pm.disable()})},enabled(){return this._enabled},toggle(n){this.enabled()?this.disable():this.enable(n)},_placeCenterMarker(n){this._layerGroup.addLayer(this._layer),this._layerGroup.addLayer(this._centerMarker),this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng();this._layerGroup.addLayer(this._layer),this._centerMarker.setLatLng(r),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter(){let n=this._centerMarker.getLatLng();n&&(this._layer.setLatLng(n),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent(Be("tooltips.finishCircle")),this._fireCenterPlaced(),this._fireChange(this._layer.getLatLng(),"Draw"))},_syncHintLine(){let n=this._centerMarker.getLatLng(),r=this._getNewDestinationOfHintMarker();this._hintline.setLatLngs([n,r])},_syncCircleRadius(){let n=this._centerMarker.getLatLng(),r=this._hintMarker.getLatLng(),a=this._distanceCalculation(n,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a)},_syncHintMarker(n){if(this._hintMarker.setLatLng(n.latlng),this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker()),this.options.snappable){let a=n;a.target=this._hintMarker,this._handleSnapping(a)}this._handleHintMarkerSnapping();let r=this._layerGroup&&this._layerGroup.hasLayer(this._centerMarker)?this._centerMarker.getLatLng():this._hintMarker.getLatLng();this._fireChange(r,"Draw")},isRelevantMarker(n){return n instanceof L.CircleMarker&&!(n instanceof L.Circle)&&n.pm&&!n._pmTempLayer},_createMarker(n){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer()||!n.latlng||this._layerIsDragging)return;this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng(),a=new this._BaseCircleClass(r,{radius:this._defaultRadius,...this.options.pathOptions});this._setPane(a,"layerPane"),this._finishLayer(a),a.addTo(this._map.pm._getContainingLayer()),this._extendingCreateMarker(a),this._fireCreate(a),this._cleanupSnapping(),this.options.continueDrawing||this.disable()},_extendingCreateMarker(n){n.pm&&this.options.markerEditable&&n.pm.enable()},_finishShape(n){if(this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._centerMarker.getLatLng(),a=this._defaultRadius;if(this.options[this._editableOption]){let m=this._hintMarker.getLatLng();a=this._distanceCalculation(r,m),this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?a=this.options[this._minRadiusOption]:this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(a=this.options[this._maxRadiusOption])}let c={...this.options.pathOptions,radius:a},f=new this._BaseCircleClass(r,c);this._setPane(f,"layerPane"),this._finishLayer(f),f.addTo(this._map.pm._getContainingLayer()),f.pm&&f.pm._updateHiddenPolyCircle(),this._fireCreate(f),this.disable(),this.options.continueDrawing&&this.enable()},_getNewDestinationOfHintMarker(){let n=this._hintMarker.getLatLng();if(this.options[this._editableOption]){if(!this._layerGroup.hasLayer(this._centerMarker))return n;let r=this._centerMarker.getLatLng(),a=this._distanceCalculation(r,n);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?n=Or(this._map,r,n,this._getMinDistanceInMeter()):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(n=Or(this._map,r,n,this._getMaxDistanceInMeter()))}return n},_getMinDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,this._centerMarker.getLatLng())},_getMaxDistanceInMeter(){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,this._centerMarker.getLatLng())},_handleHintMarkerSnapping(){if(this.options[this._editableOption]){if(this._hintMarker._snapped){let n=this._centerMarker.getLatLng(),r=this._hintMarker.getLatLng(),a=this._distanceCalculation(n,r);this._layerGroup.hasLayer(this._centerMarker)&&(this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._hintMarker.setLatLng(this._hintMarker._orgLatLng):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&this._hintMarker.setLatLng(this._hintMarker._orgLatLng))}this._hintMarker.setLatLng(this._getNewDestinationOfHintMarker())}},setStyle(){var r,a;let n={};L.extend(n,this.options.templineStyle),this.options[this._editableOption]&&(n.radius=0),(r=this._layer)==null||r.setStyle(n),(a=this._hintline)==null||a.setStyle(this.options.hintlineStyle)},_distanceCalculation(n,r){return this._map.project(n).distanceTo(this._map.project(r))}}),fn.Circle=fn.CircleMarker.extend({initialize(n){this._map=n,this._shape="Circle",this.toolbarButtonName="drawCircle",this._BaseCircleClass=L.Circle,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._defaultRadius=100},_extendingEnable(){},_extendingDisable(){},_extendingCreateMarker(){},isRelevantMarker(){},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_distanceCalculation(n,r){return this._map.distance(n,r)}});function zn(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return n.geometry.coordinates;if(n.type==="Point")return n.coordinates}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return n;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Vn(n){if(Array.isArray(n))return n;if(n.type==="Feature"){if(n.geometry!==null)return n.geometry.coordinates}else if(n.coordinates)return n.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function fo(n){return n.type==="Feature"?n.geometry:n}function Oa(n,r){return n.type==="FeatureCollection"?"FeatureCollection":n.type==="GeometryCollection"?"GeometryCollection":n.type==="Feature"&&n.geometry!==null?n.geometry.type:n.type}function _o(n,r,a){if(n!==null)for(var c,f,m,v,C,M,B,$=0,F=0,it,ht=n.type,Mt=ht==="FeatureCollection",Vt=ht==="Feature",qt=Mt?n.features.length:1,Pe=0;Pe<qt;Pe++){B=Mt?n.features[Pe].geometry:Vt?n.geometry:n,it=B?B.type==="GeometryCollection":!1,C=it?B.geometries.length:1;for(var V=0;V<C;V++){var Z=0,Y=0;if(v=it?B.geometries[V]:B,v!==null){M=v.coordinates;var ct=v.type;switch($=0,ct){case null:break;case"Point":if(r(M,F,Pe,Z,Y)===!1)return!1;F++,Z++;break;case"LineString":case"MultiPoint":for(c=0;c<M.length;c++){if(r(M[c],F,Pe,Z,Y)===!1)return!1;F++,ct==="MultiPoint"&&Z++}ct==="LineString"&&Z++;break;case"Polygon":case"MultiLineString":for(c=0;c<M.length;c++){for(f=0;f<M[c].length-$;f++){if(r(M[c][f],F,Pe,Z,Y)===!1)return!1;F++}ct==="MultiLineString"&&Z++,ct==="Polygon"&&Y++}ct==="Polygon"&&Z++;break;case"MultiPolygon":for(c=0;c<M.length;c++){for(Y=0,f=0;f<M[c].length;f++){for(m=0;m<M[c][f].length-$;m++){if(r(M[c][f][m],F,Pe,Z,Y)===!1)return!1;F++}Y++}Z++}break;case"GeometryCollection":for(c=0;c<v.geometries.length;c++)if(_o(v.geometries[c],r)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Rr(n,r){if(n.type==="Feature")r(n,0);else if(n.type==="FeatureCollection")for(var a=0;a<n.features.length&&r(n.features[a],a)!==!1;a++);}function Yn(n,r,a){var c=a;return Rr(n,function(f,m){m===0&&a===void 0?c=f:c=r(c,f,m)}),c}function nr(n,r){var a,c,f,m,v,C,M,B,$,F,it=0,ht=n.type==="FeatureCollection",Mt=n.type==="Feature",Vt=ht?n.features.length:1;for(a=0;a<Vt;a++){for(C=ht?n.features[a].geometry:Mt?n.geometry:n,B=ht?n.features[a].properties:Mt?n.properties:{},$=ht?n.features[a].bbox:Mt?n.bbox:void 0,F=ht?n.features[a].id:Mt?n.id:void 0,M=C?C.type==="GeometryCollection":!1,v=M?C.geometries.length:1,f=0;f<v;f++){if(m=M?C.geometries[f]:C,m===null){if(r(null,it,B,$,F)===!1)return!1;continue}switch(m.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(r(m,it,B,$,F)===!1)return!1;break}case"GeometryCollection":{for(c=0;c<m.geometries.length;c++)if(r(m.geometries[c],it,B,$,F)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}it++}}function vs(n,r){nr(n,function(a,c,f,m,v){var C=a===null?null:a.type;switch(C){case null:case"Point":case"LineString":case"Polygon":return r(tr(a,f,{bbox:m,id:v}),c,0)===!1?!1:void 0}var M;switch(C){case"MultiPoint":M="Point";break;case"MultiLineString":M="LineString";break;case"MultiPolygon":M="Polygon";break}for(var B=0;B<a.coordinates.length;B++){var $=a.coordinates[B],F={type:M,coordinates:$};if(r(tr(F,f),c,B)===!1)return!1}})}function _i(n){if(!n)throw new Error("geojson is required");var r=[];return vs(n,function(a){bu(a,r)}),Jn(r)}function bu(n,r){var a=[],c=n.geometry;if(c!==null){switch(c.type){case"Polygon":a=Vn(c);break;case"LineString":a=[Vn(c)]}a.forEach(function(f){var m=ir(f,n.properties);m.forEach(function(v){v.id=r.length,r.push(v)})})}}function ir(n,r){var a=[];return n.reduce(function(c,f){var m=er([c,f],r);return m.bbox=xu(c,f),a.push(m),f}),a}function xu(n,r){var a=n[0],c=n[1],f=r[0],m=r[1],v=a<f?a:f,C=c<m?c:m,M=a>f?a:f,B=c>m?c:m;return[v,C,M,B]}var Gi=_i,Da=y(Di(),1);function mo(n,r){var a={},c=[];if(n.type==="LineString"&&(n=tr(n)),r.type==="LineString"&&(r=tr(r)),n.type==="Feature"&&r.type==="Feature"&&n.geometry!==null&&r.geometry!==null&&n.geometry.type==="LineString"&&r.geometry.type==="LineString"&&n.geometry.coordinates.length===2&&r.geometry.coordinates.length===2){var f=Ra(n,r);return f&&c.push(f),Jn(c)}var m=(0,Da.default)();return m.load(Gi(r)),Rr(Gi(n),function(v){Rr(m.search(v),function(C){var M=Ra(v,C);if(M){var B=Vn(M).join(",");a[B]||(a[B]=!0,c.push(M))}})}),Jn(c)}function Ra(n,r){var a=Vn(n),c=Vn(r);if(a.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(c.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var f=a[0][0],m=a[0][1],v=a[1][0],C=a[1][1],M=c[0][0],B=c[0][1],$=c[1][0],F=c[1][1],it=(F-B)*(v-f)-($-M)*(C-m),ht=($-M)*(m-B)-(F-B)*(f-M),Mt=(v-f)*(m-B)-(C-m)*(f-M);if(it===0)return null;var Vt=ht/it,qt=Mt/it;if(Vt>=0&&Vt<=1&&qt>=0&&qt<=1){var Pe=f+Vt*(v-f),V=m+Vt*(C-m);return zi([Pe,V])}return null}var Bn=mo,Ir=y(Di(),1);function Lu(n,r,a){a===void 0&&(a={});var c=zn(n),f=zn(r),m=Ye(f[1]-c[1]),v=Ye(f[0]-c[0]),C=Ye(c[1]),M=Ye(f[1]),B=Math.pow(Math.sin(m/2),2)+Math.pow(Math.sin(v/2),2)*Math.cos(C)*Math.cos(M);return Vi(2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B)),a.units)}var mi=Lu;function Cu(n){var r=n[0],a=n[1],c=n[2],f=n[3],m=mi(n.slice(0,2),[c,a]),v=mi(n.slice(0,2),[r,f]);if(m>=v){var C=(a+f)/2;return[r,C-(c-r)/2,c,C+(c-r)/2]}else{var M=(r+c)/2;return[M-(f-a)/2,a,M+(f-a)/2,f]}}var gi=Cu;function bs(n){var r=[1/0,1/0,-1/0,-1/0];return _o(n,function(a){r[0]>a[0]&&(r[0]=a[0]),r[1]>a[1]&&(r[1]=a[1]),r[2]<a[0]&&(r[2]=a[0]),r[3]<a[1]&&(r[3]=a[1])}),r}bs.default=bs;var ri=bs;function wu(n,r){r===void 0&&(r={});var a=r.precision,c=r.coordinates,f=r.mutate;if(a=a==null||isNaN(a)?6:a,c=c==null||isNaN(c)?3:c,!n)throw new Error("<geojson> is required");if(typeof a!="number")throw new Error("<precision> must be a number");if(typeof c!="number")throw new Error("<coordinates> must be a number");(f===!1||f===void 0)&&(n=JSON.parse(JSON.stringify(n)));var m=Math.pow(10,a);return _o(n,function(v){yi(v,m,c)}),n}function yi(n,r,a){n.length>a&&n.splice(a,n.length);for(var c=0;c<n.length;c++)n[c]=Math.round(n[c]*r)/r;return n}var go=wu;function xs(n,r,a){if(a===void 0&&(a={}),a.final===!0)return Ls(n,r);var c=zn(n),f=zn(r),m=Ye(c[0]),v=Ye(f[0]),C=Ye(c[1]),M=Ye(f[1]),B=Math.sin(v-m)*Math.cos(M),$=Math.cos(C)*Math.sin(M)-Math.sin(C)*Math.cos(M)*Math.cos(v-m);return $i(Math.atan2(B,$))}function Ls(n,r){var a=xs(r,n);return a=(a+180)%360,a}function Fr(n,r,a,c){c===void 0&&(c={});var f=zn(n),m=Ye(f[0]),v=Ye(f[1]),C=Ye(a),M=yu(r,c.units),B=Math.asin(Math.sin(v)*Math.cos(M)+Math.cos(v)*Math.sin(M)*Math.cos(C)),$=m+Math.atan2(Math.sin(C)*Math.sin(M)*Math.cos(v),Math.cos(M)-Math.sin(v)*Math.sin(B)),F=$i($),it=$i(B);return zi([F,it],c.properties)}function Cs(n,r,a){a===void 0&&(a={});var c=zi([1/0,1/0],{dist:1/0}),f=0;return vs(n,function(m){for(var v=Vn(m),C=0;C<v.length-1;C++){var M=zi(v[C]);M.properties.dist=mi(r,M,a);var B=zi(v[C+1]);B.properties.dist=mi(r,B,a);var $=mi(M,B,a),F=Math.max(M.properties.dist,B.properties.dist),it=xs(M,B),ht=Fr(r,F,it+90,a),Mt=Fr(r,F,it-90,a),Vt=Bn(er([ht.geometry.coordinates,Mt.geometry.coordinates]),er([M.geometry.coordinates,B.geometry.coordinates])),qt=null;Vt.features.length>0&&(qt=Vt.features[0],qt.properties.dist=mi(r,qt,a),qt.properties.location=f+mi(M,qt,a)),M.properties.dist<c.properties.dist&&(c=M,c.properties.index=C,c.properties.location=f),B.properties.dist<c.properties.dist&&(c=B,c.properties.index=C+1,c.properties.location=f+$),qt&&qt.properties.dist<c.properties.dist&&(c=qt,c.properties.index=C),f+=$}}),c}var yo=Cs;function rr(n,r){if(!n)throw new Error("line is required");if(!r)throw new Error("splitter is required");var a=Oa(n),c=Oa(r);if(a!=="LineString")throw new Error("line must be LineString");if(c==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(c==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var f=go(r,{precision:7});switch(c){case"Point":return jr(n,f);case"MultiPoint":return Nr(n,f);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return Nr(n,Bn(n,f))}}function Nr(n,r){var a=[],c=(0,Ir.default)();return vs(r,function(f){if(a.forEach(function(C,M){C.id=M}),!a.length)a=jr(n,f).features,a.forEach(function(C){C.bbox||(C.bbox=gi(ri(C)))}),c.load(Jn(a));else{var m=c.search(f);if(m.features.length){var v=ws(f,m);a=a.filter(function(C){return C.id!==v.id}),c.remove(v),Rr(jr(v,f),function(C){a.push(C),c.insert(C)})}}}),Jn(a)}function jr(n,r){var a=[],c=Vn(n)[0],f=Vn(n)[n.geometry.coordinates.length-1];if(ks(c,zn(r))||ks(f,zn(r)))return Jn([n]);var m=(0,Ir.default)(),v=Gi(n);m.load(v);var C=m.search(r);if(!C.features.length)return Jn([n]);var M=ws(r,C),B=[c],$=Yn(v,function(F,it,ht){var Mt=Vn(it)[1],Vt=zn(r);return ht===M.id?(F.push(Vt),a.push(er(F)),ks(Vt,Mt)?[Vt]:[Vt,Mt]):(F.push(Mt),F)},B);return $.length>1&&a.push(er($)),Jn(a)}function ws(n,r){if(!r.features.length)throw new Error("lines must contain features");if(r.features.length===1)return r.features[0];var a,c=1/0;return Rr(r,function(f){var m=yo(f,n),v=m.properties.dist;v<c&&(a=f,c=v)}),a}function ks(n,r){return n[0]===r[0]&&n[1]===r[1]}var vo=rr;function bo(n,r,a){if(a===void 0&&(a={}),!n)throw new Error("point is required");if(!r)throw new Error("polygon is required");var c=zn(n),f=fo(r),m=f.type,v=r.bbox,C=f.coordinates;if(v&&ku(c,v)===!1)return!1;m==="Polygon"&&(C=[C]);for(var M=!1,B=0;B<C.length&&!M;B++)if(Ms(c,C[B][0],a.ignoreBoundary)){for(var $=!1,F=1;F<C[B].length&&!$;)Ms(c,C[B][F],!a.ignoreBoundary)&&($=!0),F++;$||(M=!0)}return M}function Ms(n,r,a){var c=!1;r[0][0]===r[r.length-1][0]&&r[0][1]===r[r.length-1][1]&&(r=r.slice(0,r.length-1));for(var f=0,m=r.length-1;f<r.length;m=f++){var v=r[f][0],C=r[f][1],M=r[m][0],B=r[m][1],$=n[1]*(v-M)+C*(M-n[0])+B*(n[0]-v)===0&&(v-n[0])*(M-n[0])<=0&&(C-n[1])*(B-n[1])<=0;if($)return!a;var F=C>n[1]!=B>n[1]&&n[0]<(M-v)*(n[1]-C)/(B-C)+v;F&&(c=!c)}return c}function ku(n,r){return r[0]<=n[0]&&r[1]<=n[1]&&r[2]>=n[0]&&r[3]>=n[1]}function Ia(n,r,a){a===void 0&&(a={});for(var c=zn(n),f=Vn(r),m=0;m<f.length-1;m++){var v=!1;if(a.ignoreEndVertices&&(m===0&&(v="start"),m===f.length-2&&(v="end"),m===0&&m+1===f.length-1&&(v="both")),Mu(f[m],f[m+1],c,v,typeof a.epsilon>"u"?null:a.epsilon))return!0}return!1}function Mu(n,r,a,c,f){var m=a[0],v=a[1],C=n[0],M=n[1],B=r[0],$=r[1],F=a[0]-C,it=a[1]-M,ht=B-C,Mt=$-M,Vt=F*Mt-it*ht;if(f!==null){if(Math.abs(Vt)>f)return!1}else if(Vt!==0)return!1;if(c){if(c==="start")return Math.abs(ht)>=Math.abs(Mt)?ht>0?C<m&&m<=B:B<=m&&m<C:Mt>0?M<v&&v<=$:$<=v&&v<M;if(c==="end")return Math.abs(ht)>=Math.abs(Mt)?ht>0?C<=m&&m<B:B<m&&m<=C:Mt>0?M<=v&&v<$:$<v&&v<=M;if(c==="both")return Math.abs(ht)>=Math.abs(Mt)?ht>0?C<m&&m<B:B<m&&m<C:Mt>0?M<v&&v<$:$<v&&v<M}else return Math.abs(ht)>=Math.abs(Mt)?ht>0?C<=m&&m<=B:B<=m&&m<=C:Mt>0?M<=v&&v<=$:$<=v&&v<=M;return!1}var Pn=Ia;function xo(n,r){var a=fo(n),c=fo(r),f=a.type,m=c.type,v=a.coordinates,C=c.coordinates;switch(f){case"Point":switch(m){case"Point":return Co(v,C);default:throw new Error("feature2 "+m+" geometry not supported")}case"MultiPoint":switch(m){case"Point":return Eu(a,c);case"MultiPoint":return Lo(a,c);default:throw new Error("feature2 "+m+" geometry not supported")}case"LineString":switch(m){case"Point":return Pn(c,a,{ignoreEndVertices:!0});case"LineString":return Pu(a,c);case"MultiPoint":return Bu(a,c);default:throw new Error("feature2 "+m+" geometry not supported")}case"Polygon":switch(m){case"Point":return bo(c,a,{ignoreBoundary:!0});case"LineString":return zr(a,c);case"Polygon":return Su(a,c);case"MultiPoint":return Fa(a,c);default:throw new Error("feature2 "+m+" geometry not supported")}default:throw new Error("feature1 "+f+" geometry not supported")}}function Eu(n,r){var a,c=!1;for(a=0;a<n.coordinates.length;a++)if(Co(n.coordinates[a],r.coordinates)){c=!0;break}return c}function Lo(n,r){for(var a=0,c=r.coordinates;a<c.length;a++){for(var f=c[a],m=!1,v=0,C=n.coordinates;v<C.length;v++){var M=C[v];if(Co(f,M)){m=!0;break}}if(!m)return!1}return!0}function Bu(n,r){for(var a=!1,c=0,f=r.coordinates;c<f.length;c++){var m=f[c];if(Pn(m,n,{ignoreEndVertices:!0})&&(a=!0),!Pn(m,n))return!1}return!!a}function Fa(n,r){for(var a=0,c=r.coordinates;a<c.length;a++){var f=c[a];if(!bo(f,n,{ignoreBoundary:!0}))return!1}return!0}function Pu(n,r){for(var a=!1,c=0,f=r.coordinates;c<f.length;c++){var m=f[c];if(Pn({type:"Point",coordinates:m},n,{ignoreEndVertices:!0})&&(a=!0),!Pn({type:"Point",coordinates:m},n,{ignoreEndVertices:!1}))return!1}return a}function zr(n,r){var a=!1,c=0,f=ri(n),m=ri(r);if(!Hi(f,m))return!1;for(c;c<r.coordinates.length-1;c++){var v=Na(r.coordinates[c],r.coordinates[c+1]);if(bo({type:"Point",coordinates:v},n,{ignoreBoundary:!0})){a=!0;break}}return a}function Su(n,r){if(n.type==="Feature"&&n.geometry===null||r.type==="Feature"&&r.geometry===null)return!1;var a=ri(n),c=ri(r);if(!Hi(a,c))return!1;for(var f=fo(r).coordinates,m=0,v=f;m<v.length;m++)for(var C=v[m],M=0,B=C;M<B.length;M++){var $=B[M];if(!bo($,n))return!1}return!0}function Hi(n,r){return!(n[0]>r[0]||n[2]<r[2]||n[1]>r[1]||n[3]<r[3])}function Co(n,r){return n[0]===r[0]&&n[1]===r[1]}function Na(n,r){return[(n[0]+r[0])/2,(n[1]+r[1])/2]}var Tu=y(wi()),oi=n=>()=>n,wo=n=>{let r=n?(a,c)=>c.minus(a).abs().isLessThanOrEqualTo(n):oi(!1);return(a,c)=>r(a,c)?0:a.comparedTo(c)};function ja(n){let r=n?(a,c,f,m,v)=>a.exponentiatedBy(2).isLessThanOrEqualTo(m.minus(c).exponentiatedBy(2).plus(v.minus(f).exponentiatedBy(2)).times(n)):oi(!1);return(a,c,f)=>{let m=a.x,v=a.y,C=f.x,M=f.y,B=v.minus(M).times(c.x.minus(C)).minus(m.minus(C).times(c.y.minus(M)));return r(B,m,v,C,M)?0:B.comparedTo(0)}}var Vr=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Es=Math.ceil,Cn=Math.floor,cn="[BigNumber Error] ",Bs=cn+"Number primitive has more than 15 significant digits: ",$n=1e14,fe=14,ko=9007199254740991,Mo=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],vi=1e7,an=1e9;function Ps(n){var r,a,c,f=V.prototype={constructor:V,toString:null,valueOf:null},m=new V(1),v=20,C=4,M=-7,B=21,$=-1e7,F=1e7,it=!1,ht=1,Mt=0,Vt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},qt="0123456789abcdefghijklmnopqrstuvwxyz",Pe=!0;function V(E,S){var O,A,D,R,K,q,W,nt,et=this;if(!(et instanceof V))return new V(E,S);if(S==null){if(E&&E._isBigNumber===!0){et.s=E.s,!E.c||E.e>F?et.c=et.e=null:E.e<$?et.c=[et.e=0]:(et.e=E.e,et.c=E.c.slice());return}if((q=typeof E=="number")&&E*0==0){if(et.s=1/E<0?(E=-E,-1):1,E===~~E){for(R=0,K=E;K>=10;K/=10,R++);R>F?et.c=et.e=null:(et.e=R,et.c=[E]);return}nt=String(E)}else{if(!Vr.test(nt=String(E)))return c(et,nt,q);et.s=nt.charCodeAt(0)==45?(nt=nt.slice(1),-1):1}(R=nt.indexOf("."))>-1&&(nt=nt.replace(".","")),(K=nt.search(/e/i))>0?(R<0&&(R=K),R+=+nt.slice(K+1),nt=nt.substring(0,K)):R<0&&(R=nt.length)}else{if(Ke(S,2,qt.length,"Base"),S==10&&Pe)return et=new V(E),X(et,v+et.e+1,C);if(nt=String(E),q=typeof E=="number"){if(E*0!=0)return c(et,nt,q,S);if(et.s=1/E<0?(nt=nt.slice(1),-1):1,V.DEBUG&&nt.replace(/^0\.0*|\./,"").length>15)throw Error(Bs+E)}else et.s=nt.charCodeAt(0)===45?(nt=nt.slice(1),-1):1;for(O=qt.slice(0,S),R=K=0,W=nt.length;K<W;K++)if(O.indexOf(A=nt.charAt(K))<0){if(A=="."){if(K>R){R=W;continue}}else if(!D&&(nt==nt.toUpperCase()&&(nt=nt.toLowerCase())||nt==nt.toLowerCase()&&(nt=nt.toUpperCase()))){D=!0,K=-1,R=0;continue}return c(et,String(E),q,S)}q=!1,nt=a(nt,S,10,et.s),(R=nt.indexOf("."))>-1?nt=nt.replace(".",""):R=nt.length}for(K=0;nt.charCodeAt(K)===48;K++);for(W=nt.length;nt.charCodeAt(--W)===48;);if(nt=nt.slice(K,++W)){if(W-=K,q&&V.DEBUG&&W>15&&(E>ko||E!==Cn(E)))throw Error(Bs+et.s*E);if((R=R-K-1)>F)et.c=et.e=null;else if(R<$)et.c=[et.e=0];else{if(et.e=R,et.c=[],K=(R+1)%fe,R<0&&(K+=fe),K<W){for(K&&et.c.push(+nt.slice(0,K)),W-=fe;K<W;)et.c.push(+nt.slice(K,K+=fe));K=fe-(nt=nt.slice(K)).length}else K-=W;for(;K--;nt+="0");et.c.push(+nt)}}else et.c=[et.e=0]}V.clone=Ps,V.ROUND_UP=0,V.ROUND_DOWN=1,V.ROUND_CEIL=2,V.ROUND_FLOOR=3,V.ROUND_HALF_UP=4,V.ROUND_HALF_DOWN=5,V.ROUND_HALF_EVEN=6,V.ROUND_HALF_CEIL=7,V.ROUND_HALF_FLOOR=8,V.EUCLID=9,V.config=V.set=function(E){var S,O;if(E!=null)if(typeof E=="object"){if(E.hasOwnProperty(S="DECIMAL_PLACES")&&(O=E[S],Ke(O,0,an,S),v=O),E.hasOwnProperty(S="ROUNDING_MODE")&&(O=E[S],Ke(O,0,8,S),C=O),E.hasOwnProperty(S="EXPONENTIAL_AT")&&(O=E[S],O&&O.pop?(Ke(O[0],-an,0,S),Ke(O[1],0,an,S),M=O[0],B=O[1]):(Ke(O,-an,an,S),M=-(B=O<0?-O:O))),E.hasOwnProperty(S="RANGE"))if(O=E[S],O&&O.pop)Ke(O[0],-an,-1,S),Ke(O[1],1,an,S),$=O[0],F=O[1];else if(Ke(O,-an,an,S),O)$=-(F=O<0?-O:O);else throw Error(cn+S+" cannot be zero: "+O);if(E.hasOwnProperty(S="CRYPTO"))if(O=E[S],O===!!O)if(O)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))it=O;else throw it=!O,Error(cn+"crypto unavailable");else it=O;else throw Error(cn+S+" not true or false: "+O);if(E.hasOwnProperty(S="MODULO_MODE")&&(O=E[S],Ke(O,0,9,S),ht=O),E.hasOwnProperty(S="POW_PRECISION")&&(O=E[S],Ke(O,0,an,S),Mt=O),E.hasOwnProperty(S="FORMAT"))if(O=E[S],typeof O=="object")Vt=O;else throw Error(cn+S+" not an object: "+O);if(E.hasOwnProperty(S="ALPHABET"))if(O=E[S],typeof O=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(O))Pe=O.slice(0,10)=="0123456789",qt=O;else throw Error(cn+S+" invalid: "+O)}else throw Error(cn+"Object expected: "+E);return{DECIMAL_PLACES:v,ROUNDING_MODE:C,EXPONENTIAL_AT:[M,B],RANGE:[$,F],CRYPTO:it,MODULO_MODE:ht,POW_PRECISION:Mt,FORMAT:Vt,ALPHABET:qt}},V.isBigNumber=function(E){if(!E||E._isBigNumber!==!0)return!1;if(!V.DEBUG)return!0;var S,O,A=E.c,D=E.e,R=E.s;t:if({}.toString.call(A)=="[object Array]"){if((R===1||R===-1)&&D>=-an&&D<=an&&D===Cn(D)){if(A[0]===0){if(D===0&&A.length===1)return!0;break t}if(S=(D+1)%fe,S<1&&(S+=fe),String(A[0]).length==S){for(S=0;S<A.length;S++)if(O=A[S],O<0||O>=$n||O!==Cn(O))break t;if(O!==0)return!0}}}else if(A===null&&D===null&&(R===null||R===1||R===-1))return!0;throw Error(cn+"Invalid BigNumber: "+E)},V.maximum=V.max=function(){return Y(arguments,-1)},V.minimum=V.min=function(){return Y(arguments,1)},V.random=function(){var E=9007199254740992,S=Math.random()*E&2097151?function(){return Cn(Math.random()*E)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(O){var A,D,R,K,q,W=0,nt=[],et=new V(m);if(O==null?O=v:Ke(O,0,an),K=Es(O/fe),it)if(crypto.getRandomValues){for(A=crypto.getRandomValues(new Uint32Array(K*=2));W<K;)q=A[W]*131072+(A[W+1]>>>11),q>=9e15?(D=crypto.getRandomValues(new Uint32Array(2)),A[W]=D[0],A[W+1]=D[1]):(nt.push(q%1e14),W+=2);W=K/2}else if(crypto.randomBytes){for(A=crypto.randomBytes(K*=7);W<K;)q=(A[W]&31)*281474976710656+A[W+1]*1099511627776+A[W+2]*4294967296+A[W+3]*16777216+(A[W+4]<<16)+(A[W+5]<<8)+A[W+6],q>=9e15?crypto.randomBytes(7).copy(A,W):(nt.push(q%1e14),W+=7);W=K/7}else throw it=!1,Error(cn+"crypto unavailable");if(!it)for(;W<K;)q=S(),q<9e15&&(nt[W++]=q%1e14);for(K=nt[--W],O%=fe,K&&O&&(q=Mo[fe-O],nt[W]=Cn(K/q)*q);nt[W]===0;nt.pop(),W--);if(W<0)nt=[R=0];else{for(R=-1;nt[0]===0;nt.splice(0,1),R-=fe);for(W=1,q=nt[0];q>=10;q/=10,W++);W<fe&&(R-=fe-W)}return et.e=R,et.c=nt,et}}(),V.sum=function(){for(var E=1,S=arguments,O=new V(S[0]);E<S.length;)O=O.plus(S[E++]);return O},a=function(){var E="0123456789";function S(O,A,D,R){for(var K,q=[0],W,nt=0,et=O.length;nt<et;){for(W=q.length;W--;q[W]*=A);for(q[0]+=R.indexOf(O.charAt(nt++)),K=0;K<q.length;K++)q[K]>D-1&&(q[K+1]==null&&(q[K+1]=0),q[K+1]+=q[K]/D|0,q[K]%=D)}return q.reverse()}return function(O,A,D,R,K){var q,W,nt,et,Lt,Zt,Wt,se,je=O.indexOf("."),Ge=v,Oe=C;for(je>=0&&(et=Mt,Mt=0,O=O.replace(".",""),se=new V(A),Zt=se.pow(O.length-je),Mt=et,se.c=S(d(Dn(Zt.c),Zt.e,"0"),10,D,E),se.e=se.c.length),Wt=S(O,A,D,K?(q=qt,E):(q=E,qt)),nt=et=Wt.length;Wt[--et]==0;Wt.pop());if(!Wt[0])return q.charAt(0);if(je<0?--nt:(Zt.c=Wt,Zt.e=nt,Zt.s=R,Zt=r(Zt,se,Ge,Oe,D),Wt=Zt.c,Lt=Zt.r,nt=Zt.e),W=nt+Ge+1,je=Wt[W],et=D/2,Lt=Lt||W<0||Wt[W+1]!=null,Lt=Oe<4?(je!=null||Lt)&&(Oe==0||Oe==(Zt.s<0?3:2)):je>et||je==et&&(Oe==4||Lt||Oe==6&&Wt[W-1]&1||Oe==(Zt.s<0?8:7)),W<1||!Wt[0])O=Lt?d(q.charAt(1),-Ge,q.charAt(0)):q.charAt(0);else{if(Wt.length=W,Lt)for(--D;++Wt[--W]>D;)Wt[W]=0,W||(++nt,Wt=[1].concat(Wt));for(et=Wt.length;!Wt[--et];);for(je=0,O="";je<=et;O+=q.charAt(Wt[je++]));O=d(O,nt,q.charAt(0))}return O}}(),r=function(){function E(A,D,R){var K,q,W,nt,et=0,Lt=A.length,Zt=D%vi,Wt=D/vi|0;for(A=A.slice();Lt--;)W=A[Lt]%vi,nt=A[Lt]/vi|0,K=Wt*W+nt*Zt,q=Zt*W+K%vi*vi+et,et=(q/R|0)+(K/vi|0)+Wt*nt,A[Lt]=q%R;return et&&(A=[et].concat(A)),A}function S(A,D,R,K){var q,W;if(R!=K)W=R>K?1:-1;else for(q=W=0;q<R;q++)if(A[q]!=D[q]){W=A[q]>D[q]?1:-1;break}return W}function O(A,D,R,K){for(var q=0;R--;)A[R]-=q,q=A[R]<D[R]?1:0,A[R]=q*K+A[R]-D[R];for(;!A[0]&&A.length>1;A.splice(0,1));}return function(A,D,R,K,q){var W,nt,et,Lt,Zt,Wt,se,je,Ge,Oe,He,Sn,Ka,Ru,Iu,Si,As,ai=A.s==D.s?1:-1,Rn=A.c,sn=D.c;if(!Rn||!Rn[0]||!sn||!sn[0])return new V(!A.s||!D.s||(Rn?sn&&Rn[0]==sn[0]:!sn)?NaN:Rn&&Rn[0]==0||!sn?ai*0:ai/0);for(je=new V(ai),Ge=je.c=[],nt=A.e-D.e,ai=R+nt+1,q||(q=$n,nt=Gn(A.e/fe)-Gn(D.e/fe),ai=ai/fe|0),et=0;sn[et]==(Rn[et]||0);et++);if(sn[et]>(Rn[et]||0)&&nt--,ai<0)Ge.push(1),Lt=!0;else{for(Ru=Rn.length,Si=sn.length,et=0,ai+=2,Zt=Cn(q/(sn[0]+1)),Zt>1&&(sn=E(sn,Zt,q),Rn=E(Rn,Zt,q),Si=sn.length,Ru=Rn.length),Ka=Si,Oe=Rn.slice(0,Si),He=Oe.length;He<Si;Oe[He++]=0);As=sn.slice(),As=[0].concat(As),Iu=sn[0],sn[1]>=q/2&&Iu++;do{if(Zt=0,W=S(sn,Oe,Si,He),W<0){if(Sn=Oe[0],Si!=He&&(Sn=Sn*q+(Oe[1]||0)),Zt=Cn(Sn/Iu),Zt>1)for(Zt>=q&&(Zt=q-1),Wt=E(sn,Zt,q),se=Wt.length,He=Oe.length;S(Wt,Oe,se,He)==1;)Zt--,O(Wt,Si<se?As:sn,se,q),se=Wt.length,W=1;else Zt==0&&(W=Zt=1),Wt=sn.slice(),se=Wt.length;if(se<He&&(Wt=[0].concat(Wt)),O(Oe,Wt,He,q),He=Oe.length,W==-1)for(;S(sn,Oe,Si,He)<1;)Zt++,O(Oe,Si<He?As:sn,He,q),He=Oe.length}else W===0&&(Zt++,Oe=[0]);Ge[et++]=Zt,Oe[0]?Oe[He++]=Rn[Ka]||0:(Oe=[Rn[Ka]],He=1)}while((Ka++<Ru||Oe[0]!=null)&&ai--);Lt=Oe[0]!=null,Ge[0]||Ge.splice(0,1)}if(q==$n){for(et=1,ai=Ge[0];ai>=10;ai/=10,et++);X(je,R+(je.e=et+nt*fe-1)+1,K,Lt)}else je.e=nt,je.r=+Lt;return je}}();function Z(E,S,O,A){var D,R,K,q,W;if(O==null?O=C:Ke(O,0,8),!E.c)return E.toString();if(D=E.c[0],K=E.e,S==null)W=Dn(E.c),W=A==1||A==2&&(K<=M||K>=B)?o(W,K):d(W,K,"0");else if(E=X(new V(E),S,O),R=E.e,W=Dn(E.c),q=W.length,A==1||A==2&&(S<=R||R<=M)){for(;q<S;W+="0",q++);W=o(W,R)}else if(S-=K,W=d(W,R,"0"),R+1>q){if(--S>0)for(W+=".";S--;W+="0");}else if(S+=R-q,S>0)for(R+1==q&&(W+=".");S--;W+="0");return E.s<0&&D?"-"+W:W}function Y(E,S){for(var O,A,D=1,R=new V(E[0]);D<E.length;D++)A=new V(E[D]),(!A.s||(O=Bi(R,A))===S||O===0&&R.s===S)&&(R=A);return R}function ct(E,S,O){for(var A=1,D=S.length;!S[--D];S.pop());for(D=S[0];D>=10;D/=10,A++);return(O=A+O*fe-1)>F?E.c=E.e=null:O<$?E.c=[E.e=0]:(E.e=O,E.c=S),E}c=function(){var E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,S=/^([^.]+)\.$/,O=/^\.([^.]+)$/,A=/^-?(Infinity|NaN)$/,D=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(R,K,q,W){var nt,et=q?K:K.replace(D,"");if(A.test(et))R.s=isNaN(et)?null:et<0?-1:1;else{if(!q&&(et=et.replace(E,function(Lt,Zt,Wt){return nt=(Wt=Wt.toLowerCase())=="x"?16:Wt=="b"?2:8,!W||W==nt?Zt:Lt}),W&&(nt=W,et=et.replace(S,"$1").replace(O,"0.$1")),K!=et))return new V(et,nt);if(V.DEBUG)throw Error(cn+"Not a"+(W?" base "+W:"")+" number: "+K);R.s=null}R.c=R.e=null}}();function X(E,S,O,A){var D,R,K,q,W,nt,et,Lt=E.c,Zt=Mo;if(Lt){t:{for(D=1,q=Lt[0];q>=10;q/=10,D++);if(R=S-D,R<0)R+=fe,K=S,W=Lt[nt=0],et=Cn(W/Zt[D-K-1]%10);else if(nt=Es((R+1)/fe),nt>=Lt.length)if(A){for(;Lt.length<=nt;Lt.push(0));W=et=0,D=1,R%=fe,K=R-fe+1}else break t;else{for(W=q=Lt[nt],D=1;q>=10;q/=10,D++);R%=fe,K=R-fe+D,et=K<0?0:Cn(W/Zt[D-K-1]%10)}if(A=A||S<0||Lt[nt+1]!=null||(K<0?W:W%Zt[D-K-1]),A=O<4?(et||A)&&(O==0||O==(E.s<0?3:2)):et>5||et==5&&(O==4||A||O==6&&(R>0?K>0?W/Zt[D-K]:0:Lt[nt-1])%10&1||O==(E.s<0?8:7)),S<1||!Lt[0])return Lt.length=0,A?(S-=E.e+1,Lt[0]=Zt[(fe-S%fe)%fe],E.e=-S||0):Lt[0]=E.e=0,E;if(R==0?(Lt.length=nt,q=1,nt--):(Lt.length=nt+1,q=Zt[fe-R],Lt[nt]=K>0?Cn(W/Zt[D-K]%Zt[K])*q:0),A)for(;;)if(nt==0){for(R=1,K=Lt[0];K>=10;K/=10,R++);for(K=Lt[0]+=q,q=1;K>=10;K/=10,q++);R!=q&&(E.e++,Lt[0]==$n&&(Lt[0]=1));break}else{if(Lt[nt]+=q,Lt[nt]!=$n)break;Lt[nt--]=0,q=1}for(R=Lt.length;Lt[--R]===0;Lt.pop());}E.e>F?E.c=E.e=null:E.e<$&&(E.c=[E.e=0])}return E}function at(E){var S,O=E.e;return O===null?E.toString():(S=Dn(E.c),S=O<=M||O>=B?o(S,O):d(S,O,"0"),E.s<0?"-"+S:S)}return f.absoluteValue=f.abs=function(){var E=new V(this);return E.s<0&&(E.s=1),E},f.comparedTo=function(E,S){return Bi(this,new V(E,S))},f.decimalPlaces=f.dp=function(E,S){var O,A,D,R=this;if(E!=null)return Ke(E,0,an),S==null?S=C:Ke(S,0,8),X(new V(R),E+R.e+1,S);if(!(O=R.c))return null;if(A=((D=O.length-1)-Gn(this.e/fe))*fe,D=O[D])for(;D%10==0;D/=10,A--);return A<0&&(A=0),A},f.dividedBy=f.div=function(E,S){return r(this,new V(E,S),v,C)},f.dividedToIntegerBy=f.idiv=function(E,S){return r(this,new V(E,S),0,1)},f.exponentiatedBy=f.pow=function(E,S){var O,A,D,R,K,q,W,nt,et,Lt=this;if(E=new V(E),E.c&&!E.isInteger())throw Error(cn+"Exponent not an integer: "+at(E));if(S!=null&&(S=new V(S)),q=E.e>14,!Lt.c||!Lt.c[0]||Lt.c[0]==1&&!Lt.e&&Lt.c.length==1||!E.c||!E.c[0])return et=new V(Math.pow(+at(Lt),q?E.s*(2-e(E)):+at(E))),S?et.mod(S):et;if(W=E.s<0,S){if(S.c?!S.c[0]:!S.s)return new V(NaN);A=!W&&Lt.isInteger()&&S.isInteger(),A&&(Lt=Lt.mod(S))}else{if(E.e>9&&(Lt.e>0||Lt.e<-1||(Lt.e==0?Lt.c[0]>1||q&&Lt.c[1]>=24e7:Lt.c[0]<8e13||q&&Lt.c[0]<=9999975e7)))return R=Lt.s<0&&e(E)?-0:0,Lt.e>-1&&(R=1/R),new V(W?1/R:R);Mt&&(R=Es(Mt/fe+2))}for(q?(O=new V(.5),W&&(E.s=1),nt=e(E)):(D=Math.abs(+at(E)),nt=D%2),et=new V(m);;){if(nt){if(et=et.times(Lt),!et.c)break;R?et.c.length>R&&(et.c.length=R):A&&(et=et.mod(S))}if(D){if(D=Cn(D/2),D===0)break;nt=D%2}else if(E=E.times(O),X(E,E.e+1,1),E.e>14)nt=e(E);else{if(D=+at(E),D===0)break;nt=D%2}Lt=Lt.times(Lt),R?Lt.c&&Lt.c.length>R&&(Lt.c.length=R):A&&(Lt=Lt.mod(S))}return A?et:(W&&(et=m.div(et)),S?et.mod(S):R?X(et,Mt,C,K):et)},f.integerValue=function(E){var S=new V(this);return E==null?E=C:Ke(E,0,8),X(S,S.e+1,E)},f.isEqualTo=f.eq=function(E,S){return Bi(this,new V(E,S))===0},f.isFinite=function(){return!!this.c},f.isGreaterThan=f.gt=function(E,S){return Bi(this,new V(E,S))>0},f.isGreaterThanOrEqualTo=f.gte=function(E,S){return(S=Bi(this,new V(E,S)))===1||S===0},f.isInteger=function(){return!!this.c&&Gn(this.e/fe)>this.c.length-2},f.isLessThan=f.lt=function(E,S){return Bi(this,new V(E,S))<0},f.isLessThanOrEqualTo=f.lte=function(E,S){return(S=Bi(this,new V(E,S)))===-1||S===0},f.isNaN=function(){return!this.s},f.isNegative=function(){return this.s<0},f.isPositive=function(){return this.s>0},f.isZero=function(){return!!this.c&&this.c[0]==0},f.minus=function(E,S){var O,A,D,R,K=this,q=K.s;if(E=new V(E,S),S=E.s,!q||!S)return new V(NaN);if(q!=S)return E.s=-S,K.plus(E);var W=K.e/fe,nt=E.e/fe,et=K.c,Lt=E.c;if(!W||!nt){if(!et||!Lt)return et?(E.s=-S,E):new V(Lt?K:NaN);if(!et[0]||!Lt[0])return Lt[0]?(E.s=-S,E):new V(et[0]?K:C==3?-0:0)}if(W=Gn(W),nt=Gn(nt),et=et.slice(),q=W-nt){for((R=q<0)?(q=-q,D=et):(nt=W,D=Lt),D.reverse(),S=q;S--;D.push(0));D.reverse()}else for(A=(R=(q=et.length)<(S=Lt.length))?q:S,q=S=0;S<A;S++)if(et[S]!=Lt[S]){R=et[S]<Lt[S];break}if(R&&(D=et,et=Lt,Lt=D,E.s=-E.s),S=(A=Lt.length)-(O=et.length),S>0)for(;S--;et[O++]=0);for(S=$n-1;A>q;){if(et[--A]<Lt[A]){for(O=A;O&&!et[--O];et[O]=S);--et[O],et[A]+=$n}et[A]-=Lt[A]}for(;et[0]==0;et.splice(0,1),--nt);return et[0]?ct(E,et,nt):(E.s=C==3?-1:1,E.c=[E.e=0],E)},f.modulo=f.mod=function(E,S){var O,A,D=this;return E=new V(E,S),!D.c||!E.s||E.c&&!E.c[0]?new V(NaN):!E.c||D.c&&!D.c[0]?new V(D):(ht==9?(A=E.s,E.s=1,O=r(D,E,0,3),E.s=A,O.s*=A):O=r(D,E,0,ht),E=D.minus(O.times(E)),!E.c[0]&&ht==1&&(E.s=D.s),E)},f.multipliedBy=f.times=function(E,S){var O,A,D,R,K,q,W,nt,et,Lt,Zt,Wt,se,je,Ge,Oe=this,He=Oe.c,Sn=(E=new V(E,S)).c;if(!He||!Sn||!He[0]||!Sn[0])return!Oe.s||!E.s||He&&!He[0]&&!Sn||Sn&&!Sn[0]&&!He?E.c=E.e=E.s=null:(E.s*=Oe.s,!He||!Sn?E.c=E.e=null:(E.c=[0],E.e=0)),E;for(A=Gn(Oe.e/fe)+Gn(E.e/fe),E.s*=Oe.s,W=He.length,Lt=Sn.length,W<Lt&&(se=He,He=Sn,Sn=se,D=W,W=Lt,Lt=D),D=W+Lt,se=[];D--;se.push(0));for(je=$n,Ge=vi,D=Lt;--D>=0;){for(O=0,Zt=Sn[D]%Ge,Wt=Sn[D]/Ge|0,K=W,R=D+K;R>D;)nt=He[--K]%Ge,et=He[K]/Ge|0,q=Wt*nt+et*Zt,nt=Zt*nt+q%Ge*Ge+se[R]+O,O=(nt/je|0)+(q/Ge|0)+Wt*et,se[R--]=nt%je;se[R]=O}return O?++A:se.splice(0,1),ct(E,se,A)},f.negated=function(){var E=new V(this);return E.s=-E.s||null,E},f.plus=function(E,S){var O,A=this,D=A.s;if(E=new V(E,S),S=E.s,!D||!S)return new V(NaN);if(D!=S)return E.s=-S,A.minus(E);var R=A.e/fe,K=E.e/fe,q=A.c,W=E.c;if(!R||!K){if(!q||!W)return new V(D/0);if(!q[0]||!W[0])return W[0]?E:new V(q[0]?A:D*0)}if(R=Gn(R),K=Gn(K),q=q.slice(),D=R-K){for(D>0?(K=R,O=W):(D=-D,O=q),O.reverse();D--;O.push(0));O.reverse()}for(D=q.length,S=W.length,D-S<0&&(O=W,W=q,q=O,S=D),D=0;S;)D=(q[--S]=q[S]+W[S]+D)/$n|0,q[S]=$n===q[S]?0:q[S]%$n;return D&&(q=[D].concat(q),++K),ct(E,q,K)},f.precision=f.sd=function(E,S){var O,A,D,R=this;if(E!=null&&E!==!!E)return Ke(E,1,an),S==null?S=C:Ke(S,0,8),X(new V(R),E,S);if(!(O=R.c))return null;if(D=O.length-1,A=D*fe+1,D=O[D]){for(;D%10==0;D/=10,A--);for(D=O[0];D>=10;D/=10,A++);}return E&&R.e+1>A&&(A=R.e+1),A},f.shiftedBy=function(E){return Ke(E,-ko,ko),this.times("1e"+E)},f.squareRoot=f.sqrt=function(){var E,S,O,A,D,R=this,K=R.c,q=R.s,W=R.e,nt=v+4,et=new V("0.5");if(q!==1||!K||!K[0])return new V(!q||q<0&&(!K||K[0])?NaN:K?R:1/0);if(q=Math.sqrt(+at(R)),q==0||q==1/0?(S=Dn(K),(S.length+W)%2==0&&(S+="0"),q=Math.sqrt(+S),W=Gn((W+1)/2)-(W<0||W%2),q==1/0?S="5e"+W:(S=q.toExponential(),S=S.slice(0,S.indexOf("e")+1)+W),O=new V(S)):O=new V(q+""),O.c[0]){for(W=O.e,q=W+nt,q<3&&(q=0);;)if(D=O,O=et.times(D.plus(r(R,D,nt,1))),Dn(D.c).slice(0,q)===(S=Dn(O.c)).slice(0,q))if(O.e<W&&--q,S=S.slice(q-3,q+1),S=="9999"||!A&&S=="4999"){if(!A&&(X(D,D.e+v+2,0),D.times(D).eq(R))){O=D;break}nt+=4,q+=4,A=1}else{(!+S||!+S.slice(1)&&S.charAt(0)=="5")&&(X(O,O.e+v+2,1),E=!O.times(O).eq(R));break}}return X(O,O.e+v+1,C,E)},f.toExponential=function(E,S){return E!=null&&(Ke(E,0,an),E++),Z(this,E,S,1)},f.toFixed=function(E,S){return E!=null&&(Ke(E,0,an),E=E+this.e+1),Z(this,E,S)},f.toFormat=function(E,S,O){var A,D=this;if(O==null)E!=null&&S&&typeof S=="object"?(O=S,S=null):E&&typeof E=="object"?(O=E,E=S=null):O=Vt;else if(typeof O!="object")throw Error(cn+"Argument not an object: "+O);if(A=D.toFixed(E,S),D.c){var R,K=A.split("."),q=+O.groupSize,W=+O.secondaryGroupSize,nt=O.groupSeparator||"",et=K[0],Lt=K[1],Zt=D.s<0,Wt=Zt?et.slice(1):et,se=Wt.length;if(W&&(R=q,q=W,W=R,se-=R),q>0&&se>0){for(R=se%q||q,et=Wt.substr(0,R);R<se;R+=q)et+=nt+Wt.substr(R,q);W>0&&(et+=nt+Wt.slice(R)),Zt&&(et="-"+et)}A=Lt?et+(O.decimalSeparator||"")+((W=+O.fractionGroupSize)?Lt.replace(new RegExp("\\d{"+W+"}\\B","g"),"$&"+(O.fractionGroupSeparator||"")):Lt):et}return(O.prefix||"")+A+(O.suffix||"")},f.toFraction=function(E){var S,O,A,D,R,K,q,W,nt,et,Lt,Zt,Wt=this,se=Wt.c;if(E!=null&&(q=new V(E),!q.isInteger()&&(q.c||q.s!==1)||q.lt(m)))throw Error(cn+"Argument "+(q.isInteger()?"out of range: ":"not an integer: ")+at(q));if(!se)return new V(Wt);for(S=new V(m),nt=O=new V(m),A=W=new V(m),Zt=Dn(se),R=S.e=Zt.length-Wt.e-1,S.c[0]=Mo[(K=R%fe)<0?fe+K:K],E=!E||q.comparedTo(S)>0?R>0?S:nt:q,K=F,F=1/0,q=new V(Zt),W.c[0]=0;et=r(q,S,0,1),D=O.plus(et.times(A)),D.comparedTo(E)!=1;)O=A,A=D,nt=W.plus(et.times(D=nt)),W=D,S=q.minus(et.times(D=S)),q=D;return D=r(E.minus(O),A,0,1),W=W.plus(D.times(nt)),O=O.plus(D.times(A)),W.s=nt.s=Wt.s,R=R*2,Lt=r(nt,A,R,C).minus(Wt).abs().comparedTo(r(W,O,R,C).minus(Wt).abs())<1?[nt,A]:[W,O],F=K,Lt},f.toNumber=function(){return+at(this)},f.toPrecision=function(E,S){return E!=null&&Ke(E,1,an),Z(this,E,S,2)},f.toString=function(E){var S,O=this,A=O.s,D=O.e;return D===null?A?(S="Infinity",A<0&&(S="-"+S)):S="NaN":(E==null?S=D<=M||D>=B?o(Dn(O.c),D):d(Dn(O.c),D,"0"):E===10&&Pe?(O=X(new V(O),v+D+1,C),S=d(Dn(O.c),O.e,"0")):(Ke(E,2,qt.length,"Base"),S=a(d(Dn(O.c),D,"0"),10,E,A,!0)),A<0&&O.c[0]&&(S="-"+S)),S},f.valueOf=f.toJSON=function(){return at(this)},f._isBigNumber=!0,f[Symbol.toStringTag]="BigNumber",f[Symbol.for("nodejs.util.inspect.custom")]=f.valueOf,n!=null&&V.set(n),V}function Gn(n){var r=n|0;return n>0||n===r?r:r-1}function Dn(n){for(var r,a,c=1,f=n.length,m=n[0]+"";c<f;){for(r=n[c++]+"",a=fe-r.length;a--;r="0"+r);m+=r}for(f=m.length;m.charCodeAt(--f)===48;);return m.slice(0,f+1||1)}function Bi(n,r){var a,c,f=n.c,m=r.c,v=n.s,C=r.s,M=n.e,B=r.e;if(!v||!C)return null;if(a=f&&!f[0],c=m&&!m[0],a||c)return a?c?0:-C:v;if(v!=C)return v;if(a=v<0,c=M==B,!f||!m)return c?0:!f^a?1:-1;if(!c)return M>B^a?1:-1;for(C=(M=f.length)<(B=m.length)?M:B,v=0;v<C;v++)if(f[v]!=m[v])return f[v]>m[v]^a?1:-1;return M==B?0:M>B^a?1:-1}function Ke(n,r,a,c){if(n<r||n>a||n!==Cn(n))throw Error(cn+(c||"Argument")+(typeof n=="number"?n<r||n>a?" out of range: ":" not an integer: ":" not a primitive number: ")+String(n))}function e(n){var r=n.c.length-1;return Gn(n.e/fe)==r&&n.c[r]%2!=0}function o(n,r){return(n.length>1?n.charAt(0)+"."+n.slice(1):n)+(r<0?"e":"e+")+r}function d(n,r,a){var c,f;if(r<0){for(f=a+".";++r;f+=a);n=f+n}else if(c=n.length,++r>c){for(f=a,r-=c;--r;f+=a);n+=f}else r<c&&(n=n.slice(0,r)+"."+n.slice(r));return n}var g=Ps(),x=g,P=class{constructor(n){oe(this,"key");oe(this,"left",null);oe(this,"right",null);this.key=n}},U=class extends P{constructor(n){super(n)}},rt=class{constructor(){oe(this,"size",0);oe(this,"modificationCount",0);oe(this,"splayCount",0)}splay(n){let r=this.root;if(r==null)return this.compare(n,n),-1;let a=null,c=null,f=null,m=null,v=r,C=this.compare,M;for(;;)if(M=C(v.key,n),M>0){let B=v.left;if(B==null||(M=C(B.key,n),M>0&&(v.left=B.right,B.right=v,v=B,B=v.left,B==null)))break;a==null?c=v:a.left=v,a=v,v=B}else if(M<0){let B=v.right;if(B==null||(M=C(B.key,n),M<0&&(v.right=B.left,B.left=v,v=B,B=v.right,B==null)))break;f==null?m=v:f.right=v,f=v,v=B}else break;return f!=null&&(f.right=v.left,v.left=m),a!=null&&(a.left=v.right,v.right=c),this.root!==v&&(this.root=v,this.splayCount++),M}splayMin(n){let r=n,a=r.left;for(;a!=null;){let c=a;r.left=c.right,c.right=r,r=c,a=r.left}return r}splayMax(n){let r=n,a=r.right;for(;a!=null;){let c=a;r.right=c.left,c.left=r,r=c,a=r.right}return r}_delete(n){if(this.root==null||this.splay(n)!=0)return null;let r=this.root,a=r,c=r.left;if(this.size--,c==null)this.root=r.right;else{let f=r.right;r=this.splayMax(c),r.right=f,this.root=r}return this.modificationCount++,a}addNewRoot(n,r){this.size++,this.modificationCount++;let a=this.root;if(a==null){this.root=n;return}r<0?(n.left=a,n.right=a.right,a.right=null):(n.right=a,n.left=a.left,a.left=null),this.root=n}_first(){let n=this.root;return n==null?null:(this.root=this.splayMin(n),this.root)}_last(){let n=this.root;return n==null?null:(this.root=this.splayMax(n),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(n){return this.validKey(n)&&this.splay(n)==0}defaultCompare(){return(n,r)=>n<r?-1:n>r?1:0}wrap(){return{getRoot:()=>this.root,setRoot:n=>{this.root=n},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:n=>{this.splayCount=n},splay:n=>this.splay(n),has:n=>this.has(n)}}},dt=class Ns extends rt{constructor(a,c){super();oe(this,"root",null);oe(this,"compare");oe(this,"validKey");oe(this,fh,"[object Set]");this.compare=a??this.defaultCompare(),this.validKey=c??(f=>f!=null&&f!=null)}delete(a){return this.validKey(a)?this._delete(a)!=null:!1}deleteAll(a){for(let c of a)this.delete(c)}forEach(a){let c=this[Symbol.iterator](),f;for(;f=c.next(),!f.done;)a(f.value,f.value,this)}add(a){let c=this.splay(a);return c!=0&&this.addNewRoot(new U(a),c),this}addAndReturn(a){let c=this.splay(a);return c!=0&&this.addNewRoot(new U(a),c),this.root.key}addAll(a){for(let c of a)this.add(c)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(a){if(a==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(a)<0)return this.root.key;let c=this.root.left;if(c==null)return null;let f=c.right;for(;f!=null;)c=f,f=c.right;return c.key}firstAfter(a){if(a==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(a)>0)return this.root.key;let c=this.root.right;if(c==null)return null;let f=c.left;for(;f!=null;)c=f,f=c.left;return c.key}retainAll(a){let c=new Ns(this.compare,this.validKey),f=this.modificationCount;for(let m of a){if(f!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(m)&&this.splay(m)==0&&c.add(this.root.key)}c.size!=this.size&&(this.root=c.root,this.size=c.size,this.modificationCount++)}lookup(a){return!this.validKey(a)||this.splay(a)!=0?null:this.root.key}intersection(a){let c=new Ns(this.compare,this.validKey);for(let f of this)a.has(f)&&c.add(f);return c}difference(a){let c=new Ns(this.compare,this.validKey);for(let f of this)a.has(f)||c.add(f);return c}union(a){let c=this.clone();return c.addAll(a),c}clone(){let a=new Ns(this.compare,this.validKey);return a.size=this.size,a.root=this.copyNode(this.root),a}copyNode(a){if(a==null)return null;function c(m,v){let C,M;do{if(C=m.left,M=m.right,C!=null){let B=new U(C.key);v.left=B,c(C,B)}if(M!=null){let B=new U(M.key);v.right=B,m=M,v=B}}while(M!=null)}let f=new U(a.key);return c(a,f),f}toSet(){return this.clone()}entries(){return new le(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[(_h=Symbol.iterator,fh=Symbol.toStringTag,_h)](){return new Ht(this.wrap())}},Ct=class{constructor(n){oe(this,"tree");oe(this,"path",new Array);oe(this,"modificationCount",null);oe(this,"splayCount");this.tree=n,this.splayCount=n.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;let n=this.path[this.path.length-1];return this.getValue(n)}rebuildPath(n){this.path.splice(0,this.path.length),this.tree.splay(n),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(n){for(;n!=null;)this.path.push(n),n=n.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let a=this.tree.getRoot();for(;a!=null;)this.path.push(a),a=a.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let n=this.path[this.path.length-1],r=n.right;if(r!=null){for(;r!=null;)this.path.push(r),r=r.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===n;)n=this.path.pop();return this.path.length>0}},Ht=class extends Ct{getValue(n){return n.key}},le=class extends Ct{getValue(n){return[n.key,n.key]}},Le=n=>n,wn=n=>{if(n){let r=new dt(wo(n)),a=new dt(wo(n)),c=(m,v)=>v.addAndReturn(m),f=m=>({x:c(m.x,r),y:c(m.y,a)});return f({x:new x(0),y:new x(0)}),f}return Le},rn=n=>({set:r=>{on=rn(r)},reset:()=>rn(n),compare:wo(n),snap:wn(n),orient:ja(n)}),on=rn(),hn=(n,r)=>n.ll.x.isLessThanOrEqualTo(r.x)&&r.x.isLessThanOrEqualTo(n.ur.x)&&n.ll.y.isLessThanOrEqualTo(r.y)&&r.y.isLessThanOrEqualTo(n.ur.y),Pi=(n,r)=>{if(r.ur.x.isLessThan(n.ll.x)||n.ur.x.isLessThan(r.ll.x)||r.ur.y.isLessThan(n.ll.y)||n.ur.y.isLessThan(r.ll.y))return null;let a=n.ll.x.isLessThan(r.ll.x)?r.ll.x:n.ll.x,c=n.ur.x.isLessThan(r.ur.x)?n.ur.x:r.ur.x,f=n.ll.y.isLessThan(r.ll.y)?r.ll.y:n.ll.y,m=n.ur.y.isLessThan(r.ur.y)?n.ur.y:r.ur.y;return{ll:{x:a,y:f},ur:{x:c,y:m}}},Eo=(n,r)=>n.x.times(r.y).minus(n.y.times(r.x)),za=(n,r)=>n.x.times(r.x).plus(n.y.times(r.y)),Bo=n=>za(n,n).sqrt(),Va=(n,r,a)=>{let c={x:r.x.minus(n.x),y:r.y.minus(n.y)},f={x:a.x.minus(n.x),y:a.y.minus(n.y)};return Eo(f,c).div(Bo(f)).div(Bo(c))},Au=(n,r,a)=>{let c={x:r.x.minus(n.x),y:r.y.minus(n.y)},f={x:a.x.minus(n.x),y:a.y.minus(n.y)};return za(f,c).div(Bo(f)).div(Bo(c))},Ss=(n,r,a)=>r.y.isZero()?null:{x:n.x.plus(r.x.div(r.y).times(a.minus(n.y))),y:a},en=(n,r,a)=>r.x.isZero()?null:{x:a,y:n.y.plus(r.y.div(r.x).times(a.minus(n.x)))},Po=(n,r,a,c)=>{if(r.x.isZero())return en(a,c,n.x);if(c.x.isZero())return en(n,r,a.x);if(r.y.isZero())return Ss(a,c,n.y);if(c.y.isZero())return Ss(n,r,a.y);let f=Eo(r,c);if(f.isZero())return null;let m={x:a.x.minus(n.x),y:a.y.minus(n.y)},v=Eo(m,r).div(f),C=Eo(m,c).div(f),M=n.x.plus(C.times(r.x)),B=a.x.plus(v.times(c.x)),$=n.y.plus(C.times(r.y)),F=a.y.plus(v.times(c.y)),it=M.plus(B).div(2),ht=$.plus(F).div(2);return{x:it,y:ht}},si=class s_{constructor(r,a){oe(this,"point");oe(this,"isLeft");oe(this,"segment");oe(this,"otherSE");oe(this,"consumedBy");r.events===void 0?r.events=[this]:r.events.push(this),this.point=r,this.isLeft=a}static compare(r,a){let c=s_.comparePoints(r.point,a.point);return c!==0?c:(r.point!==a.point&&r.link(a),r.isLeft!==a.isLeft?r.isLeft?1:-1:So.compare(r.segment,a.segment))}static comparePoints(r,a){return r.x.isLessThan(a.x)?-1:r.x.isGreaterThan(a.x)?1:r.y.isLessThan(a.y)?-1:r.y.isGreaterThan(a.y)?1:0}link(r){if(r.point===this.point)throw new Error("Tried to link already linked events");let a=r.point.events;for(let c=0,f=a.length;c<f;c++){let m=a[c];this.point.events.push(m),m.point=this.point}this.checkForConsuming()}checkForConsuming(){let r=this.point.events.length;for(let a=0;a<r;a++){let c=this.point.events[a];if(c.segment.consumedBy===void 0)for(let f=a+1;f<r;f++){let m=this.point.events[f];m.consumedBy===void 0&&c.otherSE.point.events===m.otherSE.point.events&&c.segment.consume(m.segment)}}}getAvailableLinkedEvents(){let r=[];for(let a=0,c=this.point.events.length;a<c;a++){let f=this.point.events[a];f!==this&&!f.segment.ringOut&&f.segment.isInResult()&&r.push(f)}return r}getLeftmostComparator(r){let a=new Map,c=f=>{let m=f.otherSE;a.set(f,{sine:Va(this.point,r.point,m.point),cosine:Au(this.point,r.point,m.point)})};return(f,m)=>{a.has(f)||c(f),a.has(m)||c(m);let{sine:v,cosine:C}=a.get(f),{sine:M,cosine:B}=a.get(m);return v.isGreaterThanOrEqualTo(0)&&M.isGreaterThanOrEqualTo(0)?C.isLessThan(B)?1:C.isGreaterThan(B)?-1:0:v.isLessThan(0)&&M.isLessThan(0)?C.isLessThan(B)?-1:C.isGreaterThan(B)?1:0:M.isLessThan(v)?-1:M.isGreaterThan(v)?1:0}}},Ou=0,So=class hl{constructor(r,a,c,f){oe(this,"id");oe(this,"leftSE");oe(this,"rightSE");oe(this,"rings");oe(this,"windings");oe(this,"ringOut");oe(this,"consumedBy");oe(this,"prev");oe(this,"_prevInResult");oe(this,"_beforeState");oe(this,"_afterState");oe(this,"_isInResult");this.id=++Ou,this.leftSE=r,r.segment=this,r.otherSE=a,this.rightSE=a,a.segment=this,a.otherSE=r,this.rings=c,this.windings=f}static compare(r,a){let c=r.leftSE.point.x,f=a.leftSE.point.x,m=r.rightSE.point.x,v=a.rightSE.point.x;if(v.isLessThan(c))return 1;if(m.isLessThan(f))return-1;let C=r.leftSE.point.y,M=a.leftSE.point.y,B=r.rightSE.point.y,$=a.rightSE.point.y;if(c.isLessThan(f)){if(M.isLessThan(C)&&M.isLessThan(B))return 1;if(M.isGreaterThan(C)&&M.isGreaterThan(B))return-1;let F=r.comparePoint(a.leftSE.point);if(F<0)return 1;if(F>0)return-1;let it=a.comparePoint(r.rightSE.point);return it!==0?it:-1}if(c.isGreaterThan(f)){if(C.isLessThan(M)&&C.isLessThan($))return-1;if(C.isGreaterThan(M)&&C.isGreaterThan($))return 1;let F=a.comparePoint(r.leftSE.point);if(F!==0)return F;let it=r.comparePoint(a.rightSE.point);return it<0?1:it>0?-1:1}if(C.isLessThan(M))return-1;if(C.isGreaterThan(M))return 1;if(m.isLessThan(v)){let F=a.comparePoint(r.rightSE.point);if(F!==0)return F}if(m.isGreaterThan(v)){let F=r.comparePoint(a.rightSE.point);if(F<0)return 1;if(F>0)return-1}if(!m.eq(v)){let F=B.minus(C),it=m.minus(c),ht=$.minus(M),Mt=v.minus(f);if(F.isGreaterThan(it)&&ht.isLessThan(Mt))return 1;if(F.isLessThan(it)&&ht.isGreaterThan(Mt))return-1}return m.isGreaterThan(v)?1:m.isLessThan(v)||B.isLessThan($)?-1:B.isGreaterThan($)?1:r.id<a.id?-1:r.id>a.id?1:0}static fromRing(r,a,c){let f,m,v,C=si.comparePoints(r,a);if(C<0)f=r,m=a,v=1;else if(C>0)f=a,m=r,v=-1;else throw new Error(`Tried to create degenerate segment at [${r.x}, ${r.y}]`);let M=new si(f,!0),B=new si(m,!1);return new hl(M,B,[c],[v])}replaceRightSE(r){this.rightSE=r,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){let r=this.leftSE.point.y,a=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:r.isLessThan(a)?r:a},ur:{x:this.rightSE.point.x,y:r.isGreaterThan(a)?r:a}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(r){return r.x.eq(this.leftSE.point.x)&&r.y.eq(this.leftSE.point.y)||r.x.eq(this.rightSE.point.x)&&r.y.eq(this.rightSE.point.y)}comparePoint(r){return on.orient(this.leftSE.point,r,this.rightSE.point)}getIntersection(r){let a=this.bbox(),c=r.bbox(),f=Pi(a,c);if(f===null)return null;let m=this.leftSE.point,v=this.rightSE.point,C=r.leftSE.point,M=r.rightSE.point,B=hn(a,C)&&this.comparePoint(C)===0,$=hn(c,m)&&r.comparePoint(m)===0,F=hn(a,M)&&this.comparePoint(M)===0,it=hn(c,v)&&r.comparePoint(v)===0;if($&&B)return it&&!F?v:!it&&F?M:null;if($)return F&&m.x.eq(M.x)&&m.y.eq(M.y)?null:m;if(B)return it&&v.x.eq(C.x)&&v.y.eq(C.y)?null:C;if(it&&F)return null;if(it)return v;if(F)return M;let ht=Po(m,this.vector(),C,r.vector());return ht===null||!hn(f,ht)?null:on.snap(ht)}split(r){let a=[],c=r.events!==void 0,f=new si(r,!0),m=new si(r,!1),v=this.rightSE;this.replaceRightSE(m),a.push(m),a.push(f);let C=new hl(f,v,this.rings.slice(),this.windings.slice());return si.comparePoints(C.leftSE.point,C.rightSE.point)>0&&C.swapEvents(),si.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),c&&(f.checkForConsuming(),m.checkForConsuming()),a}swapEvents(){let r=this.rightSE;this.rightSE=this.leftSE,this.leftSE=r,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let a=0,c=this.windings.length;a<c;a++)this.windings[a]*=-1}consume(r){let a=this,c=r;for(;a.consumedBy;)a=a.consumedBy;for(;c.consumedBy;)c=c.consumedBy;let f=hl.compare(a,c);if(f!==0){if(f>0){let m=a;a=c,c=m}if(a.prev===c){let m=a;a=c,c=m}for(let m=0,v=c.rings.length;m<v;m++){let C=c.rings[m],M=c.windings[m],B=a.rings.indexOf(C);B===-1?(a.rings.push(C),a.windings.push(M)):a.windings[B]+=M}c.rings=null,c.windings=null,c.consumedBy=a,c.leftSE.consumedBy=a.leftSE,c.rightSE.consumedBy=a.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{let r=this.prev.consumedBy||this.prev;this._beforeState=r.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;let r=this.beforeState();this._afterState={rings:r.rings.slice(0),windings:r.windings.slice(0),multiPolys:[]};let a=this._afterState.rings,c=this._afterState.windings,f=this._afterState.multiPolys;for(let C=0,M=this.rings.length;C<M;C++){let B=this.rings[C],$=this.windings[C],F=a.indexOf(B);F===-1?(a.push(B),c.push($)):c[F]+=$}let m=[],v=[];for(let C=0,M=a.length;C<M;C++){if(c[C]===0)continue;let B=a[C],$=B.poly;if(v.indexOf($)===-1)if(B.isExterior)m.push($);else{v.indexOf($)===-1&&v.push($);let F=m.indexOf(B.poly);F!==-1&&m.splice(F,1)}}for(let C=0,M=m.length;C<M;C++){let B=m[C].multiPoly;f.indexOf(B)===-1&&f.push(B)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;let r=this.beforeState().multiPolys,a=this.afterState().multiPolys;switch(Ha.type){case"union":{let c=r.length===0,f=a.length===0;this._isInResult=c!==f;break}case"intersection":{let c,f;r.length<a.length?(c=r.length,f=a.length):(c=a.length,f=r.length),this._isInResult=f===Ha.numMultiPolys&&c<f;break}case"xor":{let c=Math.abs(r.length-a.length);this._isInResult=c%2===1;break}case"difference":{let c=f=>f.length===1&&f[0].isSubject;this._isInResult=c(r)!==c(a);break}}return this._isInResult}},To=class{constructor(n,r,a){oe(this,"poly");oe(this,"isExterior");oe(this,"segments");oe(this,"bbox");if(!Array.isArray(n)||n.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=a,this.segments=[],typeof n[0][0]!="number"||typeof n[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let c=on.snap({x:new x(n[0][0]),y:new x(n[0][1])});this.bbox={ll:{x:c.x,y:c.y},ur:{x:c.x,y:c.y}};let f=c;for(let m=1,v=n.length;m<v;m++){if(typeof n[m][0]!="number"||typeof n[m][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let C=on.snap({x:new x(n[m][0]),y:new x(n[m][1])});C.x.eq(f.x)&&C.y.eq(f.y)||(this.segments.push(So.fromRing(f,C,this)),C.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=C.x),C.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=C.y),C.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=C.x),C.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=C.y),f=C)}(!c.x.eq(f.x)||!c.y.eq(f.y))&&this.segments.push(So.fromRing(f,c,this))}getSweepEvents(){let n=[];for(let r=0,a=this.segments.length;r<a;r++){let c=this.segments[r];n.push(c.leftSE),n.push(c.rightSE)}return n}},$a=class{constructor(n,r){oe(this,"multiPoly");oe(this,"exteriorRing");oe(this,"interiorRings");oe(this,"bbox");if(!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new To(n[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let a=1,c=n.length;a<c;a++){let f=new To(n[a],this,!1);f.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=f.bbox.ll.x),f.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=f.bbox.ll.y),f.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=f.bbox.ur.x),f.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=f.bbox.ur.y),this.interiorRings.push(f)}this.multiPoly=r}getSweepEvents(){let n=this.exteriorRing.getSweepEvents();for(let r=0,a=this.interiorRings.length;r<a;r++){let c=this.interiorRings[r].getSweepEvents();for(let f=0,m=c.length;f<m;f++)n.push(c[f])}return n}},Ga=class{constructor(n,r){oe(this,"isSubject");oe(this,"polys");oe(this,"bbox");if(!Array.isArray(n))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof n[0][0][0]=="number"&&(n=[n])}catch{}this.polys=[],this.bbox={ll:{x:new x(Number.POSITIVE_INFINITY),y:new x(Number.POSITIVE_INFINITY)},ur:{x:new x(Number.NEGATIVE_INFINITY),y:new x(Number.NEGATIVE_INFINITY)}};for(let a=0,c=n.length;a<c;a++){let f=new $a(n[a],this);f.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=f.bbox.ll.x),f.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=f.bbox.ll.y),f.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=f.bbox.ur.x),f.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=f.bbox.ur.y),this.polys.push(f)}this.isSubject=r}getSweepEvents(){let n=[];for(let r=0,a=this.polys.length;r<a;r++){let c=this.polys[r].getSweepEvents();for(let f=0,m=c.length;f<m;f++)n.push(c[f])}return n}},c_=class Sc{constructor(r){oe(this,"events");oe(this,"poly");oe(this,"_isExteriorRing");oe(this,"_enclosingRing");this.events=r;for(let a=0,c=r.length;a<c;a++)r[a].segment.ringOut=this;this.poly=null}static factory(r){let a=[];for(let c=0,f=r.length;c<f;c++){let m=r[c];if(!m.isInResult()||m.ringOut)continue;let v=null,C=m.leftSE,M=m.rightSE,B=[C],$=C.point,F=[];for(;v=C,C=M,B.push(C),C.point!==$;)for(;;){let it=C.getAvailableLinkedEvents();if(it.length===0){let Vt=B[0].point,qt=B[B.length-1].point;throw new Error(`Unable to complete output ring starting at [${Vt.x}, ${Vt.y}]. Last matching segment found ends at [${qt.x}, ${qt.y}].`)}if(it.length===1){M=it[0].otherSE;break}let ht=null;for(let Vt=0,qt=F.length;Vt<qt;Vt++)if(F[Vt].point===C.point){ht=Vt;break}if(ht!==null){let Vt=F.splice(ht)[0],qt=B.splice(Vt.index);qt.unshift(qt[0].otherSE),a.push(new Sc(qt.reverse()));continue}F.push({index:B.length,point:C.point});let Mt=C.getLeftmostComparator(v);M=it.sort(Mt)[0].otherSE;break}a.push(new Sc(B))}return a}getGeom(){let r=this.events[0].point,a=[r];for(let B=1,$=this.events.length-1;B<$;B++){let F=this.events[B].point,it=this.events[B+1].point;on.orient(F,r,it)!==0&&(a.push(F),r=F)}if(a.length===1)return null;let c=a[0],f=a[1];on.orient(c,r,f)===0&&a.shift(),a.push(a[0]);let m=this.isExteriorRing()?1:-1,v=this.isExteriorRing()?0:a.length-1,C=this.isExteriorRing()?a.length:-1,M=[];for(let B=v;B!=C;B+=m)M.push([a[B].x.toNumber(),a[B].y.toNumber()]);return M}isExteriorRing(){if(this._isExteriorRing===void 0){let r=this.enclosingRing();this._isExteriorRing=r?!r.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){var f,m;let r=this.events[0];for(let v=1,C=this.events.length;v<C;v++){let M=this.events[v];si.compare(r,M)>0&&(r=M)}let a=r.segment.prevInResult(),c=a?a.prevInResult():null;for(;;){if(!a)return null;if(!c)return a.ringOut;if(c.ringOut!==a.ringOut)return((f=c.ringOut)==null?void 0:f.enclosingRing())!==a.ringOut?a.ringOut:(m=a.ringOut)==null?void 0:m.enclosingRing();a=c.prevInResult(),c=a?a.prevInResult():null}}},lh=class{constructor(n){oe(this,"exteriorRing");oe(this,"interiorRings");this.exteriorRing=n,n.poly=this,this.interiorRings=[]}addInterior(n){this.interiorRings.push(n),n.poly=this}getGeom(){let n=this.exteriorRing.getGeom();if(n===null)return null;let r=[n];for(let a=0,c=this.interiorRings.length;a<c;a++){let f=this.interiorRings[a].getGeom();f!==null&&r.push(f)}return r}},h_=class{constructor(n){oe(this,"rings");oe(this,"polys");this.rings=n,this.polys=this._composePolys(n)}getGeom(){let n=[];for(let r=0,a=this.polys.length;r<a;r++){let c=this.polys[r].getGeom();c!==null&&n.push(c)}return n}_composePolys(n){var a;let r=[];for(let c=0,f=n.length;c<f;c++){let m=n[c];if(!m.poly)if(m.isExteriorRing())r.push(new lh(m));else{let v=m.enclosingRing();v!=null&&v.poly||r.push(new lh(v)),(a=v==null?void 0:v.poly)==null||a.addInterior(m)}}return r}},d_=class{constructor(n,r=So.compare){oe(this,"queue");oe(this,"tree");oe(this,"segments");this.queue=n,this.tree=new dt(r),this.segments=[]}process(n){let r=n.segment,a=[];if(n.consumedBy)return n.isLeft?this.queue.delete(n.otherSE):this.tree.delete(r),a;n.isLeft&&this.tree.add(r);let c=r,f=r;do c=this.tree.lastBefore(c);while(c!=null&&c.consumedBy!=null);do f=this.tree.firstAfter(f);while(f!=null&&f.consumedBy!=null);if(n.isLeft){let m=null;if(c){let C=c.getIntersection(r);if(C!==null&&(r.isAnEndpoint(C)||(m=C),!c.isAnEndpoint(C))){let M=this._splitSafely(c,C);for(let B=0,$=M.length;B<$;B++)a.push(M[B])}}let v=null;if(f){let C=f.getIntersection(r);if(C!==null&&(r.isAnEndpoint(C)||(v=C),!f.isAnEndpoint(C))){let M=this._splitSafely(f,C);for(let B=0,$=M.length;B<$;B++)a.push(M[B])}}if(m!==null||v!==null){let C=null;m===null?C=v:v===null?C=m:C=si.comparePoints(m,v)<=0?m:v,this.queue.delete(r.rightSE),a.push(r.rightSE);let M=r.split(C);for(let B=0,$=M.length;B<$;B++)a.push(M[B])}a.length>0?(this.tree.delete(r),a.push(n)):(this.segments.push(r),r.prev=c)}else{if(c&&f){let m=c.getIntersection(f);if(m!==null){if(!c.isAnEndpoint(m)){let v=this._splitSafely(c,m);for(let C=0,M=v.length;C<M;C++)a.push(v[C])}if(!f.isAnEndpoint(m)){let v=this._splitSafely(f,m);for(let C=0,M=v.length;C<M;C++)a.push(v[C])}}}this.tree.delete(r)}return a}_splitSafely(n,r){this.tree.delete(n);let a=n.rightSE;this.queue.delete(a);let c=n.split(r);return c.push(a),n.consumedBy===void 0&&this.tree.add(n),c}},p_=class{constructor(){oe(this,"type");oe(this,"numMultiPolys")}run(n,r,a){Ts.type=n;let c=[new Ga(r,!0)];for(let M=0,B=a.length;M<B;M++)c.push(new Ga(a[M],!1));if(Ts.numMultiPolys=c.length,Ts.type==="difference"){let M=c[0],B=1;for(;B<c.length;)Pi(c[B].bbox,M.bbox)!==null?B++:c.splice(B,1)}if(Ts.type==="intersection")for(let M=0,B=c.length;M<B;M++){let $=c[M];for(let F=M+1,it=c.length;F<it;F++)if(Pi($.bbox,c[F].bbox)===null)return[]}let f=new dt(si.compare);for(let M=0,B=c.length;M<B;M++){let $=c[M].getSweepEvents();for(let F=0,it=$.length;F<it;F++)f.add($[F])}let m=new d_(f),v=null;for(f.size!=0&&(v=f.first(),f.delete(v));v;){let M=m.process(v);for(let B=0,$=M.length;B<$;B++){let F=M[B];F.consumedBy===void 0&&f.add(F)}f.size!=0?(v=f.first(),f.delete(v)):v=null}on.reset();let C=c_.factory(m.segments);return new h_(C).getGeom()}},Ts=new p_,Ha=Ts,f_=(n,...r)=>Ha.run("intersection",n,r),__=(n,...r)=>Ha.run("difference",n,r);on.set;function Ua(n){let r={type:"Feature"};return r.geometry=n,r}function Za(n){return n.type==="Feature"?n.geometry:n}function uh(n){return n&&n.geometry&&n.geometry.coordinates?n.geometry.coordinates:n}function m_(n){return Ua({type:"LineString",coordinates:n})}function g_(n){return Ua({type:"MultiLineString",coordinates:n})}function ch(n){return Ua({type:"Polygon",coordinates:n})}function hh(n){return Ua({type:"MultiPolygon",coordinates:n})}function y_(n,r){let a=Za(n),c=Za(r),f=f_(a.coordinates,c.coordinates);return f.length===0?null:f.length===1?ch(f[0]):hh(f)}function v_(n,r){let a=Za(n),c=Za(r),f=__(a.coordinates,c.coordinates);return f.length===0?null:f.length===1?ch(f[0]):hh(f)}function dh(n){return Array.isArray(n)?1+dh(n[0]):-1}function b_(n){n instanceof L.Polyline&&(n=n.toGeoJSON(15));let r=uh(n),a=dh(r),c=[];return a>1?r.forEach(f=>{c.push(m_(f))}):c.push(n),c}function x_(n){let r=[];return n.eachLayer(a=>{r.push(uh(a.toGeoJSON(15)))}),g_(r)}fn.Cut=fn.Polygon.extend({initialize(n){this._map=n,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_finishShape(){if(this._editedLayers=[],!this.options.allowSelfIntersection&&(this._handleSelfIntersection(!0,this._layer.getLatLngs()[0]),this._doesSelfIntersect)||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;let n=this._layer.getLatLngs();if(n.length<=2)return;let r=L.polygon(n,this.options.pathOptions);r._latlngInfos=this._layer._latlngInfo,this.cut(r),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex,this._editedLayers.forEach(({layer:a,originalLayer:c})=>{this._fireCut(c,a,c),this._fireCut(this._map,a,c),c.pm._fireEdit()}),this._editedLayers=[],this.disable(),this.options.continueDrawing&&this.enable()},cut(n){let r=this._map._layers,a=n._latlngInfos||[];Object.keys(r).map(c=>r[c]).filter(c=>c.pm).filter(c=>!c._pmTempLayer).filter(c=>!L.PM.optIn&&!c.options.pmIgnore||L.PM.optIn&&c.options.pmIgnore===!1).filter(c=>c instanceof L.Polyline).filter(c=>c!==n).filter(c=>c.pm.options.allowCutting).filter(c=>this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0?this.options.layersToCut.indexOf(c)>-1:!0).filter(c=>!this._layerGroup.hasLayer(c)).filter(c=>{try{let f=!!Bn(n.toGeoJSON(15),c.toGeoJSON(15)).features.length>0;return f||c instanceof L.Polyline&&!(c instanceof L.Polygon)?f:!!y_(n.toGeoJSON(15),c.toGeoJSON(15))}catch{return c instanceof L.Polygon&&console.error("You can't cut polygons with self-intersections"),!1}}).forEach(c=>{let f;if(c instanceof L.Polygon){f=L.polygon(c.getLatLngs());let M=f.getLatLngs();a.forEach(B=>{if(B&&B.snapInfo){let{latlng:$}=B,F=this._calcClosestLayer($,[f]);if(F&&F.segment&&F.distance<this.options.snapDistance){let{segment:it}=F;if(it&&it.length===2){let{indexPath:ht,parentPath:Mt,newIndex:Vt}=L.PM.Utils._getIndexFromSegment(M,it);(ht.length>1?(0,Tu.default)(M,Mt):M).splice(Vt,0,$)}}}})}else f=c;let m=this._cutLayer(n,f),v=L.geoJSON(m,c.options);v.getLayers().length===1&&([v]=v.getLayers()),this._setPane(v,"layerPane");let C=v.addTo(this._map.pm._getContainingLayer());if(C.pm.enable(c.pm.options),C.pm.disable(),c._pmTempLayer=!0,n._pmTempLayer=!0,c.remove(),c.removeFrom(this._map.pm._getContainingLayer()),n.remove(),n.removeFrom(this._map.pm._getContainingLayer()),C.getLayers&&C.getLayers().length===0&&this._map.pm.removeLayer({target:C}),C instanceof L.LayerGroup?(C.eachLayer(M=>{this._addDrawnLayerProp(M)}),this._addDrawnLayerProp(C)):this._addDrawnLayerProp(C),this.options.layersToCut&&L.Util.isArray(this.options.layersToCut)&&this.options.layersToCut.length>0){let M=this.options.layersToCut.indexOf(c);M>-1&&this.options.layersToCut.splice(M,1)}this._editedLayers.push({layer:C,originalLayer:c})})},_cutLayer(n,r){let a=L.geoJSON(),c;if(r instanceof L.Polygon)c=v_(r.toGeoJSON(15),n.toGeoJSON(15));else{let f=b_(r);f.forEach(m=>{let v=vo(m,n.toGeoJSON(15)),C;v&&v.features.length>0?C=L.geoJSON(v):C=L.geoJSON(m),C.getLayers().forEach(M=>{xo(n.toGeoJSON(15),M.toGeoJSON(15))||M.addTo(a)})}),f.length>1?c=x_(a):c=a.toGeoJSON(15)}return c},_change:L.Util.falseFn}),fn.Text=fn.extend({initialize(n){this._map=n,this._shape="Text",this.toolbarButtonName="drawText"},enable(n){L.Util.setOptions(this,n),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker(this._map.getCenter(),{interactive:!1,zIndexOffset:100,icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._setPane(this._hintMarker,"vertexPane"),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip(Be("tooltips.placeText"),{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.getContainer().classList.add("geoman-draw-cursor"),this._fireDrawStart(),this._setGlobalDrawMode()},disable(){var n;this._enabled&&(this._enabled=!1,this._map.off("click",this._createMarker,this),(n=this._hintMarker)==null||n.remove(),this._map.getContainer().classList.remove("geoman-draw-cursor"),this._map.off("mousemove",this._syncHintMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping(),this._fireDrawEnd(),this._setGlobalDrawMode())},enabled(){return this._enabled},toggle(n){this.enabled()?this.disable():this.enable(n)},_syncHintMarker(n){if(this._hintMarker.setLatLng(n.latlng),this.options.snappable){let r=n;r.target=this._hintMarker,this._handleSnapping(r)}},_createMarker(n){var f,m,v,C;if(!n.latlng||this.options.requireSnapToFinish&&!this._hintMarker._snapped&&!this._isFirstLayer())return;this._hintMarker._snapped||this._hintMarker.setLatLng(n.latlng);let r=this._hintMarker.getLatLng();if(this.textArea=this._createTextArea(),(f=this.options.textOptions)==null?void 0:f.className){let M=this.options.textOptions.className.split(" ");this.textArea.classList.add(...M)}let a=this._createTextIcon(this.textArea),c=new L.Marker(r,{textMarker:!0,_textMarkerOverPM:!0,icon:a});if(this._setPane(c,"markerPane"),this._finishLayer(c),c.pm||(c.options.draggable=!1),c.addTo(this._map.pm._getContainingLayer()),c.pm){c.pm.textArea=this.textArea,L.setOptions(c.pm,{removeIfEmpty:((m=this.options.textOptions)==null?void 0:m.removeIfEmpty)??!0});let M=((v=this.options.textOptions)==null?void 0:v.focusAfterDraw)??!0;c.pm._createTextMarker(M),(C=this.options.textOptions)!=null&&C.text&&c.pm.setText(this.options.textOptions.text)}this._fireCreate(c),this._cleanupSnapping(),this.disable(),this.options.continueDrawing&&this.enable()},_createTextArea(){let n=document.createElement("textarea");return n.readOnly=!0,n.classList.add("pm-textarea","pm-disabled"),n},_createTextIcon(n){return L.divIcon({className:"pm-text-marker",html:n})}});var L_={enableLayerDrag(){if(!this.options.draggable||!this._layer._map)return;this.disable(),this._layerDragEnabled=!0,this._map||(this._map=this._layer._map),(this._layer instanceof L.Marker||this._layer instanceof L.ImageOverlay)&&L.DomEvent.on(this._getDOMElem(),"dragstart",this._stopDOMImageDrag),this._layer.dragging&&this._layer.dragging.disable(),this._tempDragCoord=null,Qi(this._layer)instanceof L.Canvas?(this._layer.on("mouseout",this.removeDraggingClass,this),this._layer.on("mouseover",this.addDraggingClass,this)):this.addDraggingClass(),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0;let n=this._getDOMElem();n&&(Qi(this._layer)instanceof L.Canvas?(this._layer.on("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._addTouchEvents(n)):L.DomEvent.on(n,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._fireDragEnable()},disableLayerDrag(){this._layerDragEnabled=!1,Qi(this._layer)instanceof L.Canvas?(this._layer.off("mouseout",this.removeDraggingClass,this),this._layer.off("mouseover",this.addDraggingClass,this)):this.removeDraggingClass(),this._originalMapDragState&&this._dragging&&this._map.dragging.enable(),this._safeToCacheDragState=!1,this._layer.dragging&&this._layer.dragging.disable();let n=this._getDOMElem();n&&(Qi(this._layer)instanceof L.Canvas?(this._layer.off("touchstart mousedown",this._dragMixinOnMouseDown,this),this._map.pm._removeTouchEvents(n)):L.DomEvent.off(n,"touchstart mousedown",this._simulateMouseDownEvent,this)),this._layerDragged&&this._fireUpdate(),this._layerDragged=!1,this._fireDragDisable()},dragging(){return this._dragging},layerDragEnabled(){return!!this._layerDragEnabled},_simulateMouseDownEvent(n){let r=n.touches?n.touches[0]:n,a={originalEvent:r,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseDown(a),!1},_simulateMouseMoveEvent(n){let r=n.touches?n.touches[0]:n,a={originalEvent:r,target:this._layer};return a.containerPoint=this._map.mouseEventToContainerPoint(r),a.latlng=this._map.containerPointToLatLng(a.containerPoint),this._dragMixinOnMouseMove(a),!1},_simulateMouseUpEvent(n){let r={originalEvent:n.touches?n.touches[0]:n,target:this._layer};return n.type.indexOf("touch")===-1&&(r.containerPoint=this._map.mouseEventToContainerPoint(n),r.latlng=this._map.containerPointToLatLng(r.containerPoint)),this._dragMixinOnMouseUp(r),!1},_dragMixinOnMouseDown(n){if(n.originalEvent.button>0)return;this._overwriteEventIfItComesFromMarker(n);let r=n._fromLayerSync,a=this._syncLayers("_dragMixinOnMouseDown",n);if(this._layer instanceof L.Marker&&(this.options.snappable&&!r&&!a?this._initSnappableMarkers():this._disableSnapping()),this._layer instanceof L.CircleMarker){let c="resizeableCircleMarker";this._layer instanceof L.Circle&&(c="resizableCircle"),this.options.snappable&&!r&&!a?this._layer.pm.options[c]||this._initSnappableMarkersDrag():this._layer.pm.options[c]?this._layer.pm._disableSnapping():this._layer.pm._disableSnappingDrag()}this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=n.latlng,L.DomEvent.on(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),L.DomEvent.on(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this)},_dragMixinOnMouseMove(n){this._overwriteEventIfItComesFromMarker(n);let r=this._getDOMElem();this._syncLayers("_dragMixinOnMouseMove",n),this._dragging||(this._dragging=!0,L.DomUtil.addClass(r,"leaflet-pm-dragging"),this._layer instanceof L.Marker||this._layer.bringToFront(),this._originalMapDragState&&this._map.dragging.disable(),this._fireDragStart()),this._tempDragCoord||(this._tempDragCoord=n.latlng),this._onLayerDrag(n),this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle()},_dragMixinOnMouseUp(n){let r=this._getDOMElem();return this._syncLayers("_dragMixinOnMouseUp",n),this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0,L.DomEvent.off(this._map.getContainer(),"touchmove mousemove",this._simulateMouseMoveEvent,this),L.DomEvent.off(this._map.getContainer(),"touchend mouseup",this._simulateMouseUpEvent,this),this._dragging?(this._layer instanceof L.CircleMarker&&this._layer.pm._updateHiddenPolyCircle(),this._layerDragged=!0,window.setTimeout(()=>{this._dragging=!1,r&&L.DomUtil.removeClass(r,"leaflet-pm-dragging"),this._fireDragEnd(),this._fireEdit(),this._layerEdited=!0},10),!0):!1},_onLayerDrag(n){let{latlng:r}=n,a={lat:r.lat-this._tempDragCoord.lat,lng:r.lng-this._tempDragCoord.lng},c=f=>f.map(m=>{if(Array.isArray(m))return c(m);let v={lat:m.lat+a.lat,lng:m.lng+a.lng};return(m.alt||m.alt===0)&&(v.alt=m.alt),v});if(this._layer instanceof L.Circle&&this._layer.options.resizableCircle||this._layer instanceof L.CircleMarker&&this._layer.options.resizeableCircleMarker){let f=c([this._layer.getLatLng()]);this._layer.setLatLng(f[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.CircleMarker||this._layer instanceof L.Marker){let f=this._layer.getLatLng();this._layer._snapped&&(f=this._layer._orgLatLng);let m=c([f]);this._layer.setLatLng(m[0]),this._fireChange(this._layer.getLatLng(),"Edit")}else if(this._layer instanceof L.ImageOverlay){let f=c([this._layer.getBounds().getNorthWest(),this._layer.getBounds().getSouthEast()]);this._layer.setBounds(f),this._fireChange(this._layer.getBounds(),"Edit")}else{let f=c(this._layer.getLatLngs());this._layer.setLatLngs(f),this._fireChange(this._layer.getLatLngs(),"Edit")}this._tempDragCoord=r,n.layer=this._layer,this._fireDrag(n)},addDraggingClass(){let n=this._getDOMElem();n&&L.DomUtil.addClass(n,"leaflet-pm-draggable")},removeDraggingClass(){let n=this._getDOMElem();n&&L.DomUtil.removeClass(n,"leaflet-pm-draggable")},_getDOMElem(){let n=null;return this._layer._path?n=this._layer._path:this._layer._renderer&&this._layer._renderer._container?n=this._layer._renderer._container:this._layer._image?n=this._layer._image:this._layer._icon&&(n=this._layer._icon),n},_overwriteEventIfItComesFromMarker(n){n.target.getLatLng&&(!n.target._radius||n.target._radius<=10)&&(n.containerPoint=this._map.mouseEventToContainerPoint(n.originalEvent),n.latlng=this._map.containerPointToLatLng(n.containerPoint))},_syncLayers(n,r){if(this.enabled())return!1;if(!r._fromLayerSync&&this._layer===r.target&&this.options.syncLayersOnDrag){r._fromLayerSync=!0;let a=[];if(L.Util.isArray(this.options.syncLayersOnDrag))a=this.options.syncLayersOnDrag,this.options.syncLayersOnDrag.forEach(c=>{c instanceof L.LayerGroup&&(a=a.concat(c.pm.getLayers(!0)))});else if(this.options.syncLayersOnDrag===!0&&this._parentLayerGroup)for(let c in this._parentLayerGroup){let f=this._parentLayerGroup[c];f.pm&&(a=f.pm.getLayers(!0))}return L.Util.isArray(a)&&a.length>0&&(a=a.filter(c=>!!c.pm).filter(c=>!!c.pm.options.draggable),a.forEach(c=>{c!==this._layer&&c.pm[n]&&(c._snapped=!1,c.pm[n](r))})),a.length>0}return!1},_stopDOMImageDrag(n){return n.preventDefault(),!1}},C_=L_,w_=y(wi());function k_(n,r,a,c){return a.unproject(r.transform(a.project(n,c)),c)}function ph(n,r,a){let c=a.getMaxZoom();if(c===1/0&&(c=a.getZoom()),L.Util.isArray(n)){let f=[];return n.forEach(m=>{f.push(ph(m,r,a))}),f}return n instanceof L.LatLng?k_(n,r,a,c):null}function Ao(n,r){r instanceof L.Layer&&(r=r.getLatLng());let a=n.getMaxZoom();return a===1/0&&(a=n.getZoom()),n.project(r,a)}function qa(n,r){let a=n.getMaxZoom();return a===1/0&&(a=n.getZoom()),n.unproject(r,a)}var M_={_onRotateStart(n){this._preventRenderingMarkers(!0),this._rotationOriginLatLng=this._getRotationCenter().clone(),this._rotationOriginPoint=Ao(this._map,this._rotationOriginLatLng),this._rotationStartPoint=Ao(this._map,n.target.getLatLng()),this._initialRotateLatLng=Mi(this._layer),this._startAngle=this.getAngle();let r=Mi(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._fireRotationStart(this._rotationLayer,r),this._fireRotationStart(this._map,r)},_onRotate(n){let r=Ao(this._map,n.target.getLatLng()),a=this._rotationStartPoint,c=this._rotationOriginPoint,f=Math.atan2(r.y-c.y,r.x-c.x)-Math.atan2(a.y-c.y,a.x-c.x);this._layer.setLatLngs(this._rotateLayer(f,this._initialRotateLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let m=this;function v($,F=[],it=-1){if(it>-1&&F.push(it),L.Util.isArray($[0]))$.forEach((ht,Mt)=>v(ht,F.slice(),Mt));else{let ht=(0,w_.default)(m._markers,F);$.forEach((Mt,Vt)=>{ht[Vt].setLatLng(Mt)})}}v(this._layer.getLatLngs());let C=Mi(this._rotationLayer);this._rotationLayer.setLatLngs(this._rotateLayer(f,this._rotationLayer.pm._rotateOrgLatLng,this._rotationOriginLatLng,L.PM.Matrix.init(),this._map));let M=f*180/Math.PI;M=M<0?M+360:M;let B=M+this._startAngle;this._setAngle(B),this._rotationLayer.pm._setAngle(B),this._fireRotation(this._rotationLayer,M,C),this._fireRotation(this._map,M,C),this._rotationLayer.pm._fireChange(this._rotationLayer.getLatLngs(),"Rotation")},_onRotateEnd(){let n=this._startAngle;delete this._rotationOriginLatLng,delete this._rotationOriginPoint,delete this._rotationStartPoint,delete this._initialRotateLatLng,delete this._startAngle;let r=Mi(this._rotationLayer,this._rotationLayer.pm._rotateOrgLatLng);this._rotationLayer.pm._rotateOrgLatLng=Mi(this._rotationLayer),this._fireRotationEnd(this._rotationLayer,n,r),this._fireRotationEnd(this._map,n,r),this._rotationLayer.pm._fireEdit(this._rotationLayer,"Rotation"),this._preventRenderingMarkers(!1),this._layerRotated=!0},_rotateLayer(n,r,a,c,f){let m=Ao(f,a);return this._matrix=c.clone().rotate(n,m).flip(),ph(r,this._matrix,f)},_setAngle(n){n=n<0?n+360:n,this._angle=n%360},_getRotationCenter(){if(this._rotationCenter)return this._rotationCenter;let n=L.polygon(this._layer.getLatLngs(),{stroke:!1,fill:!1,pmIgnore:!0}).addTo(this._layer._map),r=n.getCenter();return n.removeFrom(this._layer._map),r},enableRotate(){if(!this.options.allowRotation){this.disableRotate();return}this.rotateEnabled()&&this.disableRotate(),this._layer instanceof L.Rectangle&&this._angle===void 0&&this.setInitAngle(_s(this._layer._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let n={fill:!1,stroke:!1,pmIgnore:!1,snapIgnore:!0};this._rotatePoly=L.polygon(this._layer.getLatLngs(),n),this._rotatePoly._pmTempLayer=!0,this._rotatePoly.addTo(this._layer._map),this._rotatePoly.pm._setAngle(this.getAngle()),this._rotatePoly.pm.setRotationCenter(this.getRotationCenter()),this._rotatePoly.pm.setOptions(this._layer._map.pm.getGlobalOptions()),this._rotatePoly.pm.setOptions({rotate:!0,snappable:!1,hideMiddleMarkers:!0}),this._rotatePoly.pm._rotationLayer=this._layer,this._rotatePoly.pm.enable(),this._rotateOrgLatLng=Mi(this._layer),this._rotateEnabled=!0,this._layer.on("remove",this.disableRotate,this),this._fireRotationEnable(this._layer),this._fireRotationEnable(this._layer._map)},disableRotate(){this.rotateEnabled()&&(this._rotatePoly.pm._layerRotated&&this._fireUpdate(),this._rotatePoly.pm._layerRotated=!1,this._rotatePoly.pm.disable(),this._rotatePoly.remove(),this._rotatePoly.pm.setOptions({rotate:!1}),this._rotatePoly=void 0,this._rotateOrgLatLng=void 0,this._layer.off("remove",this.disableRotate,this),this._rotateEnabled=!1,this._fireRotationDisable(this._layer),this._fireRotationDisable(this._layer._map))},rotateEnabled(){return!!this._rotateEnabled},rotateLayer(n){let r=this.getAngle(),a=this._layer.getLatLngs(),c=n*(Math.PI/180);this._layer.setLatLngs(this._rotateLayer(c,this._layer.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._layer._map)),this._rotateOrgLatLng=L.polygon(this._layer.getLatLngs()).getLatLngs(),this._setAngle(this.getAngle()+n),this.rotateEnabled()&&this._rotatePoly&&this._rotatePoly.pm.enabled()&&(this._rotatePoly.setLatLngs(this._rotateLayer(c,this._rotatePoly.getLatLngs(),this._getRotationCenter(),L.PM.Matrix.init(),this._rotatePoly._map)),this._rotatePoly.pm._initMarkers());let f=this.getAngle()-r;f=f<0?f+360:f,this._startAngle=r,this._fireRotation(this._layer,f,a,this._layer),this._fireRotation(this._map||this._layer._map,f,a,this._layer),delete this._startAngle,this._fireChange(this._layer.getLatLngs(),"Rotation")},rotateLayerToAngle(n){let r=n-this.getAngle();this.rotateLayer(r)},getAngle(){return this._angle||0},setInitAngle(n){this._setAngle(n)},getRotationCenter(){return this._getRotationCenter()},setRotationCenter(n){this._rotationCenter=n,this._rotatePoly&&this._rotatePoly.pm.setRotationCenter(n)}},E_=M_,B_=L.Class.extend({includes:[C_,gs,E_,Xi],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,allowSelfIntersectionEdit:!1,preventMarkerRemoval:!1,removeLayerBelowMinVertexCount:!0,limitMarkersToCount:-1,hideMiddleMarkers:!1,snapSegment:!0,syncLayersOnDrag:!1,draggable:!0,allowEditing:!0,allowRemoval:!0,allowCutting:!0,allowRotation:!0,addVertexOn:"click",removeVertexOn:"contextmenu",removeVertexValidation:void 0,addVertexValidation:void 0,moveVertexValidation:void 0,resizeableCircleMarker:!1,resizableCircle:!0},setOptions(n){L.Util.setOptions(this,n)},getOptions(){return this.options},applyOptions(){},isPolygon(){return this._layer instanceof L.Polygon},getShape(){return this._shape},_setPane(n,r){r==="layerPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.layerPane||"overlayPane":r==="vertexPane"?n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.vertexPane||"markerPane":r==="markerPane"&&(n.options.pane=this._map.pm.globalOptions.panes&&this._map.pm.globalOptions.panes.markerPane||"markerPane")},remove(){(this._map||this._layer._map).pm.removeLayer({target:this._layer})},_vertexValidation(n,r){let a=r.target,c={layer:this._layer,marker:a,event:r},f="";return n==="move"?f="moveVertexValidation":n==="add"?f="addVertexValidation":n==="remove"&&(f="removeVertexValidation"),this.options[f]&&typeof this.options[f]=="function"&&!this.options[f](c)?(n==="move"&&(a._cancelDragEventChain=a.getLatLng()),!1):(a._cancelDragEventChain=null,!0)},_vertexValidationDrag(n){return n._cancelDragEventChain?(n._latlng=n._cancelDragEventChain,n.update(),!1):!0},_vertexValidationDragEnd(n){return n._cancelDragEventChain?(n._cancelDragEventChain=null,!1):!0}}),vn=B_;vn.LayerGroup=L.Class.extend({initialize(n){this._layerGroup=n,this._layers=this.getLayers(),this._getMap(),this._layers.forEach(c=>this._initLayer(c));let r=c=>{if(c.layer._pmTempLayer)return;this._layers=this.getLayers();let f=this._layers.filter(m=>!m.pm._parentLayerGroup||!(this._layerGroup._leaflet_id in m.pm._parentLayerGroup));f.forEach(m=>{this._initLayer(m)}),f.length>0&&this._getMap()&&this._getMap().pm.globalEditModeEnabled()&&this.enabled()&&this.enable(this.getOptions())};this._layerGroup.on("layeradd",L.Util.throttle(r,100,this),this),this._layerGroup.on("layerremove",c=>{this._removeLayerFromGroup(c.target)},this);let a=c=>{c.target._pmTempLayer||(this._layers=this.getLayers())};this._layerGroup.on("layerremove",L.Util.throttle(a,100,this),this)},enable(n,r=[]){r.length===0&&(this._layers=this.getLayers()),this._options=n,this._layers.forEach(a=>{a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.enable(n,r)):a.pm.enable(n)})},disable(n=[]){n.length===0&&(this._layers=this.getLayers()),this._layers.forEach(r=>{r instanceof L.LayerGroup?n.indexOf(r._leaflet_id)===-1&&(n.push(r._leaflet_id),r.pm.disable(n)):r.pm.disable()})},enabled(n=[]){return n.length===0&&(this._layers=this.getLayers()),!!this._layers.find(r=>r instanceof L.LayerGroup?n.indexOf(r._leaflet_id)===-1?(n.push(r._leaflet_id),r.pm.enabled(n)):!1:r.pm.enabled())},toggleEdit(n,r=[]){r.length===0&&(this._layers=this.getLayers()),this._options=n,this._layers.forEach(a=>{a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.toggleEdit(n,r)):a.pm.toggleEdit(n)})},_initLayer(n){let r=L.Util.stamp(this._layerGroup);n.pm._parentLayerGroup||(n.pm._parentLayerGroup={}),n.pm._parentLayerGroup[r]=this._layerGroup},_removeLayerFromGroup(n){if(n.pm&&n.pm._layerGroup){let r=L.Util.stamp(this._layerGroup);delete n.pm._layerGroup[r]}},dragging(){return this._layers=this.getLayers(),this._layers?!!this._layers.find(n=>n.pm.dragging()):!1},getOptions(){return this.options},_getMap(){var n;return this._map||((n=this._layers.find(r=>!!r._map))==null?void 0:n._map)||null},getLayers(n=!1,r=!0,a=!0,c=[]){let f=[];return n?this._layerGroup.getLayers().forEach(m=>{f.push(m),m instanceof L.LayerGroup&&c.indexOf(m._leaflet_id)===-1&&(c.push(m._leaflet_id),f=f.concat(m.pm.getLayers(!0,!0,!0,c)))}):f=this._layerGroup.getLayers(),a&&(f=f.filter(m=>!(m instanceof L.LayerGroup))),r&&(f=f.filter(m=>!!m.pm),f=f.filter(m=>!m._pmTempLayer),f=f.filter(m=>!L.PM.optIn&&!m.options.pmIgnore||L.PM.optIn&&m.options.pmIgnore===!1)),f},setOptions(n,r=[]){r.length===0&&(this._layers=this.getLayers()),this.options=n,this._layers.forEach(a=>{a.pm&&(a instanceof L.LayerGroup?r.indexOf(a._leaflet_id)===-1&&(r.push(a._leaflet_id),a.pm.setOptions(n,r)):a.pm.setOptions(n))})}}),vn.Marker=vn.extend({_shape:"Marker",initialize(n){this._layer=n,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},enable(n={draggable:!0}){if(L.Util.setOptions(this,n),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._fireEnable()},disable(){this.enabled()&&(this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1)},enabled(){return this._enabled},toggleEdit(n){this.enabled()?this.disable():this.enable(n)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this.options.draggable?this.enableLayerDrag():this.disableLayerDrag(),this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_removeMarker(n){let r=n.target;r.remove(),this._fireRemove(r),this._fireRemove(this._map,r)},_onDragEnd(){this._fireEdit(),this._layerEdited=!0},_initSnappableMarkers(){let n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)}});var or=y(wi()),P_={filterMarkerGroup(){this.markerCache=[],this.createCache(),this._layer.on("pm:edit",this.createCache,this),this.applyLimitFilters({}),this.throttledApplyLimitFilters||(this.throttledApplyLimitFilters=L.Util.throttle(this.applyLimitFilters,100,this)),this._layer.on("pm:disable",this._removeMarkerLimitEvents,this),this._layer.on("remove",this._removeMarkerLimitEvents,this),this.options.limitMarkersToCount>-1&&(this._layer.on("pm:vertexremoved",this._initMarkers,this),this._map.on("mousemove",this.throttledApplyLimitFilters,this))},_removeMarkerLimitEvents(){this._map.off("mousemove",this.throttledApplyLimitFilters,this),this._layer.off("pm:edit",this.createCache,this),this._layer.off("pm:disable",this._removeMarkerLimitEvents,this),this._layer.off("pm:vertexremoved",this._initMarkers,this)},createCache(){let n=[...this._markerGroup.getLayers(),...this.markerCache];this.markerCache=n.filter((r,a,c)=>c.indexOf(r)===a)},_removeFromCache(n){let r=this.markerCache.indexOf(n);r>-1&&this.markerCache.splice(r,1)},renderLimits(n){this.markerCache.forEach(r=>{n.includes(r)?this._markerGroup.addLayer(r):this._markerGroup.removeLayer(r)})},applyLimitFilters({latlng:n={lat:0,lng:0}}){if(this._preventRenderMarkers)return;let r=[...this._filterClosestMarkers(n)];this.renderLimits(r)},_filterClosestMarkers(n){let r=[...this.markerCache],a=this.options.limitMarkersToCount;return a===-1?r:(r.sort((c,f)=>{let m=c._latlng.distanceTo(n),v=f._latlng.distanceTo(n);return m-v}),r.filter((c,f)=>a>-1?f<a:!0))},_preventRenderMarkers:!1,_preventRenderingMarkers(n){this._preventRenderMarkers=!!n}},S_=P_;vn.Line=vn.extend({includes:[S_],_shape:"Line",initialize(n){this._layer=n,this._enabled=!1},enable(n){if(L.Util.setOptions(this,n),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()&&this.disable(),this._enabled=!0,this._initMarkers(),this.applyOptions(),this._layer.on("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection?this.cachedColor=void 0:(this._layer.options.color!=="#f00000ff"?(this.cachedColor=this._layer.options.color,this.isRed=!1):this.isRed=!0,this._handleLayerStyle()),this._fireEnable()}},disable(){if(!this.enabled()||this._dragging)return;this._enabled=!1,this._markerGroup.clearLayers(),this._markerGroup.removeFrom(this._map),this._layer.off("remove",this.disable,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this);let n=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(n,"leaflet-pm-draggable"),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()},enabled(){return this._enabled},toggleEdit(n){return this.enabled()?this.disable():this.enable(n),this.enabled()},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initMarkers(){let n=this._map,r=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0;let a=c=>{if(Array.isArray(c[0]))return c.map(a,this);let f=c.map(this._createMarker,this);return this.options.hideMiddleMarkers!==!0&&c.map((m,v)=>{let C=this.isPolygon()?(v+1)%c.length:v+1;return this._createMiddleMarker(f[v],f[C])}),f};this._markers=a(r),this.filterMarkerGroup(),n.addLayer(this._markerGroup)},_createMarker(n){let r=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._pmTempLayer=!0,this.options.rotate?(r.on("dragstart",this._onRotateStart,this),r.on("drag",this._onRotate,this),r.on("dragend",this._onRotateEnd,this)):(r.on("click",this._onVertexClick,this),r.on("dragstart",this._onMarkerDragStart,this),r.on("move",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||r.on(this.options.removeVertexOn,this._removeMarker,this)),this._markerGroup.addLayer(r),r},_createMiddleMarker(n,r){if(!n||!r)return!1;let a=L.PM.Utils.calcMiddleLatLng(this._map,n.getLatLng(),r.getLatLng()),c=this._createMarker(a),f=L.divIcon({className:"marker-icon marker-icon-middle"});return c.setIcon(f),c.leftM=n,c.rightM=r,n._middleMarkerNext=c,r._middleMarkerPrev=c,c.on(this.options.addVertexOn,this._onMiddleMarkerClick,this),c.on("movestart",this._onMiddleMarkerMoveStart,this),c},_onMiddleMarkerClick(n){let r=n.target;if(!this._vertexValidation("add",n))return;let a=L.divIcon({className:"marker-icon"});r.setIcon(a),this._addMarker(r,r.leftM,r.rightM)},_onMiddleMarkerMoveStart(n){let r=n.target;if(r.on("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidation("add",n)){r.on("move",this._onMiddleMarkerMovePrevent,this);return}r._dragging=!0,this._addMarker(r,r.leftM,r.rightM)},_onMiddleMarkerMovePrevent(n){let r=n.target;this._vertexValidationDrag(r)},_onMiddleMarkerMoveEnd(n){let r=n.target;if(r.off("move",this._onMiddleMarkerMovePrevent,this),r.off("moveend",this._onMiddleMarkerMoveEnd,this),!this._vertexValidationDragEnd(r))return;let a=L.divIcon({className:"marker-icon"});r.setIcon(a),setTimeout(()=>{delete r._dragging},100)},_addMarker(n,r,a){n.off("movestart",this._onMiddleMarkerMoveStart,this),n.off(this.options.addVertexOn,this._onMiddleMarkerClick,this);let c=n.getLatLng(),f=this._layer._latlngs;delete n.leftM,delete n.rightM;let{indexPath:m,index:v,parentPath:C}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),M=m.length>1?(0,or.default)(f,C):f,B=m.length>1?(0,or.default)(this._markers,C):this._markers;M.splice(v+1,0,c),B.splice(v+1,0,n),this._layer.setLatLngs(f),this.options.hideMiddleMarkers!==!0&&(this._createMiddleMarker(r,n),this._createMiddleMarker(n,a)),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit"),this._fireVertexAdded(n,L.PM.Utils.findDeepMarkerIndex(this._markers,n).indexPath,c),this.options.snappable&&this._initSnappableMarkers()},hasSelfIntersection(){return Dr(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval(){this._handleLayerStyle(!0)&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle(n){let r=this._layer,a,c;if(this.options.allowSelfIntersection?a=!1:(c=Dr(this._layer.toGeoJSON(15)),a=c.features.length>0),a){if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!0),this.isRed)return a;n?this._flashLayer():(r.setStyle({color:"#f00000ff"}),this.isRed=!0),this._fireIntersect(c)}else r.setStyle({color:this.cachedColor}),this.isRed=!1,!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._updateDisabledMarkerStyle(this._markers,!1);return a},_flashLayer(){this.cachedColor||(this.cachedColor=this._layer.options.color),this._layer.setStyle({color:"#f00000ff"}),this.isRed=!0,window.setTimeout(()=>{this._layer.setStyle({color:this.cachedColor}),this.isRed=!1},200)},_updateDisabledMarkerStyle(n,r){n.forEach(a=>{Array.isArray(a)?this._updateDisabledMarkerStyle(a,r):a._icon&&(r&&!this._checkMarkerAllowedToDrag(a)?L.DomUtil.addClass(a._icon,"vertexmarker-disabled"):L.DomUtil.removeClass(a._icon,"vertexmarker-disabled"))})},_removeMarker(n){let r=n.target;if(!this._vertexValidation("remove",n))return;this.options.allowSelfIntersection||(this._coordsBeforeEdit=Mi(this._layer,this._layer.getLatLngs()));let a=this._layer.getLatLngs(),{indexPath:c,index:f,parentPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);if(!c)return;let v=c.length>1?(0,or.default)(a,m):a,C=c.length>1?(0,or.default)(this._markers,m):this._markers;if(!this.options.removeLayerBelowMinVertexCount&&(v.length<=2||this.isPolygon()&&v.length<=3)){this._flashLayer();return}v.splice(f,1),this._layer.setLatLngs(a),this.isPolygon()&&v.length<=2&&v.splice(0,v.length);let M=!1;if(v.length<=1&&(v.splice(0,v.length),m.length>1&&c.length>1&&(a=ki(a)),this._layer.setLatLngs(a),this._initMarkers(),M=!0),On(a)||this._layer.remove(),a=ki(a),this._layer.setLatLngs(a),this._markers=ki(this._markers),!M&&(C=c.length>1?(0,or.default)(this._markers,m):this._markers,r._middleMarkerPrev&&(this._markerGroup.removeLayer(r._middleMarkerPrev),this._removeFromCache(r._middleMarkerPrev)),r._middleMarkerNext&&(this._markerGroup.removeLayer(r._middleMarkerNext),this._removeFromCache(r._middleMarkerNext)),this._markerGroup.removeLayer(r),this._removeFromCache(r),C)){let B,$;if(this.isPolygon()?(B=(f+1)%C.length,$=(f+(C.length-1))%C.length):($=f-1<0?void 0:f-1,B=f+1>=C.length?void 0:f+1),B!==$){let F=C[$],it=C[B];this.options.hideMiddleMarkers!==!0&&this._createMiddleMarker(F,it)}C.splice(f,1)}this._fireEdit(),this._layerEdited=!0,this._fireVertexRemoved(r,c),this._fireChange(this._layer.getLatLngs(),"Edit")},updatePolygonCoordsFromMarkerDrag(n){let r=this._layer.getLatLngs(),a=n.getLatLng(),{indexPath:c,index:f,parentPath:m}=L.PM.Utils.findDeepMarkerIndex(this._markers,n);(c.length>1?(0,or.default)(r,m):r).splice(f,1,a),this._layer.setLatLngs(r)},_getNeighborMarkers(n){let{indexPath:r,index:a,parentPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,n),f=r.length>1?(0,or.default)(this._markers,c):this._markers,m=(a+1)%f.length,v=(a+(f.length-1))%f.length,C=f[v],M=f[m];return{prevMarker:C,nextMarker:M}},_checkMarkerAllowedToDrag(n){let{prevMarker:r,nextMarker:a}=this._getNeighborMarkers(n),c=L.polyline([r.getLatLng(),n.getLatLng()]),f=L.polyline([n.getLatLng(),a.getLatLng()]),m=Bn(this._layer.toGeoJSON(15),c.toGeoJSON(15)).features.length,v=Bn(this._layer.toGeoJSON(15),f.toGeoJSON(15)).features.length;return n.getLatLng()===this._markers[0][0].getLatLng()?v+=1:n.getLatLng()===this._markers[0][this._markers[0].length-1].getLatLng()&&(m+=1),!(m<=2&&v<=2)},_onMarkerDragStart(n){let r=n.target;if(this.cachedColor||(this.cachedColor=this._layer.options.color),!this._vertexValidation("move",n))return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragStart(n,a),this.options.allowSelfIntersection||(this._coordsBeforeEdit=Mi(this._layer,this._layer.getLatLngs())),!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()?this._markerAllowedToDrag=this._checkMarkerAllowedToDrag(r):this._markerAllowedToDrag=null},_onMarkerDrag(n){let r=n.target;if(!this._vertexValidationDrag(r))return;let{indexPath:a,index:c,parentPath:f}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);if(!a)return;if(!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this.hasSelfIntersection()&&this._markerAllowedToDrag===!1){this._layer.setLatLngs(this._coordsBeforeEdit),this._initMarkers(),this._handleLayerStyle();return}this.updatePolygonCoordsFromMarkerDrag(r);let m=a.length>1?(0,or.default)(this._markers,f):this._markers,v=(c+1)%m.length,C=(c+(m.length-1))%m.length,M=r.getLatLng(),B=m[C].getLatLng(),$=m[v].getLatLng();if(r._middleMarkerNext){let F=L.PM.Utils.calcMiddleLatLng(this._map,M,$);r._middleMarkerNext.setLatLng(F)}if(r._middleMarkerPrev){let F=L.PM.Utils.calcMiddleLatLng(this._map,M,B);r._middleMarkerPrev.setLatLng(F)}this.options.allowSelfIntersection||this._handleLayerStyle(),this._fireMarkerDrag(n,a),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(n){let r=n.target;if(!this._vertexValidationDragEnd(r))return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r),c=this.hasSelfIntersection();c&&this.options.allowSelfIntersectionEdit&&this._markerAllowedToDrag&&(c=!1);let f=!this.options.allowSelfIntersection&&c;if(this._fireMarkerDragEnd(n,a,f),f){this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),this.options.snappable&&this._initSnappableMarkers(),this._handleLayerStyle(),this._fireLayerReset(n,a);return}!this.options.allowSelfIntersection&&this.options.allowSelfIntersectionEdit&&this._handleLayerStyle(),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_onVertexClick(n){let r=n.target;if(r._dragging)return;let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireVertexClick(n,a)}}),vn.Polygon=vn.Line.extend({_shape:"Polygon",_checkMarkerAllowedToDrag(n){let{prevMarker:r,nextMarker:a}=this._getNeighborMarkers(n),c=L.polyline([r.getLatLng(),n.getLatLng()]),f=L.polyline([n.getLatLng(),a.getLatLng()]),m=Bn(this._layer.toGeoJSON(15),c.toGeoJSON(15)).features.length,v=Bn(this._layer.toGeoJSON(15),f.toGeoJSON(15)).features.length;return!(m<=2&&v<=2)}}),vn.Rectangle=vn.Polygon.extend({_shape:"Rectangle",_initMarkers(){let n=this._map,r=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.FeatureGroup,this._markerGroup._pmTempLayer=!0,n.addLayer(this._markerGroup),this._markers=[],this._markers[0]=r.map(this._createMarker,this),[this._cornerMarkers]=this._markers,this._layer.getLatLngs()[0].forEach((a,c)=>{let f=this._cornerMarkers.find(m=>m._index===c);f&&f.setLatLng(a)})},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping(),this._addMarkerEvents()},_createMarker(n,r){let a=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(a,"vertexPane"),a._origLatLng=n,a._index=r,a._pmTempLayer=!0,a.on("click",this._onVertexClick,this),this._markerGroup.addLayer(a),a},_addMarkerEvents(){this._markers[0].forEach(n=>{n.on("dragstart",this._onMarkerDragStart,this),n.on("drag",this._onMarkerDrag,this),n.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||n.on("contextmenu",this._removeMarker,this)})},_removeMarker(){return null},_onMarkerDragStart(n){if(!this._vertexValidation("move",n))return;let r=n.target,a=this._cornerMarkers;r._oppositeCornerLatLng=a.find(f=>f._index===(r._index+2)%4).getLatLng(),r._snapped=!1;let{indexPath:c}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragStart(n,c)},_onMarkerDrag(n){let r=n.target;if(!this._vertexValidationDrag(r)||r._index===void 0)return;this._adjustRectangleForMarkerMove(r);let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDrag(n,a),this._fireChange(this._layer.getLatLngs(),"Edit")},_onMarkerDragEnd(n){let r=n.target;if(!this._vertexValidationDragEnd(r))return;this._cornerMarkers.forEach(c=>{delete c._oppositeCornerLatLng});let{indexPath:a}=L.PM.Utils.findDeepMarkerIndex(this._markers,r);this._fireMarkerDragEnd(n,a),this._fireEdit(),this._layerEdited=!0,this._fireChange(this._layer.getLatLngs(),"Edit")},_adjustRectangleForMarkerMove(n){L.extend(n._origLatLng,n._latlng);let r=L.PM.Utils._getRotatedRectangle(n.getLatLng(),n._oppositeCornerLatLng,this.getAngle(),this._map);this._layer.setLatLngs(r),this._adjustAllMarkers(),this._layer.redraw()},_adjustAllMarkers(){let n=this._layer.getLatLngs()[0];n&&n.length!==4&&n.length>0?(n.forEach((r,a)=>{this._cornerMarkers[a].setLatLng(r)}),this._cornerMarkers.slice(n.length).forEach(r=>{r.setLatLng(n[0])})):!n||!n.length?console.error("The layer has no LatLngs"):this._cornerMarkers.forEach(r=>{r.setLatLng(n[r._index])})},_findCorners(){this._angle===void 0&&this.setInitAngle(_s(this._map,this._layer.getLatLngs()[0][0],this._layer.getLatLngs()[0][1])||0);let n=this._layer.getLatLngs()[0];return L.PM.Utils._getRotatedRectangle(n[0],n[2],this.getAngle(),this._map||this)}}),vn.CircleMarker=vn.extend({_shape:"CircleMarker",initialize(n){this._layer=n,this._enabled=!1,this._minRadiusOption="minRadiusCircleMarker",this._maxRadiusOption="maxRadiusCircleMarker",this._editableOption="resizeableCircleMarker",this._updateHiddenPolyCircle()},enable(n={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,n),this.options.editable&&(this.options.resizeableCircleMarker=this.options.editable,delete this.options.editable),!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._extendingEnable(),this._updateHiddenPolyCircle(),this._fireEnable()},_extendingEnable(){this._layer.on("pm:dragstart",this._onDragStart,this),this._layer.on("pm:drag",this._onMarkerDrag,this),this._layer.on("pm:dragend",this._onMarkerDragEnd,this)},disable(){this.dragging()||(this._map||(this._map=this._layer._map),this._map&&this.enabled()&&(this.layerDragEnabled()&&this.disableLayerDrag(),this.options[this._editableOption]?(this._helperLayers&&this._helperLayers.clearLayers(),this._map.off("move",this._syncMarkers,this),this._outerMarker.off("drag",this._handleOuterMarkerSnapping,this)):this._map.off("move",this._updateHiddenPolyCircle,this),this._extendingDisable(),this._layer.off("remove",this.disable,this),this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1))},_extendingDisable(){this._layer.off("contextmenu",this._removeMarker,this)},enabled(){return this._enabled},toggleEdit(n){this.enabled()?this.disable():this.enable(n)},applyOptions(){this.options[this._editableOption]?(this._initMarkers(),this._map.on("move",this._syncMarkers,this),this.options.snappable?(this._initSnappableMarkers(),this._outerMarker.on("drag",this._handleOuterMarkerSnapping,this),this._outerMarker.on("move",this._syncHintLine,this),this._outerMarker.on("move",this._syncCircleRadius,this),this._centerMarker.on("move",this._moveCircle,this)):this._disableSnapping()):(this.options.draggable&&this.enableLayerDrag(),this._map.on("move",this._updateHiddenPolyCircle,this),this.options.snappable?this._initSnappableMarkersDrag():this._disableSnappingDrag()),this._extendingApplyOptions()},_extendingApplyOptions(){this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this)},_initMarkers(){let n=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.FeatureGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(n);let r=this._layer.getLatLng(),a=this._layer._radius,c=this._getLatLngOnCircle(r,a);this._centerMarker=this._createCenterMarker(r),this._outerMarker=this._createOuterMarker(c),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker)},_getLatLngOnCircle(n,r){let a=this._map.project(n),c=L.point(a.x+r,a.y);return this._map.unproject(c)},_createHintLine(n,r){let a=n.getLatLng(),c=r.getLatLng();this._hintline=L.polyline([a,c],this.options.hintlineStyle),this._setPane(this._hintline,"layerPane"),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker(n){let r=this._createMarker(n);return this.options.draggable?L.DomUtil.addClass(r._icon,"leaflet-pm-draggable"):r.dragging.disable(),r},_createOuterMarker(n){let r=this._createMarker(n);return r.on("drag",this._resizeCircle,this),r},_createMarker(n){let r=new L.Marker(n,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return this._setPane(r,"vertexPane"),r._origLatLng=n,r._pmTempLayer=!0,r.on("dragstart",this._onMarkerDragStart,this),r.on("drag",this._onMarkerDrag,this),r.on("dragend",this._onMarkerDragEnd,this),r.on("click",this._onVertexClick,this),this._helperLayers.addLayer(r),r},_moveCircle(n){if(n.target._cancelDragEventChain)return;let r=this._centerMarker.getLatLng();this._layer.setLatLng(r);let a=this._layer._radius,c=this._getLatLngOnCircle(r,a);this._outerMarker._latlng=c,this._outerMarker.update(),this._syncHintLine(),this._updateHiddenPolyCircle(),this._fireCenterPlaced("Edit"),this._fireChange(this._layer.getLatLng(),"Edit")},_syncMarkers(){let n=this._layer.getLatLng(),r=this._layer._radius,a=this._getLatLngOnCircle(n,r);this._outerMarker.setLatLng(a),this._centerMarker.setLatLng(n),this._syncHintLine(),this._updateHiddenPolyCircle()},_resizeCircle(){this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker()),this._syncHintLine(),this._syncCircleRadius()},_syncCircleRadius(){let n=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),a=this._distanceCalculation(n,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._layer.setRadius(this.options[this._minRadiusOption]):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]?this._layer.setRadius(this.options[this._maxRadiusOption]):this._layer.setRadius(a),this._updateHiddenPolyCircle(),this._fireChange(this._layer.getLatLng(),"Edit")},_syncHintLine(){let n=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng();this._hintline.setLatLngs([n,r])},_removeMarker(){this.options[this._editableOption]&&this.disable(),this._layer.remove(),this._fireRemove(this._layer),this._fireRemove(this._map,this._layer)},_onDragStart(){this._map.pm.Draw.CircleMarker._layerIsDragging=!0},_onMarkerDragStart(n){this._vertexValidation("move",n)&&this._fireMarkerDragStart(n)},_onMarkerDrag(n){let r=n.target;r instanceof L.Marker&&!this._vertexValidationDrag(r)||this._fireMarkerDrag(n)},_onMarkerDragEnd(n){this._extedingMarkerDragEnd();let r=n.target;this._vertexValidationDragEnd(r)&&(this.options[this._editableOption]&&(this._fireEdit(),this._layerEdited=!0),this._fireMarkerDragEnd(n))},_extedingMarkerDragEnd(){this._map.pm.Draw.CircleMarker._layerIsDragging=!1},_initSnappableMarkersDrag(){let n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnappingDrag(){let n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)},_updateHiddenPolyCircle(){let n=this._layer._map||this._map;if(n){let r=L.PM.Utils.pxRadiusToMeterRadius(this._layer.getRadius(),n,this._layer.getLatLng()),a=L.circle(this._layer.getLatLng(),this._layer.options);a.setRadius(r);let c=n&&n.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(a,200,!c).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(a,200,!c),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)}},_getNewDestinationOfOuterMarker(){let n=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),a=this._distanceCalculation(n,r);return this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?r=Or(this._map,n,r,this._getMinDistanceInMeter(n)):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&(r=Or(this._map,n,r,this._getMaxDistanceInMeter(n))),r},_handleOuterMarkerSnapping(){if(this._outerMarker._snapped){let n=this._centerMarker.getLatLng(),r=this._outerMarker.getLatLng(),a=this._distanceCalculation(n,r);this.options[this._minRadiusOption]&&a<this.options[this._minRadiusOption]?this._outerMarker.setLatLng(this._outerMarker._orgLatLng):this.options[this._maxRadiusOption]&&a>this.options[this._maxRadiusOption]&&this._outerMarker.setLatLng(this._outerMarker._orgLatLng)}this._outerMarker.setLatLng(this._getNewDestinationOfOuterMarker())},_distanceCalculation(n,r){return this._map.project(n).distanceTo(this._map.project(r))},_getMinDistanceInMeter(n){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._minRadiusOption],this._map,n)},_getMaxDistanceInMeter(n){return L.PM.Utils.pxRadiusToMeterRadius(this.options[this._maxRadiusOption],this._map,n)},_onVertexClick(n){n.target._dragging||this._fireVertexClick(n,void 0)}}),vn.Circle=vn.CircleMarker.extend({_shape:"Circle",initialize(n){this._layer=n,this._enabled=!1,this._minRadiusOption="minRadiusCircle",this._maxRadiusOption="maxRadiusCircle",this._editableOption="resizableCircle",this._updateHiddenPolyCircle()},enable(n){L.PM.Edit.CircleMarker.prototype.enable.call(this,n||{})},_extendingEnable(){},_extendingDisable(){this._layer.off("remove",this.disable,this);let n=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(n,"leaflet-pm-draggable")},_extendingApplyOptions(){},_syncMarkers(){},_removeMarker(){},_onDragStart(){},_extedingMarkerDragEnd(){},_updateHiddenPolyCircle(){let n=this._map&&this._map.pm._isCRSSimple();this._hiddenPolyCircle?this._hiddenPolyCircle.setLatLngs(L.PM.Utils.circleToPolygon(this._layer,200,!n).getLatLngs()):this._hiddenPolyCircle=L.PM.Utils.circleToPolygon(this._layer,200,!n),this._hiddenPolyCircle._parentCopy||(this._hiddenPolyCircle._parentCopy=this._layer)},_distanceCalculation(n,r){return this._map.distance(n,r)},_getMinDistanceInMeter(){return this.options[this._minRadiusOption]},_getMaxDistanceInMeter(){return this.options[this._maxRadiusOption]},_onVertexClick(n){n.target._dragging||this._fireVertexClick(n,void 0)}}),vn.ImageOverlay=vn.extend({_shape:"ImageOverlay",initialize(n){this._layer=n,this._enabled=!1},toggleEdit(n){this.enabled()?this.disable():this.enable(n)},enabled(){return this._enabled},enable(n={draggable:!0,snappable:!0}){if(L.Util.setOptions(this,n),this._map=this._layer._map,!!this._map){if(!this.options.allowEditing){this.disable();return}this.enabled()||this.disable(),this.enableLayerDrag(),this._layer.on("remove",this.disable,this),this._enabled=!0,this._otherSnapLayers=this._findCorners(),this._fireEnable()}},disable(){this._dragging||(this._map||(this._map=this._layer._map),this.disableLayerDrag(),this._layer.off("remove",this.disable,this),this.enabled()||(this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable()),this._enabled=!1)},_findCorners(){let n=this._layer.getBounds(),r=n.getNorthWest(),a=n.getNorthEast(),c=n.getSouthEast(),f=n.getSouthWest();return[r,a,c,f]}}),vn.Text=vn.extend({_shape:"Text",initialize(n){this._layer=n,this._enabled=!1},enable(n){if(L.Util.setOptions(this,n),!!this.textArea){if(!this.options.allowEditing||!this._layer._map){this.disable();return}this._map=this._layer._map,this.enabled()&&this.disable(),this.applyOptions(),this._safeToCacheDragState=!0,this._focusChange(),this.textArea.readOnly=!1,this.textArea.classList.remove("pm-disabled"),this._layer.on("remove",this.disable,this),L.DomEvent.on(this.textArea,"input",this._autoResize,this),L.DomEvent.on(this.textArea,"focus",this._focusChange,this),L.DomEvent.on(this.textArea,"blur",this._focusChange,this),this._layer.on("dblclick",L.DomEvent.stop),L.DomEvent.off(this.textArea,"mousedown",this._preventTextSelection),this._enabled=!0,this._fireEnable()}},disable(){if(!this.enabled())return;this._layer.off("remove",this.disable,this),L.DomEvent.off(this.textArea,"input",this._autoResize,this),L.DomEvent.off(this.textArea,"focus",this._focusChange,this),L.DomEvent.off(this.textArea,"blur",this._focusChange,this),L.DomEvent.off(document,"click",this._documentClick,this),this._focusChange(),this.textArea.readOnly=!0,this.textArea.classList.add("pm-disabled");let n=document.activeElement;this.textArea.focus(),this.textArea.selectionStart=0,this.textArea.selectionEnd=0,L.DomEvent.on(this.textArea,"mousedown",this._preventTextSelection),n.focus(),this._disableOnBlurActive=!1,this._layerEdited&&this._fireUpdate(),this._layerEdited=!1,this._fireDisable(),this._enabled=!1},enabled(){return this._enabled},toggleEdit(n){this.enabled()?this.disable():this.enable(n)},applyOptions(){this.options.snappable?this._initSnappableMarkers():this._disableSnapping()},_initSnappableMarkers(){let n=this._layer;this.options.snapDistance=this.options.snapDistance||30,this.options.snapSegment=this.options.snapSegment===void 0?!0:this.options.snapSegment,n.off("pm:drag",this._handleSnapping,this),n.on("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.on("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this),n.on("pm:dragstart",this._unsnap,this)},_disableSnapping(){let n=this._layer;n.off("pm:drag",this._handleSnapping,this),n.off("pm:dragend",this._cleanupSnapping,this),n.off("pm:dragstart",this._unsnap,this)},_autoResize(){this.textArea.style.height="1px",this.textArea.style.width="1px";let n=this.textArea.scrollHeight>21?this.textArea.scrollHeight:21,r=this.textArea.scrollWidth>16?this.textArea.scrollWidth:16;this.textArea.style.height=`${n}px`,this.textArea.style.width=`${r}px`,this._layer.options.text=this.getText(),this._fireTextChange(this.getText())},_disableOnBlur(){this._disableOnBlurActive=!0,setTimeout(()=>{this.enabled()&&L.DomEvent.on(document,"click",this._documentClick,this)},100)},_documentClick(n){n.target!==this.textArea&&(this.disable(),!this.getText()&&this.options.removeIfEmpty&&this.remove())},_focusChange(n={}){let r=this._hasFocus;this._hasFocus=n.type==="focus",!r!=!this._hasFocus&&(this._hasFocus?(this._applyFocus(),this._focusText=this.getText(),this._fireTextFocus()):(this._removeFocus(),this._fireTextBlur(),this._focusText!==this.getText()&&(this._fireEdit(),this._layerEdited=!0)))},_applyFocus(){this.textArea.classList.add("pm-hasfocus"),this._map.dragging&&(this._safeToCacheDragState&&(this._originalMapDragState=this._map.dragging._enabled,this._safeToCacheDragState=!1),this._map.dragging.disable())},_removeFocus(){this._map.dragging&&(this._originalMapDragState&&this._map.dragging.enable(),this._safeToCacheDragState=!0),this.textArea.classList.remove("pm-hasfocus")},focus(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.focus()},blur(){if(!this.enabled())throw new TypeError("Layer is not enabled");this.textArea.blur(),this._disableOnBlurActive&&this.disable()},hasFocus(){return this._hasFocus},getElement(){return this.textArea},setText(n){this.textArea.value=n,this._autoResize()},getText(){return this.textArea.value},_initTextMarker(){if(this.textArea=L.PM.Draw.Text.prototype._createTextArea.call(this),this.options.className){let r=this.options.className.split(" ");this.textArea.classList.add(...r)}let n=L.PM.Draw.Text.prototype._createTextIcon.call(this,this.textArea);this._layer.setIcon(n),this._layer.once("add",this._createTextMarker,this)},_createTextMarker(n=!1){this._layer.off("add",this._createTextMarker,this),this._layer.getElement().tabIndex=-1,this.textArea.wrap="off",this.textArea.style.overflow="hidden",this.textArea.style.height=L.DomUtil.getStyle(this.textArea,"font-size"),this.textArea.style.width="1px",this._layer.options.text&&this.setText(this._layer.options.text),this._autoResize(),n===!0&&(this.enable(),this.focus(),this._disableOnBlur())},_preventTextSelection(n){n.preventDefault()}});var Du=function(n,r,a,c,f,m){this._matrix=[n,r,a,c,f,m]};Du.init=()=>new L.PM.Matrix(1,0,0,1,0,0),Du.prototype={transform(n){return this._transform(n.clone())},_transform(n){let r=this._matrix,{x:a,y:c}=n;return n.x=r[0]*a+r[1]*c+r[4],n.y=r[2]*a+r[3]*c+r[5],n},untransform(n){let r=this._matrix;return new L.Point((n.x/r[0]-r[4])/r[0],(n.y/r[2]-r[5])/r[2])},clone(){let n=this._matrix;return new L.PM.Matrix(n[0],n[1],n[2],n[3],n[4],n[5])},translate(n){if(n===void 0)return new L.Point(this._matrix[4],this._matrix[5]);let r,a;return typeof n=="number"?(r=n,a=n):(r=n.x,a=n.y),this._add(1,0,0,1,r,a)},scale(n,r){if(n===void 0)return new L.Point(this._matrix[0],this._matrix[3]);let a,c;return r=r||L.point(0,0),typeof n=="number"?(a=n,c=n):(a=n.x,c=n.y),this._add(a,0,0,c,r.x,r.y)._add(1,0,0,1,-r.x,-r.y)},rotate(n,r){let a=Math.cos(n),c=Math.sin(n);return r=r||new L.Point(0,0),this._add(a,c,-c,a,r.x,r.y)._add(1,0,0,1,-r.x,-r.y)},flip(){return this._matrix[1]*=-1,this._matrix[2]*=-1,this},_add(n,r,a,c,f,m){let v=[[],[],[]],C=this._matrix,M=[[C[0],C[2],C[4]],[C[1],C[3],C[5]],[0,0,1]],B=[[n,a,f],[r,c,m],[0,0,1]],$;n&&n instanceof L.PM.Matrix&&(C=n._matrix,B=[[C[0],C[2],C[4]],[C[1],C[3],C[5]],[0,0,1]]);for(let F=0;F<3;F+=1)for(let it=0;it<3;it+=1){$=0;for(let ht=0;ht<3;ht+=1)$+=M[F][ht]*B[ht][it];v[F][it]=$}return this._matrix=[v[0][0],v[1][0],v[0][1],v[1][1],v[0][2],v[1][2]],this}};var T_=Du,A_={calcMiddleLatLng(n,r,a){let c=n.project(r),f=n.project(a);return n.unproject(c._add(f)._divideBy(2))},findLayers(n){let r=[];return n.eachLayer(a=>{(a instanceof L.Polyline||a instanceof L.Marker||a instanceof L.Circle||a instanceof L.CircleMarker||a instanceof L.ImageOverlay)&&r.push(a)}),r=r.filter(a=>!!a.pm),r=r.filter(a=>!a._pmTempLayer),r=r.filter(a=>!L.PM.optIn&&!a.options.pmIgnore||L.PM.optIn&&a.options.pmIgnore===!1),r},circleToPolygon(n,r=60,a=!0){let c=n.getLatLng(),f=n.getRadius(),m=Ba(c,f,r,0,a),v=[];for(let C=0;C<m.length;C+=1){let M=[m[C].lat,m[C].lng];v.push(M)}return L.polygon(v,n.options)},disablePopup(n){n.getPopup()&&(n._tempPopupCopy=n.getPopup(),n.unbindPopup())},enablePopup(n){n._tempPopupCopy&&(n.bindPopup(n._tempPopupCopy),delete n._tempPopupCopy)},_fireEvent(n,r,a,c=!1){n.fire(r,a,c);let{groups:f}=this.getAllParentGroups(n);f.forEach(m=>{m.fire(r,a,c)})},getAllParentGroups(n){let r=[],a=[],c=f=>{for(let m in f._eventParents)if(r.indexOf(m)===-1){r.push(m);let v=f._eventParents[m];a.push(v),c(v)}};return!n._pmLastGroupFetch||!n._pmLastGroupFetch.time||new Date().getTime()-n._pmLastGroupFetch.time>1e3?(c(n),n._pmLastGroupFetch={time:new Date().getTime(),groups:a,groupIds:r},{groupIds:r,groups:a}):{groups:n._pmLastGroupFetch.groups,groupIds:n._pmLastGroupFetch.groupIds}},createGeodesicPolygon:Ba,getTranslation:Be,findDeepCoordIndex(n,r,a=!0){let c,f=v=>(C,M)=>{let B=v.concat(M);if(a){if(C.lat&&C.lat===r.lat&&C.lng===r.lng)return c=B,!0}else if(C.lat&&L.latLng(C).equals(r))return c=B,!0;return Array.isArray(C)&&C.some(f(B))};n.some(f([]));let m={};return c&&(m={indexPath:c,index:c[c.length-1],parentPath:c.slice(0,c.length-1)}),m},findDeepMarkerIndex(n,r){let a,c=m=>(v,C)=>{let M=m.concat(C);return v._leaflet_id===r._leaflet_id?(a=M,!0):Array.isArray(v)&&v.some(c(M))};n.some(c([]));let f={};return a&&(f={indexPath:a,index:a[a.length-1],parentPath:a.slice(0,a.length-1)}),f},_getIndexFromSegment(n,r){if(r&&r.length===2){let a=this.findDeepCoordIndex(n,r[0]),c=this.findDeepCoordIndex(n,r[1]),f=Math.max(a.index,c.index);return(a.index===0||c.index===0)&&f!==1&&(f+=1),{indexA:a,indexB:c,newIndex:f,indexPath:a.indexPath,parentPath:a.parentPath}}return null},_getRotatedRectangle(n,r,a,c){let f=Ao(c,n),m=Ao(c,r),v=a*Math.PI/180,C=Math.cos(v),M=Math.sin(v),B=(m.x-f.x)*C+(m.y-f.y)*M,$=(m.y-f.y)*C-(m.x-f.x)*M,F=B*C+f.x,it=B*M+f.y,ht=-$*M+f.x,Mt=$*C+f.y,Vt=qa(c,f),qt=qa(c,{x:F,y:it}),Pe=qa(c,m),V=qa(c,{x:ht,y:Mt});return[Vt,qt,Pe,V]},pxRadiusToMeterRadius(n,r,a){let c=r.project(a),f=L.point(c.x+n,c.y);return r.distance(r.unproject(f),a)}},O_=A_;L.PM=L.PM||{version:is.version,Map:mu,Toolbar:Ta,Draw:fn,Edit:vn,Utils:O_,Matrix:T_,activeLang:"en",optIn:!1,initialize(n){this.addInitHooks(n)},setOptIn(n){this.optIn=!!n},addInitHooks(){function n(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Map(this)):this.options.pmIgnore||(this.pm=new L.PM.Map(this)),this.pm&&this.pm.setGlobalOptions({})}L.Map.addInitHook(n);function r(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.LayerGroup(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.LayerGroup(this))}L.LayerGroup.addInitHook(r);function a(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this)):this.options.pmIgnore||(this.options.textMarker?(this.pm=new L.PM.Edit.Text(this),this.options._textMarkerOverPM||this.pm._initTextMarker(),delete this.options._textMarkerOverPM):this.pm=new L.PM.Edit.Marker(this))}L.Marker.addInitHook(a);function c(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.CircleMarker(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.CircleMarker(this))}L.CircleMarker.addInitHook(c);function f(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Line(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))}L.Polyline.addInitHook(f);function m(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Polygon(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Polygon(this))}L.Polygon.addInitHook(m);function v(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Rectangle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))}L.Rectangle.addInitHook(v);function C(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.Circle(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}L.Circle.addInitHook(C);function M(){this.pm=void 0,L.PM.optIn?this.options.pmIgnore===!1&&(this.pm=new L.PM.Edit.ImageOverlay(this)):this.options.pmIgnore||(this.pm=new L.PM.Edit.ImageOverlay(this))}L.ImageOverlay.addInitHook(M)},reInitLayer(n){n instanceof L.LayerGroup&&n.eachLayer(r=>{this.reInitLayer(r)}),n.pm||L.PM.optIn&&n.options.pmIgnore!==!1||n.options.pmIgnore||(n instanceof L.Map?n.pm=new L.PM.Map(n):n instanceof L.Marker?n.options.textMarker?(n.pm=new L.PM.Edit.Text(n),n.pm._initTextMarker(),n.pm._createTextMarker(!1)):n.pm=new L.PM.Edit.Marker(n):n instanceof L.Circle?n.pm=new L.PM.Edit.Circle(n):n instanceof L.CircleMarker?n.pm=new L.PM.Edit.CircleMarker(n):n instanceof L.Rectangle?n.pm=new L.PM.Edit.Rectangle(n):n instanceof L.Polygon?n.pm=new L.PM.Edit.Polygon(n):n instanceof L.Polyline?n.pm=new L.PM.Edit.Line(n):n instanceof L.LayerGroup?n.pm=new L.PM.Edit.LayerGroup(n):n instanceof L.ImageOverlay&&(n.pm=new L.PM.Edit.ImageOverlay(n)))}},L.version==="1.7.1"&&L.Canvas.include({_onClick(n){let r=this._map.mouseEventToLayerPoint(n),a,c;for(let f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(r)&&(!(n.type==="click"||n.type==="preclick")||!this._map._draggableMoved(a))&&(c=a);c&&(L.DomEvent.fakeStop(n),this._fireEvent([c],n))}}),L.PM.initialize()})();var Vd={exports:{}};(function(t,i){(function(s,u){u(i)})(No,function(s){var u=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(l){L.Util.setOptions(this,l),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var h=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,h?this._withAnimation:this._noAnimation),this._markerCluster=h?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(l){if(l instanceof L.LayerGroup)return this.addLayers([l]);if(!l.getLatLng)return this._nonPointGroup.addLayer(l),this.fire("layeradd",{layer:l}),this;if(!this._map)return this._needsClustering.push(l),this.fire("layeradd",{layer:l}),this;if(this.hasLayer(l))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(l,this._maxZoom),this.fire("layeradd",{layer:l}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var h=l,_=this._zoom;if(l.__parent)for(;h.__parent._zoom>=_;)h=h.__parent;return this._currentShownBounds.contains(h.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(l,h):this._animationAddLayerNonAnimated(l,h)),this},removeLayer:function(l){return l instanceof L.LayerGroup?this.removeLayers([l]):(l.getLatLng?this._map?l.__parent&&(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(l)),this._removeLayer(l,!0),this.fire("layerremove",{layer:l}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),l.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(l)&&(this._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow())):(!this._arraySplice(this._needsClustering,l)&&this.hasLayer(l)&&this._needsRemoving.push({layer:l,latlng:l._latlng}),this.fire("layerremove",{layer:l})):(this._nonPointGroup.removeLayer(l),this.fire("layerremove",{layer:l})),this)},addLayers:function(l,h){if(!L.Util.isArray(l))return this.addLayer(l);var _,y=this._featureGroup,b=this._nonPointGroup,w=this.options.chunkedLoading,k=this.options.chunkInterval,T=this.options.chunkProgress,I=l.length,G=0,J=!0;if(this._map){var st=new Date().getTime(),xt=L.bind(function(){var j=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();G<I;G++){if(w&&G%200==0){var lt=new Date().getTime()-j;if(k<lt)break}if((_=l[G])instanceof L.LayerGroup)J&&(l=l.slice(),J=!1),this._extractNonGroupLayers(_,l),I=l.length;else if(_.getLatLng){if(!this.hasLayer(_)&&(this._addLayer(_,this._maxZoom),h||this.fire("layeradd",{layer:_}),_.__parent&&_.__parent.getChildCount()===2)){var vt=_.__parent.getAllChildMarkers(),bt=vt[0]===_?vt[1]:vt[0];y.removeLayer(bt)}}else b.addLayer(_),h||this.fire("layeradd",{layer:_})}T&&T(G,I,new Date().getTime()-st),G===I?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(xt,this.options.chunkDelay)},this);xt()}else for(var yt=this._needsClustering;G<I;G++)(_=l[G])instanceof L.LayerGroup?(J&&(l=l.slice(),J=!1),this._extractNonGroupLayers(_,l),I=l.length):_.getLatLng?this.hasLayer(_)||yt.push(_):b.addLayer(_);return this},removeLayers:function(l){var h,_,y=l.length,b=this._featureGroup,w=this._nonPointGroup,k=!0;if(!this._map){for(h=0;h<y;h++)(_=l[h])instanceof L.LayerGroup?(k&&(l=l.slice(),k=!1),this._extractNonGroupLayers(_,l),y=l.length):(this._arraySplice(this._needsClustering,_),w.removeLayer(_),this.hasLayer(_)&&this._needsRemoving.push({layer:_,latlng:_._latlng}),this.fire("layerremove",{layer:_}));return this}if(this._unspiderfy){this._unspiderfy();var T=l.slice(),I=y;for(h=0;h<I;h++)(_=T[h])instanceof L.LayerGroup?(this._extractNonGroupLayers(_,T),I=T.length):this._unspiderfyLayer(_)}for(h=0;h<y;h++)(_=l[h])instanceof L.LayerGroup?(k&&(l=l.slice(),k=!1),this._extractNonGroupLayers(_,l),y=l.length):_.__parent?(this._removeLayer(_,!0,!0),this.fire("layerremove",{layer:_}),b.hasLayer(_)&&(b.removeLayer(_),_.clusterShow&&_.clusterShow())):(w.removeLayer(_),this.fire("layerremove",{layer:_}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(l){l.off(this._childMarkerEventHandlers,this),delete l.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var l=new L.LatLngBounds;this._topClusterLevel&&l.extend(this._topClusterLevel._bounds);for(var h=this._needsClustering.length-1;0<=h;h--)l.extend(this._needsClustering[h].getLatLng());return l.extend(this._nonPointGroup.getBounds()),l},eachLayer:function(l,h){var _,y,b,w=this._needsClustering.slice(),k=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(w),y=w.length-1;0<=y;y--){for(_=!0,b=k.length-1;0<=b;b--)if(k[b].layer===w[y]){_=!1;break}_&&l.call(h,w[y])}this._nonPointGroup.eachLayer(l,h)},getLayers:function(){var l=[];return this.eachLayer(function(h){l.push(h)}),l},getLayer:function(l){var h=null;return l=parseInt(l,10),this.eachLayer(function(_){L.stamp(_)===l&&(h=_)}),h},hasLayer:function(l){if(!l)return!1;var h,_=this._needsClustering;for(h=_.length-1;0<=h;h--)if(_[h]===l)return!0;for(h=(_=this._needsRemoving).length-1;0<=h;h--)if(_[h].layer===l)return!1;return!(!l.__parent||l.__parent._group!==this)||this._nonPointGroup.hasLayer(l)},zoomToShowLayer:function(l,h){var _=this._map;typeof h!="function"&&(h=function(){});var y=function(){!_.hasLayer(l)&&!_.hasLayer(l.__parent)||this._inZoomAnimation||(this._map.off("moveend",y,this),this.off("animationend",y,this),_.hasLayer(l)?h():l.__parent._icon&&(this.once("spiderfied",h,this),l.__parent.spiderfy()))};l._icon&&this._map.getBounds().contains(l.getLatLng())?h():l.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",y,this),this._map.panTo(l.getLatLng())):(this._map.on("moveend",y,this),this.on("animationend",y,this),l.__parent.zoomToBounds())},onAdd:function(l){var h,_,y;if(this._map=l,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(l),this._nonPointGroup.addTo(l),this._gridClusters||this._generateInitialClusters(),this._maxLat=l.options.crs.projection.MAX_LATITUDE,h=0,_=this._needsRemoving.length;h<_;h++)(y=this._needsRemoving[h]).newlatlng=y.layer._latlng,y.layer._latlng=y.latlng;for(h=0,_=this._needsRemoving.length;h<_;h++)y=this._needsRemoving[h],this._removeLayer(y.layer,!0),y.layer._latlng=y.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),_=this._needsClustering,this._needsClustering=[],this.addLayers(_,!0)},onRemove:function(l){l.off("zoomend",this._zoomEnd,this),l.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(l){for(var h=l;h&&!h._icon;)h=h.__parent;return h||null},_arraySplice:function(l,h){for(var _=l.length-1;0<=_;_--)if(l[_]===h)return l.splice(_,1),!0},_removeFromGridUnclustered:function(l,h){for(var _=this._map,y=this._gridUnclustered,b=Math.floor(this._map.getMinZoom());b<=h&&y[h].removeObject(l,_.project(l.getLatLng(),h));h--);},_childMarkerDragStart:function(l){l.target.__dragStart=l.target._latlng},_childMarkerMoved:function(l){if(!this._ignoreMove&&!l.target.__dragStart){var h=l.target._popup&&l.target._popup.isOpen();this._moveChild(l.target,l.oldLatLng,l.latlng),h&&l.target.openPopup()}},_moveChild:function(l,h,_){l._latlng=h,this.removeLayer(l),l._latlng=_,this.addLayer(l)},_childMarkerDragEnd:function(l){var h=l.target.__dragStart;delete l.target.__dragStart,h&&this._moveChild(l.target,h,l.target._latlng)},_removeLayer:function(l,h,_){var y=this._gridClusters,b=this._gridUnclustered,w=this._featureGroup,k=this._map,T=Math.floor(this._map.getMinZoom());h&&this._removeFromGridUnclustered(l,this._maxZoom);var I,G=l.__parent,J=G._markers;for(this._arraySplice(J,l);G&&(G._childCount--,G._boundsNeedUpdate=!0,!(G._zoom<T));)h&&G._childCount<=1?(I=G._markers[0]===l?G._markers[1]:G._markers[0],y[G._zoom].removeObject(G,k.project(G._cLatLng,G._zoom)),b[G._zoom].addObject(I,k.project(I.getLatLng(),G._zoom)),this._arraySplice(G.__parent._childClusters,G),G.__parent._markers.push(I),I.__parent=G.__parent,G._icon&&(w.removeLayer(G),_||w.addLayer(I))):G._iconNeedsUpdate=!0,G=G.__parent;delete l.__parent},_isOrIsParent:function(l,h){for(;h;){if(l===h)return!0;h=h.parentNode}return!1},fire:function(l,h,_){if(h&&h.layer instanceof L.MarkerCluster){if(h.originalEvent&&this._isOrIsParent(h.layer._icon,h.originalEvent.relatedTarget))return;l="cluster"+l}L.FeatureGroup.prototype.fire.call(this,l,h,_)},listens:function(l,h){return L.FeatureGroup.prototype.listens.call(this,l,h)||L.FeatureGroup.prototype.listens.call(this,"cluster"+l,h)},_defaultIconCreateFunction:function(l){var h=l.getChildCount(),_=" marker-cluster-";return _+=h<10?"small":h<100?"medium":"large",new L.DivIcon({html:"<div><span>"+h+"</span></div>",className:"marker-cluster"+_,iconSize:new L.Point(40,40)})},_bindEvents:function(){var l=this._map,h=this.options.spiderfyOnMaxZoom,_=this.options.showCoverageOnHover,y=this.options.zoomToBoundsOnClick,b=this.options.spiderfyOnEveryZoom;(h||y||b)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),_&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),l.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(l){var h=l.layer,_=h;if(l.type!=="clusterkeypress"||!l.originalEvent||l.originalEvent.keyCode===13){for(;_._childClusters.length===1;)_=_._childClusters[0];_._zoom===this._maxZoom&&_._childCount===h._childCount&&this.options.spiderfyOnMaxZoom?h.spiderfy():this.options.zoomToBoundsOnClick&&h.zoomToBounds(),this.options.spiderfyOnEveryZoom&&h.spiderfy(),l.originalEvent&&l.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(l){var h=this._map;this._inZoomAnimation||(this._shownPolygon&&h.removeLayer(this._shownPolygon),2<l.layer.getChildCount()&&l.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(l.layer.getConvexHull(),this.options.polygonOptions),h.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var l=this.options.spiderfyOnMaxZoom,h=this.options.showCoverageOnHover,_=this.options.zoomToBoundsOnClick,y=this.options.spiderfyOnEveryZoom,b=this._map;(l||_||y)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),h&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),b.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var l=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,l),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),l),this._currentShownBounds=l}},_generateInitialClusters:function(){var l=Math.ceil(this._map.getMaxZoom()),h=Math.floor(this._map.getMinZoom()),_=this.options.maxClusterRadius,y=_;typeof _!="function"&&(y=function(){return _}),this.options.disableClusteringAtZoom!==null&&(l=this.options.disableClusteringAtZoom-1),this._maxZoom=l,this._gridClusters={},this._gridUnclustered={};for(var b=l;h<=b;b--)this._gridClusters[b]=new L.DistanceGrid(y(b)),this._gridUnclustered[b]=new L.DistanceGrid(y(b));this._topClusterLevel=new this._markerCluster(this,h-1)},_addLayer:function(l,h){var _,y,b=this._gridClusters,w=this._gridUnclustered,k=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(l),l.on(this._childMarkerEventHandlers,this);k<=h;h--){_=this._map.project(l.getLatLng(),h);var T=b[h].getNearObject(_);if(T)return T._addChild(l),void(l.__parent=T);if(T=w[h].getNearObject(_)){var I=T.__parent;I&&this._removeLayer(T,!1);var G=new this._markerCluster(this,h,T,l);b[h].addObject(G,this._map.project(G._cLatLng,h)),T.__parent=G;var J=l.__parent=G;for(y=h-1;y>I._zoom;y--)J=new this._markerCluster(this,y,J),b[y].addObject(J,this._map.project(T.getLatLng(),y));return I._addChild(J),void this._removeFromGridUnclustered(T,h)}w[h].addObject(l,_)}this._topClusterLevel._addChild(l),l.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(l){l instanceof L.MarkerCluster&&l._iconNeedsUpdate&&l._updateIcon()})},_enqueue:function(l){this._queue.push(l),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var l=0;l<this._queue.length;l++)this._queue[l].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var l=Math.round(this._map._zoom);this._processQueue(),this._zoom<l&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,l)):this._zoom>l?(this._animationStart(),this._animationZoomOut(this._zoom,l)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(l){var h=this._maxLat;return h!==void 0&&(l.getNorth()>=h&&(l._northEast.lat=1/0),l.getSouth()<=-h&&(l._southWest.lat=-1/0)),l},_animationAddLayerNonAnimated:function(l,h){if(h===l)this._featureGroup.addLayer(l);else if(h._childCount===2){h._addToMap();var _=h.getAllChildMarkers();this._featureGroup.removeLayer(_[0]),this._featureGroup.removeLayer(_[1])}else h._updateIcon()},_extractNonGroupLayers:function(l,h){var _,y=l.getLayers(),b=0;for(h=h||[];b<y.length;b++)(_=y[b])instanceof L.LayerGroup?this._extractNonGroupLayers(_,h):h.push(_);return h},_overrideMarkerIcon:function(l){return l.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[l]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(l,h){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(l,h){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(l,h){this._animationAddLayerNonAnimated(l,h)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(l,h){var _,y=this._getExpandedVisibleBounds(),b=this._featureGroup,w=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(y,l,w,function(k){var T,I=k._latlng,G=k._markers;for(y.contains(I)||(I=null),k._isSingleParent()&&l+1===h?(b.removeLayer(k),k._recursivelyAddChildrenToMap(null,h,y)):(k.clusterHide(),k._recursivelyAddChildrenToMap(I,h,y)),_=G.length-1;0<=_;_--)T=G[_],y.contains(T._latlng)||b.removeLayer(T)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(y,h),b.eachLayer(function(k){k instanceof L.MarkerCluster||!k._icon||k.clusterShow()}),this._topClusterLevel._recursively(y,l,h,function(k){k._recursivelyRestoreChildPositions(h)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(y,l,w,function(k){b.removeLayer(k),k.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(l,h){this._animationZoomOutSingle(this._topClusterLevel,l-1,h),this._topClusterLevel._recursivelyAddChildrenToMap(null,h,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),l,this._getExpandedVisibleBounds())},_animationAddLayer:function(l,h){var _=this,y=this._featureGroup;y.addLayer(l),h!==l&&(2<h._childCount?(h._updateIcon(),this._forceLayout(),this._animationStart(),l._setPos(this._map.latLngToLayerPoint(h.getLatLng())),l.clusterHide(),this._enqueue(function(){y.removeLayer(l),l.clusterShow(),_._animationEnd()})):(this._forceLayout(),_._animationStart(),_._animationZoomOutSingle(h,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(l,h,_){var y=this._getExpandedVisibleBounds(),b=Math.floor(this._map.getMinZoom());l._recursivelyAnimateChildrenInAndAddSelfToMap(y,b,h+1,_);var w=this;this._forceLayout(),l._recursivelyBecomeVisible(y,_),this._enqueue(function(){if(l._childCount===1){var k=l._markers[0];this._ignoreMove=!0,k.setLatLng(k.getLatLng()),this._ignoreMove=!1,k.clusterShow&&k.clusterShow()}else l._recursively(y,_,b,function(T){T._recursivelyRemoveChildrenFromMap(y,b,h+1)});w._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(l){return new L.MarkerClusterGroup(l)};var p=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(l,h,_,y){L.Marker.prototype.initialize.call(this,_?_._cLatLng||_.getLatLng():new L.LatLng(0,0),{icon:this,pane:l.options.clusterPane}),this._group=l,this._zoom=h,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,_&&this._addChild(_),y&&this._addChild(y)},getAllChildMarkers:function(l,h){l=l||[];for(var _=this._childClusters.length-1;0<=_;_--)this._childClusters[_].getAllChildMarkers(l,h);for(var y=this._markers.length-1;0<=y;y--)h&&this._markers[y].__dragStart||l.push(this._markers[y]);return l},getChildCount:function(){return this._childCount},zoomToBounds:function(l){for(var h,_=this._childClusters.slice(),y=this._group._map,b=y.getBoundsZoom(this._bounds),w=this._zoom+1,k=y.getZoom();0<_.length&&w<b;){w++;var T=[];for(h=0;h<_.length;h++)T=T.concat(_[h]._childClusters);_=T}w<b?this._group._map.setView(this._latlng,w):b<=k?this._group._map.setView(this._latlng,k+1):this._group._map.fitBounds(this._bounds,l)},getBounds:function(){var l=new L.LatLngBounds;return l.extend(this._bounds),l},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(l,h){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(l),l instanceof L.MarkerCluster?(h||(this._childClusters.push(l),l.__parent=this),this._childCount+=l._childCount):(h||this._markers.push(l),this._childCount++),this.__parent&&this.__parent._addChild(l,!0)},_setClusterCenter:function(l){this._cLatLng||(this._cLatLng=l._cLatLng||l._latlng)},_resetBounds:function(){var l=this._bounds;l._southWest&&(l._southWest.lat=1/0,l._southWest.lng=1/0),l._northEast&&(l._northEast.lat=-1/0,l._northEast.lng=-1/0)},_recalculateBounds:function(){var l,h,_,y,b=this._markers,w=this._childClusters,k=0,T=0,I=this._childCount;if(I!==0){for(this._resetBounds(),l=0;l<b.length;l++)_=b[l]._latlng,this._bounds.extend(_),k+=_.lat,T+=_.lng;for(l=0;l<w.length;l++)(h=w[l])._boundsNeedUpdate&&h._recalculateBounds(),this._bounds.extend(h._bounds),_=h._wLatLng,y=h._childCount,k+=_.lat*y,T+=_.lng*y;this._latlng=this._wLatLng=new L.LatLng(k/I,T/I),this._boundsNeedUpdate=!1}},_addToMap:function(l){l&&(this._backupLatlng=this._latlng,this.setLatLng(l)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(l,h,_){this._recursively(l,this._group._map.getMinZoom(),_-1,function(y){var b,w,k=y._markers;for(b=k.length-1;0<=b;b--)(w=k[b])._icon&&(w._setPos(h),w.clusterHide())},function(y){var b,w,k=y._childClusters;for(b=k.length-1;0<=b;b--)(w=k[b])._icon&&(w._setPos(h),w.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(l,h,_,y){this._recursively(l,y,h,function(b){b._recursivelyAnimateChildrenIn(l,b._group._map.latLngToLayerPoint(b.getLatLng()).round(),_),b._isSingleParent()&&_-1===y?(b.clusterShow(),b._recursivelyRemoveChildrenFromMap(l,h,_)):b.clusterHide(),b._addToMap()})},_recursivelyBecomeVisible:function(l,h){this._recursively(l,this._group._map.getMinZoom(),h,null,function(_){_.clusterShow()})},_recursivelyAddChildrenToMap:function(l,h,_){this._recursively(_,this._group._map.getMinZoom()-1,h,function(y){if(h!==y._zoom)for(var b=y._markers.length-1;0<=b;b--){var w=y._markers[b];_.contains(w._latlng)&&(l&&(w._backupLatlng=w.getLatLng(),w.setLatLng(l),w.clusterHide&&w.clusterHide()),y._group._featureGroup.addLayer(w))}},function(y){y._addToMap(l)})},_recursivelyRestoreChildPositions:function(l){for(var h=this._markers.length-1;0<=h;h--){var _=this._markers[h];_._backupLatlng&&(_.setLatLng(_._backupLatlng),delete _._backupLatlng)}if(l-1===this._zoom)for(var y=this._childClusters.length-1;0<=y;y--)this._childClusters[y]._restorePosition();else for(var b=this._childClusters.length-1;0<=b;b--)this._childClusters[b]._recursivelyRestoreChildPositions(l)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(l,h,_,y){var b,w;this._recursively(l,h-1,_-1,function(k){for(w=k._markers.length-1;0<=w;w--)b=k._markers[w],y&&y.contains(b._latlng)||(k._group._featureGroup.removeLayer(b),b.clusterShow&&b.clusterShow())},function(k){for(w=k._childClusters.length-1;0<=w;w--)b=k._childClusters[w],y&&y.contains(b._latlng)||(k._group._featureGroup.removeLayer(b),b.clusterShow&&b.clusterShow())})},_recursively:function(l,h,_,y,b){var w,k,T=this._childClusters,I=this._zoom;if(h<=I&&(y&&y(this),b&&I===_&&b(this)),I<h||I<_)for(w=T.length-1;0<=w;w--)(k=T[w])._boundsNeedUpdate&&k._recalculateBounds(),l.intersects(k._bounds)&&k._recursively(l,h,_,y,b)},_isSingleParent:function(){return 0<this._childClusters.length&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var l=this.options.opacity;return this.setOpacity(0),this.options.opacity=l,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(l){this._cellSize=l,this._sqCellSize=l*l,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(l,h){var _=this._getCoord(h.x),y=this._getCoord(h.y),b=this._grid,w=b[y]=b[y]||{},k=w[_]=w[_]||[],T=L.Util.stamp(l);this._objectPoint[T]=h,k.push(l)},updateObject:function(l,h){this.removeObject(l),this.addObject(l,h)},removeObject:function(l,h){var _,y,b=this._getCoord(h.x),w=this._getCoord(h.y),k=this._grid,T=k[w]=k[w]||{},I=T[b]=T[b]||[];for(delete this._objectPoint[L.Util.stamp(l)],_=0,y=I.length;_<y;_++)if(I[_]===l)return I.splice(_,1),y===1&&delete T[b],!0},eachObject:function(l,h){var _,y,b,w,k,T,I=this._grid;for(_ in I)for(y in k=I[_])for(b=0,w=(T=k[y]).length;b<w;b++)l.call(h,T[b])&&(b--,w--)},getNearObject:function(l){var h,_,y,b,w,k,T,I,G=this._getCoord(l.x),J=this._getCoord(l.y),st=this._objectPoint,xt=this._sqCellSize,yt=null;for(h=J-1;h<=J+1;h++)if(b=this._grid[h]){for(_=G-1;_<=G+1;_++)if(w=b[_])for(y=0,k=w.length;y<k;y++)T=w[y],((I=this._sqDist(st[L.Util.stamp(T)],l))<xt||I<=xt&&yt===null)&&(xt=I,yt=T)}return yt},_getCoord:function(l){var h=Math.floor(l/this._cellSize);return isFinite(h)?h:l},_sqDist:function(l,h){var _=h.x-l.x,y=h.y-l.y;return _*_+y*y}},L.QuickHull={getDistant:function(l,h){var _=h[1].lat-h[0].lat;return(h[0].lng-h[1].lng)*(l.lat-h[0].lat)+_*(l.lng-h[0].lng)},findMostDistantPointFromBaseLine:function(l,h){var _,y,b,w=0,k=null,T=[];for(_=h.length-1;0<=_;_--)y=h[_],0<(b=this.getDistant(y,l))&&(T.push(y),w<b&&(w=b,k=y));return{maxPoint:k,newPoints:T}},buildConvexHull:function(l,h){var _=[],y=this.findMostDistantPointFromBaseLine(l,h);return y.maxPoint?_=(_=_.concat(this.buildConvexHull([l[0],y.maxPoint],y.newPoints))).concat(this.buildConvexHull([y.maxPoint,l[1]],y.newPoints)):[l[0]]},getConvexHull:function(l){var h,_=!1,y=!1,b=!1,w=!1,k=null,T=null,I=null,G=null,J=null,st=null;for(h=l.length-1;0<=h;h--){var xt=l[h];(_===!1||xt.lat>_)&&(_=(k=xt).lat),(y===!1||xt.lat<y)&&(y=(T=xt).lat),(b===!1||xt.lng>b)&&(b=(I=xt).lng),(w===!1||xt.lng<w)&&(w=(G=xt).lng)}return J=y!==_?(st=T,k):(st=G,I),[].concat(this.buildConvexHull([st,J],l),this.buildConvexHull([J,st],l))}},L.MarkerCluster.include({getConvexHull:function(){var l,h,_=this.getAllChildMarkers(),y=[];for(h=_.length-1;0<=h;h--)l=_[h].getLatLng(),y.push(l);return L.QuickHull.getConvexHull(y)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var l,h=this.getAllChildMarkers(null,!0),_=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),l=(this._group._spiderfied=this)._group.options.spiderfyShapePositions?this._group.options.spiderfyShapePositions(h.length,_):h.length>=this._circleSpiralSwitchover?this._generatePointsSpiral(h.length,_):(_.y+=10,this._generatePointsCircle(h.length,_)),this._animationSpiderfy(h,l)}},unspiderfy:function(l){this._group._inZoomAnimation||(this._animationUnspiderfy(l),this._group._spiderfied=null)},_generatePointsCircle:function(l,h){var _,y,b=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+l)/this._2PI,w=this._2PI/l,k=[];for(b=Math.max(b,35),k.length=l,_=0;_<l;_++)y=this._circleStartAngle+_*w,k[_]=new L.Point(h.x+b*Math.cos(y),h.y+b*Math.sin(y))._round();return k},_generatePointsSpiral:function(l,h){var _,y=this._group.options.spiderfyDistanceMultiplier,b=y*this._spiralLengthStart,w=y*this._spiralFootSeparation,k=y*this._spiralLengthFactor*this._2PI,T=0,I=[];for(_=I.length=l;0<=_;_--)_<l&&(I[_]=new L.Point(h.x+b*Math.cos(T),h.y+b*Math.sin(T))._round()),b+=k/(T+=w/b+5e-4*_);return I},_noanimationUnspiderfy:function(){var l,h,_=this._group,y=_._map,b=_._featureGroup,w=this.getAllChildMarkers(null,!0);for(_._ignoreMove=!0,this.setOpacity(1),h=w.length-1;0<=h;h--)l=w[h],b.removeLayer(l),l._preSpiderfyLatlng&&(l.setLatLng(l._preSpiderfyLatlng),delete l._preSpiderfyLatlng),l.setZIndexOffset&&l.setZIndexOffset(0),l._spiderLeg&&(y.removeLayer(l._spiderLeg),delete l._spiderLeg);_.fire("unspiderfied",{cluster:this,markers:w}),_._ignoreMove=!1,_._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(l,h){var _,y,b,w,k=this._group,T=k._map,I=k._featureGroup,G=this._group.options.spiderLegPolylineOptions;for(k._ignoreMove=!0,_=0;_<l.length;_++)w=T.layerPointToLatLng(h[_]),y=l[_],b=new L.Polyline([this._latlng,w],G),T.addLayer(b),y._spiderLeg=b,y._preSpiderfyLatlng=y._latlng,y.setLatLng(w),y.setZIndexOffset&&y.setZIndexOffset(1e6),I.addLayer(y);this.setOpacity(.3),k._ignoreMove=!1,k.fire("spiderfied",{cluster:this,markers:l})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(l,h){var _,y,b,w,k,T,I=this,G=this._group,J=G._map,st=G._featureGroup,xt=this._latlng,yt=J.latLngToLayerPoint(xt),j=L.Path.SVG,lt=L.extend({},this._group.options.spiderLegPolylineOptions),vt=lt.opacity;for(vt===void 0&&(vt=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),j?(lt.opacity=0,lt.className=(lt.className||"")+" leaflet-cluster-spider-leg"):lt.opacity=vt,G._ignoreMove=!0,_=0;_<l.length;_++)y=l[_],T=J.layerPointToLatLng(h[_]),b=new L.Polyline([xt,T],lt),J.addLayer(b),y._spiderLeg=b,j&&(k=(w=b._path).getTotalLength()+.1,w.style.strokeDasharray=k,w.style.strokeDashoffset=k),y.setZIndexOffset&&y.setZIndexOffset(1e6),y.clusterHide&&y.clusterHide(),st.addLayer(y),y._setPos&&y._setPos(yt);for(G._forceLayout(),G._animationStart(),_=l.length-1;0<=_;_--)T=J.layerPointToLatLng(h[_]),(y=l[_])._preSpiderfyLatlng=y._latlng,y.setLatLng(T),y.clusterShow&&y.clusterShow(),j&&((w=(b=y._spiderLeg)._path).style.strokeDashoffset=0,b.setStyle({opacity:vt}));this.setOpacity(.3),G._ignoreMove=!1,setTimeout(function(){G._animationEnd(),G.fire("spiderfied",{cluster:I,markers:l})},200)},_animationUnspiderfy:function(l){var h,_,y,b,w,k,T=this,I=this._group,G=I._map,J=I._featureGroup,st=l?G._latLngToNewLayerPoint(this._latlng,l.zoom,l.center):G.latLngToLayerPoint(this._latlng),xt=this.getAllChildMarkers(null,!0),yt=L.Path.SVG;for(I._ignoreMove=!0,I._animationStart(),this.setOpacity(1),_=xt.length-1;0<=_;_--)(h=xt[_])._preSpiderfyLatlng&&(h.closePopup(),h.setLatLng(h._preSpiderfyLatlng),delete h._preSpiderfyLatlng,k=!0,h._setPos&&(h._setPos(st),k=!1),h.clusterHide&&(h.clusterHide(),k=!1),k&&J.removeLayer(h),yt&&(w=(b=(y=h._spiderLeg)._path).getTotalLength()+.1,b.style.strokeDashoffset=w,y.setStyle({opacity:0})));I._ignoreMove=!1,setTimeout(function(){var j=0;for(_=xt.length-1;0<=_;_--)(h=xt[_])._spiderLeg&&j++;for(_=xt.length-1;0<=_;_--)(h=xt[_])._spiderLeg&&(h.clusterShow&&h.clusterShow(),h.setZIndexOffset&&h.setZIndexOffset(0),1<j&&J.removeLayer(h),G.removeLayer(h._spiderLeg),delete h._spiderLeg);I._animationEnd(),I.fire("unspiderfied",{cluster:T,markers:xt})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(l){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(l))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(l){this._spiderfied&&this._spiderfied.unspiderfy(l)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(l){l._spiderLeg&&(this._featureGroup.removeLayer(l),l.clusterShow&&l.clusterShow(),l.setZIndexOffset&&l.setZIndexOffset(0),this._map.removeLayer(l._spiderLeg),delete l._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(l){return l?l instanceof L.MarkerClusterGroup?l=l._topClusterLevel.getAllChildMarkers():l instanceof L.LayerGroup?l=l._layers:l instanceof L.MarkerCluster?l=l.getAllChildMarkers():l instanceof L.Marker&&(l=[l]):l=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(l),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(l),this},_flagParentsIconsNeedUpdate:function(l){var h,_;for(h in l)for(_=l[h].__parent;_;)_._iconNeedsUpdate=!0,_=_.__parent},_refreshSingleMarkerModeMarkers:function(l){var h,_;for(h in l)_=l[h],this.hasLayer(_)&&_.setIcon(this._overrideMarkerIcon(_))}}),L.Marker.include({refreshIconOptions:function(l,h){var _=this.options.icon;return L.setOptions(_,l),this.setIcon(_),h&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),s.MarkerClusterGroup=u,s.MarkerCluster=p,Object.defineProperty(s,"__esModule",{value:!0})})})(Vd,Vd.exports);const $L={__name:"VMap.client",props:{controls:{type:Boolean,default:!1},dragging:{type:Boolean,default:!1},zoomAnimate:{type:Boolean,default:!1},width:{type:String,default:void 0},height:{type:String,default:void 0},zoom:{type:Number,default:18},maxZoom:{type:Number,default:18},minZoom:{type:Number,default:0},disableZoom:{type:Boolean,default:!1},center:{type:Array,default:()=>[0,0]},geojson:{type:Object,default:void 0},zoomBounds:{type:Number,default:void 0},geojsonOptions:{type:Function,default:()=>({})},prefix:{type:[String,Boolean],default:!1},cluster:{type:Boolean,default:!1},maxClusterRadius:{type:Number,default:20},clusterIconCreateFunction:{type:Function,default:void 0}},emits:["add:layer","drag:layer","draw:start","edit:layer","geojson","geojson:ready","zoom:change","zoom:start"],setup(t,{expose:i,emit:s}){delete Hn.Icon.Default.prototype._getIconUrl,Hn.Icon.Default.mergeOptions({iconRetinaUrl:SL,iconUrl:TL,shadowUrl:AL});const u=t,p=s;let l,h,_,y;const b=Yt(null),w=ue(()=>({maxZoom:u.zoomBounds,zoom:{animate:u.zoomAnimate}}));mn(()=>u.geojson,j=>{y.clearLayers(),xt(j)},{deep:!0}),mn(()=>u.dragging,j=>{j?l.dragging.enable():l.dragging.disable()});function k(){const j={maxClusterRadius:u.maxClusterRadius};return u.clusterIconCreateFunction&&Object.assign(j,{iconCreateFunction:lt=>u.clusterIconCreateFunction({L:Hn,cluster:lt})}),j}Nn(()=>{const j=EL(Hn,{maxZoom:u.maxZoom,minZoom:u.minZoom,className:"map-tiles"}),[lt]=Object.values(j),vt={center:u.center,zoom:u.zoom,worldCopyJump:!0,dragging:u.dragging,maxZoom:u.maxZoom};u.disableZoom&&Object.assign(vt,{scrollWheelZoom:!1,zoomControl:!1,doubleClickZoom:!1,touchZoom:!1,boxZoom:!1}),_=new Hn.FeatureGroup,y=u.cluster?new Hn.markerClusterGroup(k()):new Hn.FeatureGroup,l=Hn.map(b.value,vt),l.attributionControl.setPrefix(u.prefix),l.pm.setGlobalOptions({layerGroup:_}),y.addTo(l),l.addLayer(_),l.addLayer(y),u.geojson&&xt(u.geojson),u.controls&&(l.pm.addControls({position:"topleft",drawText:!1,drawCircle:!1,drawPolyline:!1,drawCircleMarker:!1,drawMarker:!1,cutPolygon:!1}),l.on("pm:create",bt=>{p("geojson",T()),p("add:layer",G(bt.layer))}),_.on("pm:edit",bt=>{p("geojson",T()),p("edit:layer",G(bt.layer))}),l.on("pm:drawstart",bt=>{I(),p("draw:start",bt)}),l.on("zoom",bt=>p("zoom:change",bt)),l.on("zoomstart",bt=>p("zoom:start",bt))),lt.addTo(l),Object.keys(j).length>1&&Hn.control.layers(j,{},{position:"topleft",collapsed:!1}).addTo(l),st()});function T(){const j=Hn.featureGroup();return _.eachLayer(lt=>{(lt instanceof Hn.Path||lt instanceof Hn.Marker)&&lt.pm&&j.addLayer(lt)}),j.toGeoJSON()}function I(){_.clearLayers()}function G(j){const lt=j.toGeoJSON();return typeof j.getRadius=="function"&&(lt.properties.radius=j.getRadius()),lt}const J=()=>{if(!y)return;const j=y.getBounds();l.invalidateSize(),Pl(()=>{Object.keys(j).length&&l.fitBounds(j,w.value)})},st=()=>{h=new ResizeObserver(j=>{j[0].contentRect,J()}),h.observe(b.value)};no(()=>{y.clearLayers(),h==null||h.disconnect()});function xt(j){if(j){const lt={L:Hn};Hn.geoJSON(j,{...VL(lt),...u.geojsonOptions(lt)}).addTo(y);const vt=y.getBounds();vt.isValid()&&l.fitBounds(vt,w.value)}p("geojson:ready",y)}function yt(){return l}return i({clearDrawLayers:I,getMapObject:yt,resizeMap:J}),(j,lt)=>(N(),tt("div",{ref_key:"leafletMap",ref:b,style:Oi({width:u.width,height:u.height})},null,4))}};function GL(t){HL(t,Object.assign({"/src/components/Map/VMap.client.vue":$L}))}function HL(t,i){Object.entries(i).forEach(([u,p])=>{const l=u.split("/").pop().replace(/\.client.\w+$/,"");t.component(l,p)})}const UL=["innerHTML"],ZL={key:0,class:"h-4 inline",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},qL=Q("path",{"stroke-linecap":"round",d:"M16.5 12a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zm0 0c0 1.657 1.007 3 2.25 3S21 13.657 21 12a9 9 0 10-2.636 6.364M16.5 12V8.25"},null,-1),KL=[qL],WL={key:1,class:"inline h-4 w-1"},JL=Q("circle",{cy:"calc(100% - 5px)",cx:"2.5",r:"1",fill:"currentColor"},null,-1),YL=[JL],XL=["innerHTML"],QL={__name:"AddressMaker.global",props:{items:{type:Array,required:!0}},setup(t){const i=t,s=ue(()=>{const[p,...l]=i.items;return{username:p,host:l}});function u(){const[p,...l]=i.items;document.location.href=`mailto:${p}@${l.join(".")}`}return(p,l)=>(N(),tt("span",{class:"text-secondary-color cursor-pointer whitespace-nowrap",onClick:u},[Q("span",{innerHTML:s.value.username},null,8,UL),(N(!0),tt(Qt,null,Se(s.value.host,(h,_)=>(N(),tt(Qt,null,[_===0?(N(),tt("svg",ZL,KL)):(N(),tt("svg",WL,YL)),Q("span",{innerHTML:h},null,8,XL)],64))),256))]))}},tC={};function eC(t,i){return N(),At(Il,{"enter-active-class":"duration-500 ease-out origin-top","enter-from-class":"transform opacity-0 scale-y-0","enter-to-class":"opacity-100 scale-y-100","leave-active-class":"duration-200 ease-in origin-top","leave-from-class":"opacity-100 scale-y-100","leave-to-class":"transform opacity-0 scale-y-0"},{default:pt(()=>[Ue(t.$slots,"default")]),_:3})}const nC=ye(tC,[["render",eC]]),iC={},rC={viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",stroke:"green"},oC=Cg('<g fill="none" fill-rule="evenodd"><g transform="translate(1 1)" stroke-width="2"><circle stroke-opacity=".5" cx="18" cy="18" r="18"></circle><path d="M36 18c0-9.94-8.06-18-18-18"><animateTransform attributeName="transform" type="rotate" from="0 18 18" to="360 18 18" dur="1s" repeatCount="indefinite"></animateTransform></path></g></g>',1),sC=[oC];function aC(t,i){return N(),tt("svg",rC,sC)}const lC=ye(iC,[["render",aC]]),uC={class:"autocomplete md:block md:mr-0 mr-3 relative w-fit"},cC={class:"flex absolute inset-y-0 left-0 items-center pl-3 pointer-events-none"},hC=["placeholder"],dC={key:1,class:"autocomplete__list list absolute z-[500] max-h-52 w-full overflow-y-auto border bg-base-foreground border-base-border !m-0 shadow-md"},pC=["onClick"],fC=["innerHTML"],_C=500,mC={__name:"Autocomplete.global",props:{autofocus:{type:Boolean,default:!1},placeholder:{type:String,default:"Search..."},url:{type:String,required:!0},queryParam:{type:String,default:"term"},params:{type:Object,default:()=>({})},label:{type:String,default:"label"}},emits:["select"],setup(t,{emit:i}){const s=t,u=i,p=Yt(""),l=Yt([]),h=Yt(!1),_=Yt(null);let y;mn(p,w=>{clearTimeout(y),w.length?y=setTimeout(()=>{h.value=!0,bn.get(s.url,{params:{...s.params,[s.queryParam]:p.value}}).then(({data:k})=>{h.value=!1,l.value=k})},_C):l.value=[]});const b=w=>{u("select",w),p.value=""};return Nn(()=>{s.autofocus&&_.value.focus()}),(w,k)=>{const T=ft("IconSearch");return N(),tt("div",uC,[Q("div",cC,[ot(T,{class:"w-4 h-4 text-gray-500"})]),ia(Q("input",{"onUpdate:modelValue":k[0]||(k[0]=I=>p.value=I),type:"text",autocomplete:"none",class:"autocomplete__input block box-border min-w-full p-1.5 pl-10 text-base-content rounded border sm:text-sm placeholder:text-sm dark:border-slate-700 border-gray-300 dark:placeholder:text-slate-400 focus:ring-primary-500 focus:border-primary-500",placeholder:t.placeholder,ref_key:"inputElement",ref:_},null,8,hC),[[i0,p.value]]),h.value?(N(),At(lC,{key:0,class:"absolute top-1/2 -translate-y-1/2 right-2 h-5 w-5"})):Gt("",!0),l.value.length?(N(),tt("ul",dC,[(N(!0),tt(Qt,null,Se(l.value,I=>(N(),tt("li",{key:I.id,class:"autocomplete__item px-3 py-2 border-b text-xs text-base-content cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 border-base-border truncate",onClick:G=>b(I)},[Q("span",{innerHTML:I[t.label]},null,8,fC)],8,pC))),128))])):Gt("",!0)])}}},a_=ye(mC,[["__scopeId","data-v-bd0dac97"]]),gC={__name:"AutocompleteOtu.global",props:{autofocus:{type:Boolean,default:!1}},setup(t){const i=oa(),s=({id:u,otu_valid_id:p})=>{i.push({name:"otus-id-overview",params:{id:p||u}})};return(u,p)=>(N(),At(a_,{url:"/otus/autocomplete","query-param":"term",label:"label_html",autofocus:t.autofocus,params:{having_taxon_name_only:!0},onSelect:s},null,8,["autofocus"]))}},yC=["title"],vC={__name:"ButtonExpand.global",props:{modelValue:{type:Boolean,required:!0}},emits:["update:modelValue"],setup(t,{emit:i}){const s=t,u=i,p=ue({get(){return s.modelValue},set(l){u("update:modelValue",l)}});return(l,h)=>{const _=ft("IconMinusCircle"),y=ft("IconPlusCircle");return N(),tt("button",{type:"button",title:p.value?"Close":"Expand",class:"button-expand bg-base-foreground text-secondary-color w-5 h-5",onClick:h[0]||(h[0]=b=>p.value=!p.value)},[p.value?(N(),At(_,{key:0,class:"w-5 h-5"})):(N(),At(y,{key:1,class:"w-5 h-5"}))],8,yC)}}},bC={__name:"VButton.global",props:{primary:{type:Boolean,default:!1},secondary:{type:Boolean,default:!1}},setup(t){return(i,s)=>(N(),tt("button",{type:"button",class:kn(["px-3","py-1","hover:bg-opacity-80",{"bg-primary-color":t.primary,"bg-secondary-color":t.secondary,"text-primary-content":t.primary,"text-secondary-content":t.secondary}])},[Ue(i.$slots,"default")],2))}},xC={},LC={class:"border-1 card border-base-muted bg-base-foreground print:shadow-none print:border-0 rounded"};function CC(t,i){return N(),tt("div",LC,[Ue(t.$slots,"default")])}const wC=ye(xC,[["render",CC]]),kC={},MC={class:"p-4 pl-5 pr-5"};function EC(t,i){return N(),tt("div",MC,[Ue(t.$slots,"default")])}const BC=ye(kC,[["render",EC]]),PC={},SC={class:"p-4 pl-5 pr-5 border-b font-medium border-base-muted"};function TC(t,i){return N(),tt("div",SC,[Ue(t.$slots,"default")])}const AC=ye(PC,[["render",TC]]),OC={__name:"VClipboard.global",props:{text:{type:String,required:!0},delay:{type:Number,default:2e3}},setup(t){const i=t,s=Yt(!1);let u;function p(){navigator.clipboard.writeText(i.text).then(()=>{s.value=!0,u=setTimeout(()=>{s.value=!1},i.delay)})}return Wi(()=>{clearTimeout(u)}),(l,h)=>{const _=ft("IconCheck"),y=ft("IconClipboard"),b=ft("VButton");return N(),At(b,{class:"px-2 py-2 rounded-full",primary:"",onClick:p},{default:pt(()=>[s.value?(N(),At(_,{key:0,class:"w-4 h-4"})):(N(),At(y,{key:1,class:"w-4 h-4"}))]),_:1})}}},DC={class:"relative inline"},RC=["onClick"],IC={__name:"Dropdown.global",props:{items:{type:Array,default:()=>[]}},setup(t){const i=Yt(null),s=Yt(!1),u=()=>{s.value=!s.value},p=h=>{s.value=!1,h.action()};function l(h){var _;(!h.target||!((_=i.value)!=null&&_.contains(h.target)))&&(s.value=!1)}return Nn(()=>{document.addEventListener("pointerdown",l,{passive:!0,capture:!0})}),Wi(()=>{document.removeEventListener("pointerdown",l,{capture:!0})}),(h,_)=>(N(),tt("div",DC,[Q("button",{title:"Menu",onClick:u},[Ue(h.$slots,"button")]),s.value?(N(),tt("ul",{key:0,ref_key:"element",ref:i,class:"bg-base-foreground absolute font-normal text-sm text-base-lighter right-0 z-10 mt-2 w-56 origin-top-right rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none"},[(N(!0),tt(Qt,null,Se(t.items,y=>(N(),tt("li",{key:y.label,class:"block w-full px-4 py-2 text-left cursor-pointer hover:bg-secondary-color hover:bg-opacity-5 box-border border-b border-base-border last:border-b-0",onClick:b=>p(y)},ae(y.label),9,RC))),128))],512)):Gt("",!0)]))}};function l_({props:t}){const i=Yt([]);function s(u){var p,l;return{id:u.id,objectId:u.depiction_object_id,objectType:u.depiction_object_type,objectLabel:u.depiction_object.label,label:u.label,imageOriginal:u.image.original,imageMedium:u.image.medium,attribution:((p=u.attribution)==null?void 0:p.label)||"",labelAttribution:[u.depiction_object.label,((l=u.attribution)==null?void 0:l.label)||""].join(" ")}}return mn(()=>t.depictionId,u=>{u.length&&bn.get("/depictions/gallery",{params:{depiction_id:u}}).then(({data:p})=>{i.value=p.map(s).sort((l,h)=>t.depictionId.indexOf(l.id)-t.depictionId.indexOf(h.id))})},{immediate:!0}),{depictions:i}}const FC=["src","alt"],NC={class:"bg-black bg-opacity-25 absolute h-full w-full"},jC={key:0,class:"z-10 text-white text-sm drop-shadow absolute bottom-2 right-0 px-4"},zC=["innerHTML"],VC={__name:"GalleryCarousel.global",props:{depictionId:{type:Array,default:()=>[]},interval:{type:Number,default:1e4},height:{type:String,default:"550px"}},setup(t){const i=t,{depictions:s}=l_({props:i}),u=Yt(0),p=ue(()=>({height:i.height})),l=ue(()=>s.value[u.value]||{}),h=ue(()=>l.value.objectType==="Otu"),_=ue(()=>[l.value.objectLabel,l.value.attribution].join(" "));let y=null;function b(){u.value=(u.value+1)%s.value.length}return mn(s,()=>{i.interval?(clearInterval(y),y=setInterval(b,i.interval)):u.value=Math.floor(Math.random()*s.value.length)}),Wi(()=>{clearInterval(y)}),(w,k)=>{const T=ft("RouterLink");return N(),tt("div",{class:"w-full relative",style:Oi(p.value)},[ot(Il,{name:"fade"},{default:pt(()=>[l.value.imageOriginal?(N(),tt("img",{key:l.value.imageOriginal,class:"object-cover overflow-hidden h-full w-full absolute top-0 my-0",src:l.value.imageOriginal,alt:l.value.label},null,8,FC)):Gt("",!0)]),_:1}),Q("div",NC,[Ue(w.$slots,"default",{},void 0,!0)]),l.value.objectId?(N(),tt("span",jC,[h.value?(N(),At(T,{key:0,class:"text-white decoration-transparent",to:{name:"otus-id",params:{id:l.value.objectId}},innerHTML:_.value},null,8,["to","innerHTML"])):(N(),tt("span",{key:1,innerHTML:_.value},null,8,zC))])):Gt("",!0)],4)}}},$C=ye(VC,[["__scopeId","data-v-0e946aee"]]),GC=["title"],HC=["alt","src"],UC={__name:"GalleryThumbnail",props:{image:{type:Object,required:!0},title:{type:String,default:void 0}},setup(t){return(i,s)=>(N(),tt("div",{class:"bg-base-background flex flex-col justify-center cursor-pointer w-24 max-h-20 h-20 border-base-muted rounded-md border",title:t.title},[Q("img",{class:"max-h-20 max-w-24 h-20 w-24 object-contain rounded",alt:t.title,src:t.image.thumb},null,8,HC)],8,GC))}},ZC={class:"flex flex-row overflow-x-auto print:flex-wrap gap-1.5"},u_={__name:"GalleryThumbnailList",props:{images:{type:Array,default:()=>[]},current:{type:Number,default:void 0}},emits:["selectIndex"],setup(t,{emit:i}){const s=i;return(u,p)=>(N(),tt("div",ZC,[(N(!0),tt(Qt,null,Se(t.images,(l,h)=>{var _;return N(),tt("div",{key:l.id},[ot(UC,{image:l,class:kn({"border border-secondary-color":t.current===h}),title:(_=l.depictions)==null?void 0:_.map(y=>y.label).join(";"),onClick:y=>s("selectIndex",h)},null,8,["image","class","title","onClick"])])}),128))]))}},qC={class:"h-80 max-h-80 flex items-center justify-center"},KC=["textContent"],WC=["src","alt"],JC={__name:"GalleryMainImage",props:{image:{type:Object,required:!0}},emits:["open:viewer"],setup(t,{emit:i}){const s=t,u=i,p=Yt(!1),l=Yt(null),h=Yt(null);mn(()=>s.image,b=>{b.original&&(h.value=null,p.value=!0)});function _(b){b.preventDefault(),p.value=!1,h.value="Image was not found or format is not supported"}function y(){p.value=!1}return Nn(()=>{l.value.addEventListener("load",y),l.value.addEventListener("error",_)}),(b,w)=>{var I;const k=ft("VSpinner"),T=ft("ClientOnly");return N(),tt("div",qC,[ot(T,null,{default:pt(()=>[p.value?(N(),At(k,{key:0})):Gt("",!0)]),_:1}),h.value?(N(),tt("span",{key:0,textContent:ae(h.value)},null,8,KC)):Gt("",!0),ia(Q("img",{ref_key:"imageElement",ref:l,class:"max-h-80 h-max w-100 cursor-zoom-in m-auto object-contain",src:t.image.original,alt:(I=t.image.depictions)==null?void 0:I.map(G=>G.label).join(";"),onClick:w[0]||(w[0]=G=>u("open:viewer"))},null,8,WC),[[Fl,!h.value]])])}}},YC={class:"flex flex-col"},XC={class:"flex justify-center border print:hidden bg-base-0 border-base-muted"},QC={__name:"GalleryImage.global",props:{images:{type:Array,default:()=>[]}},setup(t){const i=t,s=Yt(!1),u=Yt(0),p=ue(()=>i.images[u.value]||{}),l=()=>{u.value--},h=()=>{u.value++};return mn(()=>i.images,()=>{u.value=0},{immediate:!0}),(_,y)=>{const b=ft("ImageViewer");return N(),tt(Qt,null,[Q("div",YC,[Q("div",XC,[ot(JC,{image:p.value,"onOpen:viewer":y[0]||(y[0]=()=>s.value=!0)},null,8,["image"])]),ot(u_,{class:"pt-2 pb-2",images:t.images,onSelectIndex:y[1]||(y[1]=w=>{u.value=w})},null,8,["images"])]),s.value?(N(),At(b,{key:0,index:u.value,images:t.images,next:u.value<i.images.length-1,previous:u.value>0,onSelectIndex:y[2]||(y[2]=w=>u.value=w),onNext:y[3]||(y[3]=w=>h()),onPrevious:y[4]||(y[4]=w=>l()),onClose:y[5]||(y[5]=w=>s.value=!1)},null,8,["index","images","next","previous"])):Gt("",!0)],64)}}},tw=["src"],ew=["innerHTML"],nw={__name:"GalleryMosaic.global",props:{depictionId:{type:Array,default:()=>[]},imageHeight:{type:String,default:"112px"},imageWidth:{type:String,default:"200px"},wrap:{type:Boolean,default:!1},label:{type:Boolean,default:!1}},setup(t){const i=t,s=ue(()=>({height:i.imageHeight}));function u(l){return l.objectType==="Otu"?"RouterLink":"div"}const{depictions:p}=l_({props:i});return(l,h)=>(N(),tt("div",{class:kn(["grid","gap-2",{"grid-flow-col":!i.wrap}]),style:Oi(i.wrap&&`grid-template-columns: repeat(auto-fit, minmax(${i.imageWidth}, 1fr))`)},[(N(!0),tt(Qt,null,Se(ie(p),_=>(N(),At(qo(u(_)),{key:_.id,to:{name:"otus-id",params:{id:_.objectId}}},{default:pt(()=>[Q("img",{src:_.imageMedium,style:Oi(s.value),class:"max-w-full my-0 object-cover w-full"},null,12,tw),t.label?(N(),tt("span",{key:0,class:"text-sm",innerHTML:_.labelAttribution},null,8,ew)):Gt("",!0)]),_:2},1032,["to"]))),128))],6))}},iw={},rw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},ow=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M19 9l-7 7-7-7"},null,-1),sw=[ow];function aw(t,i){return N(),tt("svg",rw,sw)}const lw=ye(iw,[["render",aw]]),uw={},cw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},hw=Q("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M15 19l-7-7 7-7"},null,-1),dw=[hw];function pw(t,i){return N(),tt("svg",cw,dw)}const fw=ye(uw,[["render",pw]]),_w={},mw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},gw=Q("path",{class:"drop-shadow","stroke-linecap":"round","stroke-linejoin":"round",d:"M9 5l7 7-7 7"},null,-1),yw=[gw];function vw(t,i){return N(),tt("svg",mw,yw)}const bw=ye(_w,[["render",vw]]),xw={},Lw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Cw=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4.5 12.75l6 6 9-13.5"},null,-1),ww=[Cw];function kw(t,i){return N(),tt("svg",Lw,ww)}const Mw=ye(xw,[["render",kw]]),Ew={},Bw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},Pw=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z"},null,-1),Sw=[Pw];function Tw(t,i){return N(),tt("svg",Bw,Sw)}const Aw=ye(Ew,[["render",Tw]]),Ow={},Dw={xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Rw=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"},null,-1),Iw=[Rw];function Fw(t,i){return N(),tt("svg",Dw,Iw)}const Nw=ye(Ow,[["render",Fw]]),jw={},zw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},Vw=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},null,-1),$w=[Vw];function Gw(t,i){return N(),tt("svg",zw,$w)}const Hw=ye(jw,[["render",Gw]]),Uw={},Zw={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},qw=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5M16.5 12L12 16.5m0 0L7.5 12m4.5 4.5V3"},null,-1),Kw=[qw];function Ww(t,i){return N(),tt("svg",Zw,Kw)}const Jw=ye(Uw,[["render",Ww]]),Yw={},Xw={viewBox:"0 0 16 16",fill:"currentColor","aria-hidden":"true"},Qw=Q("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"},null,-1),t3=[Qw];function e3(t,i){return N(),tt("svg",Xw,t3)}const n3=ye(Yw,[["render",e3]]),i3={},r3={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},o3=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 6h16M4 12h16M4 18h16"},null,-1),s3=[o3];function a3(t,i){return N(),tt("svg",r3,s3)}const l3=ye(i3,[["render",a3]]),u3={},c3={xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 24 24"},h3=Q("path",{fill:"currentColor",d:"M5 3h2v2H5v5a2 2 0 0 1-2 2a2 2 0 0 1 2 2v5h2v2H5c-1.07-.27-2-.9-2-2v-4a2 2 0 0 0-2-2H0v-2h1a2 2 0 0 0 2-2V5a2 2 0 0 1 2-2m14 0a2 2 0 0 1 2 2v4a2 2 0 0 0 2 2h1v2h-1a2 2 0 0 0-2 2v4a2 2 0 0 1-2 2h-2v-2h2v-5a2 2 0 0 1 2-2a2 2 0 0 1-2-2V5h-2V3h2m-7 12a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m-4 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1m8 0a1 1 0 0 1 1 1a1 1 0 0 1-1 1a1 1 0 0 1-1-1a1 1 0 0 1 1-1Z"},null,-1),d3=[h3];function p3(t,i){return N(),tt("svg",c3,d3)}const f3=ye(u3,[["render",p3]]),_3={},m3={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},g3=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),y3=[g3];function v3(t,i){return N(),tt("svg",m3,y3)}const b3=ye(_3,[["render",v3]]),x3={},L3={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},C3=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3m0 0v3m0-3h3m-3 0H9m12 0a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),w3=[C3];function k3(t,i){return N(),tt("svg",L3,w3)}const M3=ye(x3,[["render",k3]]),E3={},B3={xmlns:"http://www.w3.org/2000/svg",class:"text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},P3=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"},null,-1),S3=[P3];function T3(t,i){return N(),tt("svg",B3,S3)}const A3=ye(E3,[["render",T3]]),O3={},D3={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},R3=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"},null,-1),I3=[R3];function F3(t,i){return N(),tt("svg",D3,I3)}const N3=ye(O3,[["render",F3]]),j3={},z3={xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"},V3=Q("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126zM12 15.75h.007v.008H12v-.008z"},null,-1),$3=[V3];function G3(t,i){return N(),tt("svg",z3,$3)}const H3=ye(j3,[["render",G3]]),U3={__name:"ImageAttribution",props:{attribution:{type:Object,default:()=>({})}},setup(t){return(i,s)=>(N(),tt("div",null,[Q("p",null,ae(t.attribution.label),1)]))}},Z3={__name:"ImageDepictions",props:{depictions:{type:Array,default:()=>[]}},setup(t){return(i,s)=>(N(),tt("div",null,[(N(!0),tt(Qt,null,Se(t.depictions,u=>(N(),tt("div",{key:u.id},[Q("p",null,ae(u.label),1)]))),128))]))}},q3=["innerHTML"],K3={__name:"ImageSource",props:{source:{type:Object,default:()=>({})}},setup(t){return(i,s)=>(N(),tt("div",null,[Q("p",{innerHTML:t.source.label},null,8,q3)]))}},W3={class:"p-2 text-black dark:text-white opacity-50"},J3={__name:"ImageViewerCounter",props:{currentImage:{type:Number,required:!0},totalImages:{type:Number,required:!0}},setup(t){return(i,s)=>(N(),tt("span",W3,ae(t.currentImage+1)+"/"+ae(t.totalImages),1))}},Y3={},X3={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Next image"};function Q3(t,i){const s=ft("IconArrowRight");return N(),tt("button",X3,[ot(s,{class:"h-8 w-8"})])}const tk=ye(Y3,[["render",Q3]]),ek={},nk={type:"button",class:"p-2 cursor-pointer opacity-50 bg-base-content text-base-background",title:"Previous image"};function ik(t,i){const s=ft("IconArrowLeft");return N(),tt("button",nk,[ot(s,{class:"h-8 w-8"})])}const rk=ye(ek,[["render",ik]]),ok={},sk={class:"p-2 box-border flex justify-between"};function ak(t,i){return N(),tt("div",sk,[Q("div",null,[Ue(t.$slots,"default")]),Q("div",null,[Ue(t.$slots,"right")])])}const lk=ye(ok,[["render",ak]]),uk={},ck={type:"button",class:"p-2 cursor-pointer opacity-50 text-base-content"};function hk(t,i){const s=ft("IconClose");return N(),tt("button",ck,[ot(s)])}const dk=ye(uk,[["render",hk]]),pk={class:"fixed z-[10000] h-full overflow-y-hidden overflow-x-hidden w-full top-0 left-0 flex flex-col items-center justify-center backdrop-blur-md bg-base-foreground"},fk={class:"absolute rounded-t-lg w-auto max-h-full h-auto top-12 bottom-44 left-0 right-0 flex justify-center align-middle"},_k=["textContent"],mk=["alt","src"],gk={class:"bottom-0 fixed max-w-full w-full"},yk={class:"text-base-content text-sm attributions p-6 align-middle flex justify-between flex-col text-center"},vk={class:"flex justify-center"},bk={__name:"ImageViewer.global",props:{index:{type:Number,required:!0},images:{type:Array,default:()=>[]},next:{type:Boolean,default:!1},previous:{type:Boolean,default:!1}},emits:["close","previous","next","selectIndex"],setup(t,{emit:i}){const s=t,u=i,p=({key:k})=>{switch(k){case"ArrowLeft":s.previous&&u("previous");break;case"ArrowRight":s.next&&u("next");break;case"Escape":u("close");break}},l=Yt(null),h=Yt(!1),_=Yt(null),y=ue(()=>s.images[s.index]);document.addEventListener("keyup",p);function b(){h.value=!1,_.value="Image was not found or format is not supported"}function w(){h.value=!1}return Nn(()=>{l.value.addEventListener("load",w),l.value.addEventListener("error",b),document.body.classList.add("overflow-hidden")}),no(()=>{document.removeEventListener("keyup",p),document.body.classList.remove("overflow-hidden")}),mn(()=>s.index,()=>{_.value=null,h.value=!0}),(k,T)=>{var G,J;const I=ft("VSpinner");return N(),tt("div",pk,[Q("div",{class:"min-w-96 dark:bg-slate-900 rounded-lg shadow-sm mb-24",onClick:T[3]||(T[3]=xl(()=>{},["stop"]))},[Q("div",fk,[h.value?(N(),At(I,{key:0})):Gt("",!0),_.value?(N(),tt("div",{key:1,class:"flex flex-col justify-center",textContent:ae(_.value)},null,8,_k)):Gt("",!0),ia(Q("img",{ref_key:"imageElement",ref:l,class:"mx-auto cursor-zoom-out w-auto max-w-full max-h-full h-auto my-auto",alt:(J=(G=y.value)==null?void 0:G.depictions)==null?void 0:J.map(st=>st.label).join(";"),src:y.value.original,onClick:T[0]||(T[0]=st=>u("close"))},null,8,mk),[[Fl,!_.value]]),t.next?(N(),At(tk,{key:2,class:"right-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:T[1]||(T[1]=st=>u("next"))})):Gt("",!0),t.previous?(N(),At(rk,{key:3,class:"left-0 absolute my-auto top-1/2 -translate-y-1/2",onClick:T[2]||(T[2]=st=>u("previous"))})):Gt("",!0)])]),Q("div",gk,[Q("div",yk,[ot(Z3,{class:"my-auto",depictions:y.value.depictions},null,8,["depictions"]),ot(U3,{class:"my-auto",attribution:y.value.attribution},null,8,["attribution"]),ot(K3,{class:"my-auto",source:y.value.source},null,8,["source"])]),Q("div",vk,[ot(u_,{class:"pb-2",current:t.index,images:t.images,onSelectIndex:T[4]||(T[4]=st=>u("selectIndex",st)),onClick:T[5]||(T[5]=xl(()=>{},["stop"]))},null,8,["current","images"])])]),ot(lk,{class:"w-full absolute top-0 h-12 left-0 items-center"},{right:pt(()=>[ot(dk,{onClick:T[6]||(T[6]=st=>u("close"))})]),default:pt(()=>[ot(J3,{"current-image":t.index,"total-images":t.images.length},null,8,["current-image","total-images"])]),_:1})])}}},xk="!container mx-auto p-4 sm:px-0 prose dark:prose-invert box-border",Lk={__name:"MarkdownLayout.global",props:{tag:{type:String,default:"div"},frontmatter:{type:Object,required:!0}},setup(t){const i=t,s={fullwidth:"p-4 sm:px-0 prose dark:prose-invert max-w-none",blank:"sm:px-0 prose dark:prose-invert max-w-none"},u=ue(()=>s[i.frontmatter.layout]||xk);return(p,l)=>(N(),At(qo(t.tag),{class:kn(u.value)},{default:pt(()=>[Ue(p.$slots,"default")]),_:3},8,["class"]))}},Ck={class:"w-full p-4 md:p-4 flex flex-row box-border justify-between items-center"},wk=Q("span",null,null,-1),kk={class:"bg-base-foreground overflow-x-auto h-full md:h-auto max-h-full"},Mk={__name:"VModal.global",emits:["close"],setup(t,{emit:i}){const s=i,u=p=>{p.key==="Escape"&&(p.stopPropagation(),s("close"))};return Nn(()=>{document.addEventListener("keydown",u),document.body.classList.add("overflow-hidden")}),no(()=>{document.removeEventListener("keydown",u),document.body.classList.remove("overflow-hidden")}),(p,l)=>{const h=ft("IconClose");return N(),tt("div",{class:"fixed top-0 left-0 w-full h-screen max-h-screen flex flex-col justify-center bg-black bg-opacity-50 z-[2000]",onClick:l[2]||(l[2]=_=>s("close")),onKey:l[3]||(l[3]=xl(_=>s("close"),["stop"]))},[Q("div",{class:"h-full md:h-auto mx-auto md:max-h-[70vh] bg-base-foreground container",onClick:l[1]||(l[1]=xl(()=>{},["stop"]))},[Q("div",Ck,[Ue(p.$slots,"header",{},()=>[wk]),ot(h,{class:"w-6 h-6 cursor-pointer opacity-50",onClick:l[0]||(l[0]=()=>s("close"))})]),Q("div",kk,[Ue(p.$slots,"default")]),Q("div",null,[Ue(p.$slots,"footer")])])],32)}}},Ek={"aria-disabled":"false","aria-label":"Pagination",class:"flex flex-row text-sm"},Bk=["disabled"],Pk={role:"presentation",class:"page-item"},Sk=["disabled"],Tk={key:0,class:"border border-base-border px-2 py-1.5"},Ak={key:0,class:"page-item"},Ok=["disabled","onClick"],Dk={key:1,class:"border border-base-border px-2 py-1.5"},Rk={class:"page-item"},Ik=["disabled"],Fk={role:"presentation"},Nk=["disabled"],jk={__name:"VPagination.global",props:{modelValue:{type:Number,required:!0},total:{type:Number,required:!0},per:{type:Number,required:!0},rangePages:{type:Number,default:5}},emits:["update:modelValue"],setup(t,{emit:i}){const s=t,u=i,p=ue(()=>Math.ceil(s.total/s.per)),l=ue({get:()=>s.modelValue,set:y=>{u("update:modelValue",y)}}),h=ue(()=>s.modelValue+s.rangePages),_=ue(()=>s.modelValue-s.rangePages);return(y,b)=>(N(),tt("ul",Ek,[Q("li",null,[Q("button",{type:"button",disabled:l.value<2||!p.value,"aria-label":"Go to first page",class:"border border-base-border rounded-l-md px-2 py-1.5",onClick:b[0]||(b[0]=w=>l.value=1)}," « ",8,Bk)]),Q("li",Pk,[Q("button",{type:"button",disabled:l.value<2||!p.value,"aria-label":"Go to previous page",class:"border border-base-border px-2 py-1.5",onClick:b[1]||(b[1]=w=>l.value--)}," ‹ ",8,Sk)]),t.modelValue>s.rangePages?(N(),tt("li",Tk," ... ")):Gt("",!0),(N(!0),tt(Qt,null,Se(p.value,w=>(N(),tt(Qt,{key:w},[w<h.value&&_.value<w?(N(),tt("li",Ak,[Q("button",{type:"button","aria-label":"Go to page 1",disabled:l.value===w,class:kn(["border","border-base-border","px-2","py-1.5",l.value===w?"text-primary-content bg-primary-color":"text-base-content"]),onClick:()=>l.value=w},ae(w),11,Ok)])):Gt("",!0)],64))),128)),p.value-t.modelValue>=t.rangePages?(N(),tt("li",Dk," ... ")):Gt("",!0),Q("li",Rk,[Q("button",{type:"button","aria-label":"Go to next page",class:"border border-base-border px-2 py-1.5",disabled:l.value===p.value||!p.value,onClick:b[2]||(b[2]=()=>l.value++)}," › ",8,Ik)]),Q("li",Fk,[Q("button",{type:"button",disabled:l.value===p.value||!p.value,"aria-label":"Go to last page",class:"border border-base-border rounded-r-md px-2 py-1.5",onClick:b[3]||(b[3]=()=>l.value=p.value)}," » ",8,Nk)])]))}},zk={__name:"ProjectStats.global",props:{data:{type:Array,default:()=>[]},tag:{type:String,default:"span"}},setup(t){const i=t,s=Yt({data:[]}),u=ue(()=>i.data.map(h=>h.toLowerCase())),p=ue(()=>{const h=s.value.data;return h.length?l(h):u.value.map(_=>[_,"??"])});function l(h){const _=i.data.length?h.filter(([y])=>u.value.includes(y)):h;return _.sort(([y],[b])=>u.value.indexOf(y)-u.value.indexOf(b)),_}return Nn(()=>{bn.get("/stats").then(h=>{const _=Object.entries(h.data.data).map(([y,b])=>[y.toLowerCase(),b.toLocaleString()]);s.value.data=_})}),(h,_)=>(N(),At(qo(t.tag),null,{default:pt(()=>[(N(!0),tt(Qt,null,Se(p.value,([y,b],w)=>Ue(h.$slots,"default",{type:y,value:b},()=>[Q("span",null,ae(y)+": "+ae(b)+ae(w<p.value.length-1?"; ":""),1)])),256))]),_:3}))}},Vk={key:1},$k={__name:"ClientOnly.global",setup(t){const i=Yt(!1);return Nn(()=>{i.value=!0}),(s,u)=>i.value?Ue(s.$slots,"default",{key:0}):(N(),tt("div",Vk))}},Gk={class:"inline-flex items-center text-sm"},Hk={__name:"TabItem.global",props:{to:{type:[String,Object],required:!0}},setup(t){return(i,s)=>{const u=ft("router-link");return N(),tt("li",Gk,[ot(u,{class:"p-2 pb-2 block py-2 pr-4 pl-3 text-base-content border-b-2 border-transparent","active-class":"border-b-2 !border-secondary-color font-medium",to:t.to},{default:pt(()=>[Ue(i.$slots,"default")]),_:3},8,["to"])])}}},Uk={},Zk={class:"inline-flex items-center space-x-1 md:space-x-3"};function qk(t,i){return N(),tt("ul",Zk,[Ue(t.$slots,"default")])}const Kk=ye(Uk,[["render",qk]]),Wk={},Jk={class:"relative sm:rounded-lg"},Yk={class:"w-full text-sm text-left text-gray-500 dark:text-gray-400"};function Xk(t,i){return N(),tt("div",Jk,[Q("table",Yk,[Ue(t.$slots,"default")])])}const Qk=ye(Wk,[["render",Xk]]),tM={},eM={class:"normal-case text-xs"};function nM(t,i){return N(),tt("tbody",eM,[Ue(t.$slots,"default")])}const iM=ye(tM,[["render",nM]]),rM={},oM={class:"px-4 py-4"};function sM(t,i){return N(),tt("td",oM,[Ue(t.$slots,"default")])}const aM=ye(rM,[["render",sM]]),lM={},uM={class:"bg-base-foreground border-b border-base-border"};function cM(t,i){return N(),tt("tr",uM,[Ue(t.$slots,"default")])}const hM=ye(lM,[["render",cM]]),dM={},pM={class:"text-xs text-base-content uppercase bg-base-background"};function fM(t,i){return N(),tt("thead",pM,[Ue(t.$slots,"default")])}const _M=ye(dM,[["render",fM]]),mM={},gM={class:"px-4 py-3"};function yM(t,i){return N(),tt("th",gM,[Ue(t.$slots,"default")])}const vM=ye(mM,[["render",yM]]),bM={};function xM(t,i){return N(),tt("tr",null,[Ue(t.$slots,"default")])}const LM=ye(bM,[["render",xM]]);var CM={base_url:"/afbees/",hash_mode:!0,map_tile_server:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",map_tile_attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',project_name:"Afrotropical bees",project_citation:null,project_url:null,project_authors:null,metadata:[{name:"Afrotropical Bees",content:"TaxonPages is a tool to serve taxon pages."},{name:"keywords",content:"taxonpages, species, sfg"},{name:"robots",content:"follow"}],map_tiles:[{label:"GBIF",attribution:'&copy; <a href="https://gbif.org">Basemap from GBIF</a>',server:"https://tile.gbif.org/3857/omt/{z}/{x}/{y}@1x.png?style=gbif-natural-en"}],header_logo_url:null,header_logo_text:"Afrotropical bees",header_links:[{label:"Home",link:"/"},{label:"About",link:"/about"}],copyright_image:null,copyright_image_link:null,copyright_text:"Copyright CC0",url:"https://sfg.taxonworks.org/api/v1",project_token:"w0ikO81bhEa4YbbM1P2Dwg"};const wM={key:1},kM=Q("h1",{class:"font-medium text-base px-1"},"Report a problem",-1),MM={class:"font-normal p-5 pt-0 text-base"},EM=Q("span",null,"My issue is with:",-1),BM={class:"mx-5 my-2"},PM=["href"],SM={key:0,class:"text-sm"},TM="https://github.com/SpeciesFileGroup/taxonpages/issues/new/choose",AM={__name:"TrackerReport.global",props:{buttonClass:{type:String,default:void 0},label:{type:String,default:void 0},icon:{type:Boolean,default:!1},tag:{type:String,default:"VButton"}},setup(t){const{issue_trackers:i}=CM,s=Yt(!1);function u(){i?s.value=!0:window.open(TM,"_blank")}return(p,l)=>{const h=ft("IconGithub"),_=ft("VModal");return N(),tt(Qt,null,[(N(),At(qo(t.tag),{type:"button",title:"Report a problem",class:kn(t.buttonClass),onClick:u},{default:pt(()=>[t.icon?(N(),At(h,{key:0,class:"w-5 h-5"})):Gt("",!0),t.label?(N(),tt("span",wM,ae(t.label),1)):Gt("",!0)]),_:1},8,["class"])),s.value?(N(),At(_,{key:0,class:"text-base-content",onClose:l[0]||(l[0]=y=>s.value=!1)},{header:pt(()=>[kM]),default:pt(()=>[Q("div",MM,[EM,Q("ul",BM,[(N(!0),tt(Qt,null,Se(ie(i),y=>(N(),tt("li",null,[Q("a",{href:y.url,target:"_blank"},ae(y.label),9,PM),y.description?(N(),tt("span",SM," - "+ae(y.description),1)):Gt("",!0)]))),256))])])]),_:1})):Gt("",!0)],64)}}},OM={__name:"VSkeleton.global",props:{class:{type:String,default:"w-full"},lines:{type:Number,default:1}},setup(t){const i=zm(),s=ue(()=>{var l;const p=(l=i.default)==null?void 0:l.call(i);return u(p)});function u(p){if(!p)return!0;const[l]=p;let h=l.children;return l.el!==null||h!==null}return(p,l)=>(N(),tt(Qt,null,[Ue(p.$slots,"default"),s.value?(N(),tt("span",{key:0,class:kn(t.class)},[(N(!0),tt(Qt,null,Se(t.lines,h=>(N(),tt("span",{key:h,class:"inline-block w-full rounded-sm bg-base-muted leading-5 animate-pulse"}," ‌ "))),128))],2)):Gt("",!0)],64))}},sh=t=>(Lp("data-v-3927b18d"),t=t(),Cp(),t),DM=sh(()=>Q("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"},null,-1)),RM=sh(()=>Q("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"},null,-1)),IM=[DM,RM],FM=sh(()=>Q("span",{class:"sr-only"},"Loading...",-1)),NM=["innerHTML"],jM={__name:"VSpinner.global",props:{target:{type:String,default:void 0},fullScreen:{type:Boolean,default:!1},legend:{type:String,default:"Loading, please wait."},resize:{type:Boolean,default:!0},legendStyle:{type:Object,default:()=>({})},legendClass:{type:String,default:"mt-5"},showLegend:{type:Boolean,default:!0},showSpinner:{type:Boolean,default:!0},spinnerPosition:{type:String,default:"top"},logoSize:{type:Object,default:()=>({})},logoClass:{type:String,default:"w-12 h-12"}},setup(t){const i={position:"fixed",width:"100vw",height:"100vh",top:"0px",left:"0px"},s=t,u=Yt(null),p=Yt({}),l=Yt(void 0);Nn(()=>{h(),s.resize&&!s.fullScreen&&y()}),no(()=>clearInterval(l.value));const h=()=>{const b=s.target?document.querySelector(s.target):u.value.parentNode;Object.assign(p.value,s.fullScreen?i:_(b))},_=b=>{const w=b.getBoundingClientRect(),k=window.getComputedStyle(b,null),T=parseInt(k.getPropertyValue("padding-left"),10),I=parseInt(k.getPropertyValue("padding-right"),10),G=parseInt(k.getPropertyValue("padding-top"),10),J=parseInt(k.getPropertyValue("padding-bottom"),10);return{position:"absolute",width:w.width-T-I+"px",height:w.height-G-J+"px"}},y=()=>{l.value=setInterval(h(),500)};return(b,w)=>(N(),tt("div",{ref_key:"spinnerElement",ref:u,class:"box-spinner mx-spinner absolute bg-base-foreground opacity-90 h-full flex items-center",style:Oi(p.value)},[Q("div",{class:kn(["tw-spinner",`tw-spinner-${t.spinnerPosition}`])},[t.showSpinner?(N(),tt("svg",{key:0,style:Oi(t.logoSize),"aria-hidden":"true",class:kn(["text-base-lighter","animate-spin fill-primary-color",t.logoClass]),viewBox:"0 0 100 101",fill:"none",xmlns:"http://www.w3.org/2000/svg"},IM,6)):Gt("",!0),FM,t.legend.length?(N(),tt("div",{key:1,class:kn(["text-base-content","text-center",t.legendClass]),style:Oi(t.legendStyle)},[t.showLegend?(N(),tt("span",{key:0,innerHTML:t.legend},null,8,NM)):Gt("",!0),Ue(b.$slots,"default",{},void 0,!0)],6)):Gt("",!0)],2)],4))}},zM=ye(jM,[["__scopeId","data-v-3927b18d"]]);function VM(t){$M(t,Object.assign({"/src/components/AddressMaker.global.vue":QL,"/src/components/Animation/AnimationOpacity.global.vue":nC,"/src/components/Autocomplete/Autocomplete.global.vue":a_,"/src/components/Autocomplete/AutocompleteOtu.global.vue":gC,"/src/components/Button/ButtonExpand.global.vue":vC,"/src/components/Button/VButton.global.vue":bC,"/src/components/Card/VCard.global.vue":wC,"/src/components/Card/VCardContent.global.vue":BC,"/src/components/Card/VCardHeader.global.vue":AC,"/src/components/Clipboard/VClipboard.global.vue":OC,"/src/components/Dropdown/Dropdown.global.vue":IC,"/src/components/Gallery/GalleryCarousel/GalleryCarousel.global.vue":$C,"/src/components/Gallery/GalleryImage.global.vue":QC,"/src/components/Gallery/GalleryMosaic/GalleryMosaic.global.vue":nw,"/src/components/Icon/IconArrowDown.global.vue":lw,"/src/components/Icon/IconArrowLeft.global.vue":fw,"/src/components/Icon/IconArrowRight.global.vue":bw,"/src/components/Icon/IconCheck.global.vue":Mw,"/src/components/Icon/IconClipboard.global.vue":Aw,"/src/components/Icon/IconClose.global.vue":Nw,"/src/components/Icon/IconDocument.global.vue":Hw,"/src/components/Icon/IconDownload.global.vue":Jw,"/src/components/Icon/IconGithub.global.vue":n3,"/src/components/Icon/IconHamburger.global.vue":l3,"/src/components/Icon/IconJson.global.vue":f3,"/src/components/Icon/IconMinusCircle.global.vue":b3,"/src/components/Icon/IconPlusCircle.global.vue":M3,"/src/components/Icon/IconSearch.global.vue":A3,"/src/components/Icon/IconTrash.global.vue":N3,"/src/components/Icon/IconWarning.global.vue":H3,"/src/components/ImageViewer/ImageViewer.global.vue":bk,"/src/components/Markdown/MarkdownLayout.global.vue":Lk,"/src/components/Modal/VModal.global.vue":Mk,"/src/components/Pagination/VPagination.global.vue":jk,"/src/components/ProjectStats.global.vue":zk,"/src/components/Ssr/ClientOnly.global.vue":$k,"/src/components/Tab/TabItem.global.vue":Hk,"/src/components/Tab/TabMenu.global.vue":Kk,"/src/components/Table/VTable.global.vue":Qk,"/src/components/Table/VTableBody.global.vue":iM,"/src/components/Table/VTableBodyCell.global.vue":aM,"/src/components/Table/VTableBodyRow.global.vue":hM,"/src/components/Table/VTableHeader.global.vue":_M,"/src/components/Table/VTableHeaderCell.global.vue":vM,"/src/components/Table/VTableHeaderRow.global.vue":LM,"/src/components/TrackerReport.global.vue":AM,"/src/components/VSkeleton.global.vue":OM,"/src/components/VSpinner.global.vue":zM}))}function $M(t,i){Object.entries(i).forEach(([u,p])=>{const l=u.split("/").pop().replace(/\.client.global.\w+$/,"").replace(/\.global.\w+$/,"");t.component(l,p)})}const GM=window.location.origin,$d=window.initialState,{app:ah,router:HM,store:UM}=LL({originUrl:GM});$d&&(UM.state.value=$d);GL(ah);VM(ah);HM.isReady().then(()=>{ah.mount("#app")});export{Q as a,pe as b,At as c,ot as d,N as o,ft as r,ae as t,pt as w};
